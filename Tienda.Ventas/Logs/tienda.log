2020-12-11 00:04:20.570 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 00:04:20.749 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 00:04:20.781 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 00:04:20.784 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 00:04:20.784 -04:00 [VRB] All hosts are allowed.
2020-12-11 00:04:20.788 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 00:04:20.809 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 00:04:20.814 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 00:04:20.815 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.816 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.824 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 00:04:20.839 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 00:04:20.843 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 00:04:20.843 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 00:04:20.843 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.847 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 00:04:20.851 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9543ms.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.853 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 00:04:20.853 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 00:04:20.855 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 00:04:20.855 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 00:04:20.855 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 00:04:20.855 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 00:04:20.856 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 00:04:20.879 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 00:04:20.879 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.879 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.882 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.8952ms
2020-12-11 00:04:20.883 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.884 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.5260 ms
2020-12-11 00:04:20.886 -04:00 [INF] Request finished in 107.9413ms 200 application/json; charset=utf-8
2020-12-11 00:04:25.593 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/get-all  
2020-12-11 00:04:25.593 -04:00 [VRB] All hosts are allowed.
2020-12-11 00:04:25.594 -04:00 [DBG] The request path /api/productos/get-all does not match a supported file type
2020-12-11 00:04:25.594 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/get-all'
2020-12-11 00:04:25.595 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/get-all' is valid for the request path '/api/productos/get-all'
2020-12-11 00:04:25.595 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:25.595 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:25.607 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 00:04:25.607 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 00:04:25.607 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:25.608 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 00:04:25.609 -04:00 [INF] Obteniendo productos...
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.255 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 00:04:26.315 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 00:04:26.333 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 00:04:26.334 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 00:04:26.480 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 00:04:26.512 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 00:04:26.542 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-11 00:04:26.547 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.802 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.809 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 00:04:26.840 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 00:04:26.877 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.892 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.907 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.918 -04:00 [DBG] A data reader was disposed.
2020-12-11 00:04:26.920 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.924 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.928 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1320.5574ms.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 00:04:26.930 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 00:04:26.930 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 00:04:26.930 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 00:04:26.930 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 00:04:26.930 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 00:04:26.930 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 00:04:26.934 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 00:04:26.934 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.934 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.934 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1327.3204ms
2020-12-11 00:04:26.935 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:26.935 -04:00 [INF] HTTP GET /api/productos/get-all responded 200 in 1341.8670 ms
2020-12-11 00:04:26.937 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 00:04:26.938 -04:00 [INF] Request finished in 1344.9382ms 200 application/json; charset=utf-8
2020-12-11 12:09:18.029 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:09:18.267 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:09:18.308 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:09:18.310 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:09:18.311 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:18.316 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:09:18.340 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:09:18.344 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:09:18.344 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.345 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.352 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:09:18.369 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:09:18.372 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:09:18.372 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:09:18.373 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:09:18.374 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.375 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.378 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:09:18.382 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8071ms.
2020-12-11 12:09:18.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:09:18.384 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:09:18.386 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:09:18.386 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:09:18.386 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:09:18.386 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:09:18.386 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:09:18.418 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:09:18.418 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.418 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.421 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 45.4804ms
2020-12-11 12:09:18.421 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.422 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 105.0000 ms
2020-12-11 12:09:18.426 -04:00 [INF] Request finished in 119.9499ms 200 application/json; charset=utf-8
2020-12-11 12:09:18.518 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-11 12:09:18.518 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:18.528 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-11 12:09:18.529 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-11 12:09:18.529 -04:00 [DBG] Request did not match any endpoints
2020-12-11 12:09:18.529 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.7828 ms
2020-12-11 12:09:18.530 -04:00 [INF] Request finished in 11.8863ms 404 
2020-12-11 12:09:56.749 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:09:56.749 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:56.752 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:09:56.752 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:09:56.752 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:09:56.752 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:56.752 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:56.793 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:09:56.793 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:09:56.794 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:56.794 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:09:56.795 -04:00 [INF] Obteniendo productos...
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.504 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:09:57.576 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 12:09:57.594 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:09:57.595 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:09:57.736 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 12:09:57.767 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:09:57.803 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2020-12-11 12:09:57.809 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.118 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.125 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:09:58.160 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:09:58.195 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.210 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.225 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.234 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:09:58.237 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.241 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.245 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1451.1793ms.
2020-12-11 12:09:58.245 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:09:58.246 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:09:58.247 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:09:58.247 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:09:58.247 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:09:58.247 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:09:58.247 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 12:09:58.251 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:09:58.251 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.251 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.251 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1458.0354ms
2020-12-11 12:09:58.252 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:58.252 -04:00 [INF] HTTP GET /api/productos responded 200 in 1500.4280 ms
2020-12-11 12:09:58.253 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:09:58.255 -04:00 [INF] Request finished in 1506.6287ms 200 application/json; charset=utf-8
2020-12-11 12:12:25.661 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:12:25.839 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:12:25.874 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:12:25.876 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:12:25.877 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:12:25.881 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:12:25.901 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:12:25.904 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:12:25.905 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.906 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.913 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:12:25.926 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:12:25.930 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:12:25.930 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:12:25.930 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:12:25.930 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.934 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:12:25.938 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8166ms.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:12:25.940 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:12:25.941 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:12:25.941 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:12:25.941 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:12:25.942 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:12:25.942 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:12:25.963 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:12:25.963 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.963 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.966 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.5969ms
2020-12-11 12:12:25.966 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.968 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 85.1368 ms
2020-12-11 12:12:25.970 -04:00 [INF] Request finished in 98.7266ms 200 application/json; charset=utf-8
2020-12-11 12:13:20.521 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-11 12:13:20.521 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:13:20.521 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-11 12:13:20.522 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-11 12:13:20.522 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-11 12:13:20.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:20.522 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:20.537 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:13:20.537 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:13:20.537 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:13:20.541 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-11 12:13:20.542 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-11 12:13:20.542 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.542 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.543 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-11 12:13:20.544 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:20.545 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:13:20.545 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-11 12:13:20.546 -04:00 [INF] Obteniendo producto con ID 
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.160 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:13:21.236 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-11 12:13:21.262 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:13:21.263 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:13:21.388 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-11 12:13:21.416 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:13:21.443 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2020-12-11 12:13:21.468 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.689 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.698 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-11 12:13:21.738 -04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-11 12:13:21.770 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.783 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.796 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.807 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:13:21.809 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.813 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.816 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1271.3965ms.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:13:21.818 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:13:21.818 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:13:21.818 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:13:21.818 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:13:21.818 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:13:21.818 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-11 12:13:21.821 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:13:21.821 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.821 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.821 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 1284.1487ms
2020-12-11 12:13:21.822 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:21.822 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 200 in 1300.9773 ms
2020-12-11 12:13:21.823 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:13:21.824 -04:00 [INF] Request finished in 1303.663ms 200 application/json; charset=utf-8
2020-12-11 12:24:45.439 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:24:45.612 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:24:45.639 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:24:45.641 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:24:45.642 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:24:45.646 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:24:45.667 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:24:45.670 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:24:45.671 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.672 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.679 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:24:45.692 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:24:45.696 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:24:45.696 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:24:45.696 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.700 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:24:45.703 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7308ms.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:24:45.705 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:24:45.706 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:24:45.706 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:24:45.707 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:24:45.707 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:24:45.707 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:24:45.729 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:24:45.729 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.729 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.732 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.686ms
2020-12-11 12:24:45.732 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.733 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 86.2347 ms
2020-12-11 12:24:45.735 -04:00 [INF] Request finished in 99.4965ms 200 application/json; charset=utf-8
2020-12-11 12:28:14.551 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 54
2020-12-11 12:28:14.551 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:28:14.552 -04:00 [DBG] POST requests are not supported
2020-12-11 12:28:14.552 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:28:14.552 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:28:14.553 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:14.553 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:14.567 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:28:14.568 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:28:14.568 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:28:14.568 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:14.568 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:14.571 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-11 12:28:14.573 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-11 12:28:14.573 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-11 12:28:14.580 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-11 12:28:14.580 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.580 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.580 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-11 12:28:14.583 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:14.584 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:28:14.584 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-11 12:28:14.585 -04:00 [INF] Insertando producto con los parametros
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.189 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:28:15.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.258 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.263 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.265 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-11 12:28:15.269 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-11 12:28:15.275 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-11 12:28:15.322 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.562 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.564 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-11 12:28:15.572 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-11 12:28:15.613 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:28:15.618 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-11 12:28:15.633 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [nombre], [precio])
VALUES (@p0, @p1, @p2);
2020-12-11 12:28:15.673 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [nombre], [precio])
VALUES (@p0, @p1, @p2);
2020-12-11 12:28:15.678 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:28:15.681 -04:00 [DBG] Committing transaction.
2020-12-11 12:28:15.684 -04:00 [DBG] Committed transaction.
2020-12-11 12:28:15.686 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.690 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.691 -04:00 [DBG] Disposing transaction.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.698 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-11 12:28:15.701 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1116.5203ms.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:15.702 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:28:15.702 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:28:15.702 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:28:15.702 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:28:15.702 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:28:15.702 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:28:15.704 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:15.704 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.705 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.705 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 1137.3348ms
2020-12-11 12:28:15.705 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:15.706 -04:00 [INF] HTTP POST /api/productos responded 200 in 1154.2328 ms
2020-12-11 12:28:15.708 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:28:15.709 -04:00 [INF] Request finished in 1182.3911ms 200 text/plain; charset=utf-8
2020-12-11 12:28:21.611 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:28:21.612 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:28:21.612 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:28:21.613 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:28:21.613 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:28:21.614 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.614 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.631 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:28:21.632 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:21.632 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.633 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:28:21.634 -04:00 [INF] Obteniendo productos...
2020-12-11 12:28:21.662 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:28:21.704 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 12:28:21.722 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:28:21.722 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:28:21.838 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 12:28:21.859 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:28:21.859 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 12:28:21.859 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.860 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.860 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:28:21.868 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:28:21.881 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.883 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.884 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.886 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:28:21.886 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.886 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.887 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 254.1678ms.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:21.888 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:28:21.888 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:28:21.888 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:28:21.888 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:28:21.888 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:28:21.888 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 12:28:21.890 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:21.890 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.890 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.890 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 257.6881ms
2020-12-11 12:28:21.890 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.890 -04:00 [INF] HTTP GET /api/productos responded 200 in 277.3260 ms
2020-12-11 12:28:21.890 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:28:21.890 -04:00 [INF] Request finished in 279.2498ms 200 application/json; charset=utf-8
2020-12-11 12:43:30.121 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:43:30.299 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:43:30.328 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:43:30.330 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:43:30.330 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:43:30.334 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:43:30.356 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:43:30.360 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:43:30.361 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.362 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.368 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:43:30.382 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:43:30.386 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:43:30.386 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:43:30.386 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:43:30.386 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.390 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:43:30.394 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7291ms.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:43:30.396 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:43:30.397 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:43:30.397 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:43:30.397 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:43:30.398 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:43:30.398 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:43:30.420 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:43:30.420 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.420 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.423 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 34.4438ms
2020-12-11 12:43:30.423 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.424 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 88.4352 ms
2020-12-11 12:43:30.427 -04:00 [INF] Request finished in 101.5469ms 200 application/json; charset=utf-8
2020-12-11 12:43:42.006 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:43:42.006 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:43:42.006 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:43:42.007 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:43:42.007 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:43:42.007 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:43:42.008 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:43:42.017 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:43:42.017 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:43:42.017 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:42.017 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:43:50.190 -04:00 [INF] Obteniendo productos...
2020-12-11 12:44:08.266 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 41
2020-12-11 12:44:08.345 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 26327.1059ms.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:44:08.345 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:44:08.345 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:44:08.346 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:44:08.346 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:44:08.346 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:44:08.346 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:44:08.348 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:44:08.348 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.348 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.348 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 26330.9932ms
2020-12-11 12:44:08.348 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:44:08.348 -04:00 [INF] HTTP GET /api/productos responded 400 in 26342.0381 ms
2020-12-11 12:44:08.349 -04:00 [INF] Request finished in 26343.7656ms 400 text/plain; charset=utf-8
2020-12-11 12:44:56.053 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:44:56.227 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:44:56.256 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:44:56.258 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:44:56.258 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:44:56.262 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:44:56.281 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:44:56.284 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:44:56.285 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.286 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.292 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:44:56.305 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:44:56.308 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:44:56.309 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:44:56.310 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.313 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:44:56.317 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7461ms.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.318 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:44:56.319 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:44:56.320 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:44:56.320 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:44:56.320 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:44:56.320 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:44:56.320 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:44:56.342 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:44:56.342 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.343 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.346 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.7099ms
2020-12-11 12:44:56.346 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.347 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 83.3279 ms
2020-12-11 12:44:56.349 -04:00 [INF] Request finished in 95.6858ms 200 application/json; charset=utf-8
2020-12-11 12:45:03.911 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:45:03.912 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:45:03.912 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:45:03.913 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:45:03.913 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:45:03.913 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:45:03.913 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:45:03.923 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:45:03.923 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:45:03.924 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:45:03.924 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:45:21.943 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:33.732 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:46:33.906 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:46:33.936 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:46:33.938 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:46:33.938 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:33.942 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:46:33.961 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:46:33.964 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:46:33.965 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:33.967 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:33.973 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:46:33.987 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:33.991 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:46:33.991 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.994 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:33.998 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7422ms.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:46:34.000 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:34.001 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:34.001 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:34.001 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:34.002 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:46:34.002 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:46:34.023 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:46:34.023 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:34.023 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:34.027 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.4604ms
2020-12-11 12:46:34.027 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:34.028 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 84.1472 ms
2020-12-11 12:46:34.032 -04:00 [INF] Request finished in 97.9128ms 200 application/json; charset=utf-8
2020-12-11 12:46:36.708 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:46:36.709 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:36.709 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:46:36.710 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:46:36.710 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:46:36.710 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:36.710 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:36.723 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:36.723 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:36.724 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:36.724 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:36.725 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:37.297 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 40
2020-12-11 12:46:37.334 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 609.6303ms.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:37.334 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:37.334 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:37.334 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:37.334 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:37.334 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:46:37.334 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:46:37.340 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:37.340 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.340 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.341 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 617.2602ms
2020-12-11 12:46:37.341 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:37.341 -04:00 [INF] HTTP GET /api/productos responded 400 in 631.8236 ms
2020-12-11 12:46:37.342 -04:00 [INF] Request finished in 633.6138ms 400 text/plain; charset=utf-8
2020-12-11 12:46:39.298 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:46:39.299 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:39.299 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:46:39.300 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:46:39.300 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:46:39.300 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.301 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.301 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:39.302 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:39.302 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.303 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.303 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:39.303 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:39.413 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 40
2020-12-11 12:46:39.414 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 111.0292ms.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:39.414 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:39.414 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:39.414 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:39.414 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:39.414 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:46:39.414 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:46:39.415 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:39.415 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.415 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.415 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 113.0271ms
2020-12-11 12:46:39.415 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.415 -04:00 [INF] HTTP GET /api/productos responded 400 in 115.6404 ms
2020-12-11 12:46:39.415 -04:00 [INF] Request finished in 117.7062ms 400 text/plain; charset=utf-8
2020-12-12 11:47:06.079 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:47:06.620 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:47:06.704 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:47:06.713 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:47:06.714 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:47:06.733 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:47:06.810 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:47:06.825 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:47:06.827 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:06.832 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:06.858 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:47:06.908 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:47:06.920 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:47:06.920 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:47:06.922 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:47:06.923 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:47:06.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.940 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:47:06.956 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.4129ms.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:06.961 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:47:06.963 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:47:06.969 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:47:06.970 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:47:06.970 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:47:06.971 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:47:06.971 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:47:07.050 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:47:07.050 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:07.051 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:07.064 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 130.899ms
2020-12-12 11:47:07.066 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:07.070 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 330.5072 ms
2020-12-12 11:47:07.077 -04:00 [INF] Request finished in 384.7144ms 200 application/json; charset=utf-8
2020-12-12 11:47:07.189 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-12 11:47:07.189 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:47:07.206 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-12 11:47:07.209 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-12 11:47:07.209 -04:00 [DBG] Request did not match any endpoints
2020-12-12 11:47:07.210 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 3.4561 ms
2020-12-12 11:47:07.213 -04:00 [INF] Request finished in 24.6954ms 404 
2020-12-12 11:48:41.858 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-12 11:48:41.858 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:48:41.858 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-12 11:48:41.859 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-12 11:48:41.859 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-12 11:48:41.861 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:41.864 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:41.894 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-12 11:48:41.894 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:48:41.895 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-12 11:48:41.895 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-12 11:48:41.904 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-12 11:48:41.907 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-12 11:48:41.908 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.908 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.908 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-12 11:48:41.911 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.913 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:41.913 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:41.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:41.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:41.914 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:48:41.914 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-12 11:48:41.916 -04:00 [INF] Obteniendo producto con ID 
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.691 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:44.141 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:48:44.413 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-12 11:48:44.512 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-12 11:48:44.514 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-12 11:48:44.988 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 11:48:45.102 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:48:45.206 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2020-12-12 11:48:45.282 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.033 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.065 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-12 11:48:46.208 -04:00 [INF] Executed DbCommand (158ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-12 11:48:46.342 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.396 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.447 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.487 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:48:46.494 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.510 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.526 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4612.166ms.
2020-12-12 11:48:46.528 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:46.528 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:46.530 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:46.530 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:48:46.532 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:48:46.533 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:48:46.533 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:48:46.533 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:48:46.533 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:48:46.534 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-12 11:48:46.547 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:48:46.547 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.548 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.549 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 4654.0797ms
2020-12-12 11:48:46.550 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:46.552 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 200 in 4694.2589 ms
2020-12-12 11:48:46.556 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:48:46.560 -04:00 [INF] Request finished in 4705.3952ms 200 application/json; charset=utf-8
2020-12-12 11:49:18.001 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:49:18.465 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:49:18.542 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:49:18.550 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:49:18.551 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:49:18.567 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:49:18.632 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:49:18.648 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:49:18.650 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.654 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.675 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:49:18.716 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:49:18.728 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:49:18.728 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:49:18.730 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:49:18.731 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:49:18.732 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.743 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:49:18.754 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.4542ms.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.756 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.756 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.757 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:49:18.758 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:49:18.764 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:49:18.764 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:49:18.764 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:49:18.765 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:49:18.766 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:49:18.834 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:49:18.834 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.834 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.847 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 105.4096ms
2020-12-12 11:49:18.848 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.851 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 279.7260 ms
2020-12-12 11:49:18.859 -04:00 [INF] Request finished in 325.5313ms 200 application/json; charset=utf-8
2020-12-12 11:50:31.746 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 135
2020-12-12 11:50:31.747 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:50:31.747 -04:00 [DBG] POST requests are not supported
2020-12-12 11:50:31.749 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:50:31.749 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:50:31.750 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:31.753 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:31.775 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:50:31.776 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:50:31.776 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:50:31.783 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:50:31.786 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:50:31.787 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:50:31.797 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:50:31.797 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.797 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.797 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:50:31.800 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:31.802 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:50:31.802 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:50:31.803 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.797 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:50:34.015 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.084 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.092 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.100 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.106 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.115 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 11:50:34.127 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 11:50:34.150 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 11:50:34.290 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:34.969 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:34.975 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 11:50:35.000 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 11:50:35.146 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:50:35.168 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2020-12-12 11:50:35.222 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:50:35.349 -04:00 [INF] Executed DbCommand (130ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:50:35.371 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:50:35.379 -04:00 [DBG] Committing transaction.
2020-12-12 11:50:35.387 -04:00 [DBG] Committed transaction.
2020-12-12 11:50:35.392 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:35.401 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:35.404 -04:00 [DBG] Disposing transaction.
2020-12-12 11:50:35.425 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.430 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 11:50:35.439 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3637.6203ms.
2020-12-12 11:50:35.441 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:35.441 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:35.442 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:35.442 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:50:35.443 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:50:35.444 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:50:35.444 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:50:35.444 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:50:35.444 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:50:35.444 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:50:35.449 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:50:35.449 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.449 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.450 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 3674.1087ms
2020-12-12 11:50:35.451 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:35.453 -04:00 [INF] HTTP POST /api/clientes responded 200 in 3706.2183 ms
2020-12-12 11:50:35.458 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:50:35.461 -04:00 [INF] Request finished in 3718.6903ms 200 text/plain; charset=utf-8
2020-12-12 11:51:55.652 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 11:51:55.653 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:51:55.654 -04:00 [DBG] POST requests are not supported
2020-12-12 11:51:55.655 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:51:55.655 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:51:55.656 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.656 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.657 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:51:55.657 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:51:55.658 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:51:55.663 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:51:55.667 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:51:55.667 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:51:55.669 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.669 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.670 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:51:55.670 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:51:55.670 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:51:55.714 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:51:55.715 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.717 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.717 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 11:51:55.717 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 11:51:55.717 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 11:51:55.718 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.720 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.720 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 11:51:55.721 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 11:51:55.721 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:51:55.721 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 11:51:55.722 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:51:55.751 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:51:55.751 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:51:55.751 -04:00 [DBG] Committing transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] Committed transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.752 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.752 -04:00 [DBG] Disposing transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.753 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 11:51:55.753 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.4248ms.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:51:55.753 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:51:55.754 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:51:55.754 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:51:55.754 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:51:55.754 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:51:55.754 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:51:55.754 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:51:55.755 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.755 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.755 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 97.3738ms
2020-12-12 11:51:55.755 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.755 -04:00 [INF] HTTP POST /api/clientes responded 200 in 101.0789 ms
2020-12-12 11:51:55.755 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:51:55.755 -04:00 [INF] Request finished in 107.4667ms 200 text/plain; charset=utf-8
2020-12-12 11:53:42.457 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:53:42.748 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:53:42.787 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:53:42.790 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:53:42.790 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:53:42.796 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:53:42.828 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:53:42.833 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:53:42.834 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.836 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.845 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:53:42.863 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:53:42.868 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:53:42.868 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:53:42.868 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:53:42.869 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.874 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:53:42.879 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.3231ms.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.881 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:53:42.882 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:53:42.885 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:53:42.885 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:53:42.885 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:53:42.886 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:53:42.886 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:53:42.915 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:53:42.915 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.915 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.920 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 47.6484ms
2020-12-12 11:53:42.920 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.922 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 123.9289 ms
2020-12-12 11:53:42.926 -04:00 [INF] Request finished in 142.0518ms 200 application/json; charset=utf-8
2020-12-12 11:54:07.093 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 11:54:07.093 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:54:07.093 -04:00 [DBG] POST requests are not supported
2020-12-12 11:54:07.095 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:54:07.095 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:54:07.096 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.098 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.117 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:54:07.117 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:54:07.118 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:54:07.123 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:54:07.126 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:54:07.126 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:54:07.132 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:54:07.133 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.133 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.133 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:54:07.134 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.136 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:54:07.136 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:54:07.137 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:54:07.428 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 11:54:07.429 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 292.8653ms.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 11:54:07.430 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:54:07.430 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:54:07.430 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:54:07.431 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:54:07.431 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:54:07.431 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:54:07.437 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 11:54:07.437 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.437 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.437 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 319.6254ms
2020-12-12 11:54:07.437 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.437 -04:00 [INF] HTTP POST /api/clientes responded 400 in 344.2527 ms
2020-12-12 11:54:07.442 -04:00 [INF] Request finished in 353.4709ms 400 text/plain; charset=utf-8
2020-12-12 12:03:46.591 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:03:47.069 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:03:47.145 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:03:47.151 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:03:47.152 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:03:47.168 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:03:47.236 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:03:47.252 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:03:47.254 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.259 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.281 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:03:47.329 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:03:47.341 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:03:47.342 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:03:47.342 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:03:47.343 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:03:47.343 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:03:47.345 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:03:47.345 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:03:47.346 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.358 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:03:47.379 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4.6918ms.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.382 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.383 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.383 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.385 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:47.390 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:03:47.398 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:03:47.398 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:03:47.399 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:03:47.400 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:03:47.401 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:03:47.463 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:47.463 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.463 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.476 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 120.7719ms
2020-12-12 12:03:47.477 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.482 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 307.8826 ms
2020-12-12 12:03:47.488 -04:00 [INF] Request finished in 351.1465ms 200 application/json; charset=utf-8
2020-12-12 12:03:51.641 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:03:51.641 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:03:51.641 -04:00 [DBG] POST requests are not supported
2020-12-12 12:03:51.648 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:03:51.648 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:03:51.648 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:51.648 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:51.672 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:03:51.672 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:03:51.672 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:03:51.673 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:03:51.674 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:03:51.679 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:03:51.682 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:03:51.682 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:03:51.692 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:03:51.692 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.692 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.693 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:03:51.696 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.697 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.698 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.698 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.698 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:03:51.698 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:03:51.700 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:03:51.986 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 12:03:51.987 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestResult in 288.7999ms.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.988 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.988 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:51.997 -04:00 [VRB] Replacing Microsoft.AspNetCore.Mvc.BadRequestResult with status code 400 with Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:51.997 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:51.998 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:51.998 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:03:51.998 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:03:51.999 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2020-12-12 12:03:51.999 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2020-12-12 12:03:51.999 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-12-12 12:03:52.007 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:52.014 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:52.014 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:52.015 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 341.7015ms
2020-12-12 12:03:52.015 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:52.015 -04:00 [INF] HTTP POST /api/clientes responded 400 in 373.5709 ms
2020-12-12 12:03:52.017 -04:00 [INF] Request finished in 378.1266ms 400 application/problem+json; charset=utf-8
2020-12-12 12:04:14.325 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:04:14.326 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:04:14.326 -04:00 [DBG] POST requests are not supported
2020-12-12 12:04:14.328 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:04:14.329 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:04:14.329 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:04:14.330 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:04:14.331 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:04:14.332 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:04:14.332 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:04:14.339 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:04:14.339 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:04:14.340 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:04:14.341 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:14.341 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:14.342 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:14.342 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:14.342 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:04:14.342 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:04:14.342 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:04:58.216 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:04:58.508 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:04:58.551 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:04:58.555 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:04:58.555 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:04:58.562 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:04:58.594 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:04:58.600 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:04:58.601 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.603 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.615 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:04:58.637 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:04:58.643 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:04:58.643 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:04:58.644 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:04:58.644 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:04:58.644 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.650 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:04:58.657 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.4022ms.
2020-12-12 12:04:58.657 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.659 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:04:58.661 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:04:58.663 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:04:58.663 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:04:58.664 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:04:58.664 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:04:58.664 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:04:58.700 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:04:58.700 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.700 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.705 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 57.3613ms
2020-12-12 12:04:58.706 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.708 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 142.8530 ms
2020-12-12 12:04:58.712 -04:00 [INF] Request finished in 164.3988ms 200 application/json; charset=utf-8
2020-12-12 12:05:03.771 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:05:03.771 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:03.771 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:03.774 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:03.774 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:03.774 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:03.774 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:03.800 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:03.801 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:03.801 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:03.801 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:03.807 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:03.809 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:03.810 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:03.820 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:03.820 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.820 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.820 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:03.824 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:03.826 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:03.826 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:03.827 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:06.434 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 12:05:06.435 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2609.1066ms.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:06.436 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:06.437 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:06.437 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:06.437 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:06.437 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:06.441 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:06.444 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:06.444 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.444 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.444 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 2643.2309ms
2020-12-12 12:05:06.444 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:06.444 -04:00 [INF] HTTP POST /api/clientes responded 400 in 2672.5014 ms
2020-12-12 12:05:06.446 -04:00 [INF] Request finished in 2677.3351ms 400 text/plain; charset=utf-8
2020-12-12 12:05:27.861 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 131
2020-12-12 12:05:27.862 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:27.862 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:27.864 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:27.864 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:27.865 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.865 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.866 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:27.867 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:27.868 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:27.876 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:27.877 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:27.877 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:27.878 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.879 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.879 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:27.879 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:27.879 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:27.953 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.PasswordValue.Rules.PasswordMinLengthRule: La contrasea debe tener ms de 5 caracteres
2020-12-12 12:05:27.953 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 74.484ms.
2020-12-12 12:05:27.953 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:27.954 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:27.954 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:27.954 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:27.954 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:27.954 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:27.954 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:27.955 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:27.955 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.955 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.955 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 87.8894ms
2020-12-12 12:05:27.955 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.955 -04:00 [INF] HTTP POST /api/clientes responded 400 in 92.7240 ms
2020-12-12 12:05:27.956 -04:00 [INF] Request finished in 94.8359ms 400 text/plain; charset=utf-8
2020-12-12 12:05:49.854 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 124
2020-12-12 12:05:49.854 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:49.854 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:49.854 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:49.854 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:49.855 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:49.855 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:49.855 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:49.855 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:49.856 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:49.856 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:49.857 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:49.857 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:49.857 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:49.858 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:49.858 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:49.859 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:51.308 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.308 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.695 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:05:51.899 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.962 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.969 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.975 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.982 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.989 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 12:05:52.000 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 12:05:52.028 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 12:05:52.168 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:52.855 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:52.861 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 12:05:52.893 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 12:05:53.030 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:05:53.044 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2020-12-12 12:05:53.089 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 12:05:53.193 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 12:05:53.214 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:05:53.228 -04:00 [DBG] Committing transaction.
2020-12-12 12:05:53.241 -04:00 [DBG] Committed transaction.
2020-12-12 12:05:53.247 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:53.261 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:53.265 -04:00 [DBG] Disposing transaction.
2020-12-12 12:05:53.280 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.286 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 12:05:53.295 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3436.6234ms.
2020-12-12 12:05:53.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:53.297 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:53.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:53.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:05:53.299 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:53.300 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:53.300 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:53.300 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:53.300 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:53.300 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:53.301 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:05:53.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.301 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.302 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 3446.9552ms
2020-12-12 12:05:53.304 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:53.305 -04:00 [INF] HTTP POST /api/clientes responded 200 in 3451.1499 ms
2020-12-12 12:05:53.308 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:05:53.312 -04:00 [INF] Request finished in 3458.3625ms 200 text/plain; charset=utf-8
2020-12-12 12:06:35.551 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:06:35.972 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:06:36.067 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:06:36.074 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:06:36.074 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:06:36.091 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:06:36.148 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:06:36.159 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:06:36.161 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.166 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.185 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:06:36.236 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:06:36.245 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:06:36.245 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:06:36.248 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:06:36.249 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.258 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:06:36.269 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.5358ms.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.271 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.271 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.272 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:06:36.275 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:06:36.279 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:06:36.280 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:06:36.280 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:06:36.281 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:06:36.282 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:06:36.336 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:06:36.336 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.336 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.347 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 90.2953ms
2020-12-12 12:06:36.348 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.352 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 255.0747 ms
2020-12-12 12:06:36.356 -04:00 [INF] Request finished in 300.2133ms 200 application/json; charset=utf-8
2020-12-12 12:07:23.104 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:07:23.105 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:07:23.105 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:07:23.108 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:07:23.108 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:07:23.109 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.109 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.110 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:07:23.111 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:07:23.111 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:07:23.111 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.112 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:07:23.112 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.1198ms.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:07:23.115 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:07:23.120 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:07:23.120 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:07:23.120 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:07:23.120 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:07:23.121 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:07:23.123 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:07:23.123 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.123 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.123 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 12.5264ms
2020-12-12 12:07:23.123 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.124 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 17.4542 ms
2020-12-12 12:07:23.124 -04:00 [INF] Request finished in 25.8248ms 200 application/json; charset=utf-8
2020-12-12 12:07:29.132 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:07:29.132 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:07:29.132 -04:00 [DBG] POST requests are not supported
2020-12-12 12:07:29.134 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:07:29.134 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:07:29.137 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:29.137 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:29.160 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:07:29.160 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:07:29.161 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:07:29.166 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:07:29.168 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:07:29.168 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:07:29.173 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:07:29.174 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.174 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.174 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:07:29.177 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:29.178 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:07:29.178 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:07:29.179 -04:00 [INF] Login con el email
2020-12-12 12:07:30.816 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.816 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.818 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.818 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.820 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:31.218 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:07:31.455 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Equals(__email_0) && c.Password.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:07:31.554 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:07:31.556 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:07:31.558 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:07:31.558 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:07:32.016 -04:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__entity_equality_email_0_ClienteId", 
        value: (object)Invoke(queryContext => ParameterValueExtractor(queryContext, "__email_0", Property: EmailValue.ClienteId (no field, Guid) Shadow Required PK FK AfterSave:Throw), queryContext)
    );
    queryContext.AddParameter(
        name: "__entity_equality_password_1_ClienteId", 
        value: (object)Invoke(queryContext => ParameterValueExtractor(queryContext, "__password_1", Property: PasswordValue.ClienteId (no field, Guid) Shadow Required PK FK AfterSave:Throw), queryContext)
    );
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
        asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
            (RelationalQueryContext)queryContext, 
            RelationalCommandCache.SelectExpression(
                Projection Mapping:
                SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
                FROM Clientes AS c
                WHERE (c.Id == @__entity_equality_email_0_ClienteId) && (c.Id == @__entity_equality_password_1_ClienteId)), 
            Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
            Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
            False, 
            False
        ), 
        cancellationToken: queryContext.CancellationToken);
}'
2020-12-12 12:07:32.356 -04:00 [ERR] Error al intentar hacer login con el Email
System.InvalidOperationException: No backing field could be found for property 'EmailValue.ClienteId' and the property does not have a getter.
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetMemberInfo(IPropertyBase propertyBase, Boolean forMaterialization, Boolean forSet)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ClrPropertyGetterFactory.Create(IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.<>c.<get_Getter>b__38_0(PropertyBase p)
   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.get_Getter()
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetGetter(IPropertyBase propertyBase)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.ParameterValueExtractor[T](QueryContext context, String baseParameterName, IProperty property)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ClienteRepository.Login(String email, String password) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ClienteRepository.cs:line 29
   at Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteHandler.Handle(LoginClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Cliente\LoginCliente\LoginClienteHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ClientesController.Login(LoginClienteQuery loginClienteQuery) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ClientesController.cs:line 61
2020-12-12 12:07:32.471 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3292.7881ms.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.473 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:07:32.473 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:07:32.473 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:07:32.473 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:07:32.474 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:07:32.474 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:07:32.474 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:07:32.481 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:07:32.481 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.481 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.481 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 3320.761ms
2020-12-12 12:07:32.481 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:32.482 -04:00 [INF] HTTP POST /api/clientes/login responded 400 in 3349.5164 ms
2020-12-12 12:07:32.486 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:07:32.493 -04:00 [INF] Request finished in 3363.3049ms 400 text/plain; charset=utf-8
2020-12-12 12:09:46.246 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:09:46.247 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:09:46.247 -04:00 [DBG] POST requests are not supported
2020-12-12 12:09:46.249 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:09:46.250 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:09:46.250 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:09:46.250 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:09:46.251 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:09:46.251 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:09:46.252 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:09:46.256 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:09:46.257 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:09:46.257 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:09:46.258 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:09:46.258 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:09:46.259 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:09:46.259 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:09:46.259 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:09:46.259 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:09:46.259 -04:00 [INF] Login con el email
2020-12-12 12:10:21.868 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:10:22.001 -04:00 [ERR] Error al intentar hacer login con el Email
System.InvalidOperationException: No backing field could be found for property 'EmailValue.ClienteId' and the property does not have a getter.
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetMemberInfo(IPropertyBase propertyBase, Boolean forMaterialization, Boolean forSet)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ClrPropertyGetterFactory.Create(IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.<>c.<get_Getter>b__38_0(PropertyBase p)
   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.get_Getter()
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetGetter(IPropertyBase propertyBase)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.ParameterValueExtractor[T](QueryContext context, String baseParameterName, IProperty property)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ClienteRepository.Login(String email, String password) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ClienteRepository.cs:line 29
   at Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteHandler.Handle(LoginClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Cliente\LoginCliente\LoginClienteHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ClientesController.Login(LoginClienteQuery loginClienteQuery) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ClientesController.cs:line 61
2020-12-12 12:10:22.002 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 35743.5378ms.
2020-12-12 12:10:22.002 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:10:22.003 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:10:22.003 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:10:22.003 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:10:22.003 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:10:22.003 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:10:22.003 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:10:22.004 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:10:22.004 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.004 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.004 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 35753.0005ms
2020-12-12 12:10:22.004 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:10:22.004 -04:00 [INF] HTTP POST /api/clientes/login responded 400 in 35756.7226 ms
2020-12-12 12:10:22.005 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:10:22.005 -04:00 [INF] Request finished in 35758.8803ms 400 text/plain; charset=utf-8
2020-12-12 12:11:58.934 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:11:58.935 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:11:58.935 -04:00 [DBG] POST requests are not supported
2020-12-12 12:11:58.936 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:11:58.936 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:11:58.937 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:11:58.937 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:11:58.938 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:11:58.938 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:11:58.938 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:11:58.939 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:11:58.940 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:11:58.940 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:11:58.940 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:11:58.940 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:11:58.941 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:11:58.942 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:11:58.942 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:11:58.942 -04:00 [INF] Login con el email
2020-12-12 12:12:00.825 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:14:38.401 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:14:38.683 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:14:38.717 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:14:38.719 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:14:38.720 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:14:38.725 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:14:38.753 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:14:38.758 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:14:38.758 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.760 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.769 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:14:38.786 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:14:38.791 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:14:38.791 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.796 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:14:38.801 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.021ms.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.803 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:14:38.804 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:14:38.806 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:14:38.806 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:14:38.806 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:14:38.806 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:14:38.806 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:14:38.834 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:14:38.834 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.834 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.839 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 44.1541ms
2020-12-12 12:14:38.839 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.841 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 114.1563 ms
2020-12-12 12:14:38.844 -04:00 [INF] Request finished in 130.808ms 200 application/json; charset=utf-8
2020-12-12 12:14:44.250 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:14:44.251 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:14:44.251 -04:00 [DBG] POST requests are not supported
2020-12-12 12:14:44.252 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:14:44.252 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:14:44.252 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:14:44.253 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:14:44.270 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:14:44.270 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:14:44.271 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:14:44.271 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:14:44.276 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:14:44.278 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:14:44.278 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:14:44.286 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:14:44.286 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.286 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.287 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:14:44.288 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:44.290 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:14:44.290 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:14:44.291 -04:00 [INF] Login con el email
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.899 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:14:47.007 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => (string)c.Email == __email_0 && (string)c.Password == __password_1)
    .FirstOrDefault()'
2020-12-12 12:14:47.044 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:17:15.037 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:17:15.497 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:17:15.571 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:17:15.579 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:17:15.580 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:17:15.595 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:17:15.661 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:17:15.680 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:17:15.682 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.687 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.705 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:17:15.748 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:17:15.759 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:17:15.759 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:17:15.760 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:17:15.760 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:17:15.761 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:17:15.762 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:17:15.763 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:17:15.764 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.776 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:17:15.787 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.4081ms.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.789 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.789 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.791 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:17:15.793 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:17:15.798 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:17:15.798 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:17:15.798 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:17:15.799 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:17:15.799 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:17:15.863 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:17:15.864 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.864 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.876 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 103.4935ms
2020-12-12 12:17:15.878 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.883 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 280.4435 ms
2020-12-12 12:17:15.895 -04:00 [INF] Request finished in 332.5802ms 200 application/json; charset=utf-8
2020-12-12 12:17:20.003 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:17:20.003 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:17:20.003 -04:00 [DBG] POST requests are not supported
2020-12-12 12:17:20.005 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:17:20.005 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:17:20.005 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:20.005 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:20.024 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:17:20.024 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:17:20.025 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:17:20.030 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:17:20.033 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:17:20.034 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:17:20.040 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:17:20.040 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.040 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.040 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:17:20.042 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:20.043 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:17:20.043 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:17:20.044 -04:00 [INF] Login con el email
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.986 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:17:22.220 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:17:22.312 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:17:22.314 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:17:22.315 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:17:22.315 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:17:22.764 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:17:22.880 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:17:22.972 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (84ms).
2020-12-12 12:17:22.993 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:23.684 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:23.723 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:17:23.884 -04:00 [INF] Executed DbCommand (177ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:17:24.031 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.090 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.145 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.154 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.167 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.198 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:17:24.208 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:24.225 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:47.656 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27612.0289ms.
2020-12-12 12:17:47.658 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:47.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:47.659 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:47.659 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:47.660 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.661 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.661 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:17:47.662 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:17:47.662 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:17:47.662 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:17:47.662 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:17:47.662 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:17:47.662 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:17:47.666 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:17:47.666 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.666 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.667 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 27642.7989ms
2020-12-12 12:17:47.668 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:47.670 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 27666.7962 ms
2020-12-12 12:17:47.674 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:17:47.676 -04:00 [INF] Request finished in 27675.7015ms 200 text/plain; charset=utf-8
2020-12-12 12:18:05.065 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:18:05.066 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:05.066 -04:00 [DBG] POST requests are not supported
2020-12-12 12:18:05.068 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:18:05.069 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:18:05.070 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.071 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.072 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:05.073 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:05.074 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:05.075 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:05.075 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:18:05.075 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:18:05.077 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.079 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:05.079 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:18:05.079 -04:00 [INF] Login con el email
2020-12-12 12:18:05.123 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:18:05.126 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:18:05.127 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 12:18:05.127 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.130 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.130 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:05.138 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:18:05.139 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.140 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.140 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.9355ms.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:05.140 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:05.140 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:05.140 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:05.141 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:05.141 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:18:05.141 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:18:05.141 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:05.141 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.141 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.142 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 68.0511ms
2020-12-12 12:18:05.142 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.142 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 75.3449 ms
2020-12-12 12:18:05.142 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:18:05.142 -04:00 [INF] Request finished in 78.3784ms 200 text/plain; charset=utf-8
2020-12-12 12:18:41.550 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:18:41.802 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:18:41.841 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:18:41.845 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:18:41.845 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:41.853 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:18:41.882 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:18:41.888 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:18:41.889 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.890 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.900 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:18:41.923 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:18:41.927 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:41.929 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:18:41.929 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:18:41.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.934 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:41.938 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0596ms.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.940 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:18:41.941 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:41.942 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:41.943 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:41.943 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:41.943 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:18:41.943 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:18:41.972 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:18:41.972 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.972 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.977 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.7025ms
2020-12-12 12:18:41.977 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.979 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 123.4236 ms
2020-12-12 12:18:41.981 -04:00 [INF] Request finished in 144.356ms 200 application/json; charset=utf-8
2020-12-12 12:18:50.287 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:18:50.287 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:50.288 -04:00 [DBG] POST requests are not supported
2020-12-12 12:18:50.289 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:18:50.289 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:18:50.289 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:50.290 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:50.313 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:18:50.313 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:50.313 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:50.314 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:50.314 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:50.318 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:50.320 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:18:50.320 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:18:50.328 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:18:50.328 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.328 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.328 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:50.333 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:50.334 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:50.334 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:18:50.336 -04:00 [INF] Login con el email
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.926 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.926 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.927 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.927 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:52.312 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:18:52.545 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:18:52.651 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:18:52.653 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:18:52.655 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:18:52.655 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:18:53.106 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:18:53.218 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:18:53.296 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2020-12-12 12:18:53.318 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.033 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.074 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:54.204 -04:00 [INF] Executed DbCommand (153ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:54.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.373 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.422 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.431 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.442 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.466 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:18:54.474 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.487 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.500 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4165.4126ms.
2020-12-12 12:18:54.502 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:54.502 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:54.503 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:54.504 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:54.506 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:54.506 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:54.506 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:54.506 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:54.506 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:18:54.506 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ClienteDTO'.
2020-12-12 12:18:54.514 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:54.514 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.514 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.515 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 4201.5876ms
2020-12-12 12:18:54.516 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:54.518 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 4230.8096 ms
2020-12-12 12:18:54.523 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:18:54.527 -04:00 [INF] Request finished in 4242.9459ms 200 application/json; charset=utf-8
2020-12-12 12:19:03.518 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-12 12:19:03.519 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:19:03.519 -04:00 [DBG] POST requests are not supported
2020-12-12 12:19:03.521 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:19:03.521 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:19:03.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.522 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.524 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:19:03.524 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:19:03.524 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:19:03.529 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:19:03.530 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:19:03.530 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:19:03.531 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.532 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:19:03.532 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:19:03.532 -04:00 [INF] Login con el email
2020-12-12 12:19:03.562 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:19:03.565 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:19:03.565 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 12:19:03.566 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.567 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.567 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:19:03.576 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:19:03.577 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:19:03.577 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.577 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.577 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.1157ms.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:19:03.578 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:19:03.578 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:19:03.578 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:19:03.578 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:19:03.578 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2020-12-12 12:19:03.578 -04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2020-12-12 12:19:03.578 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:19:03.578 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.578 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.578 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 54.0845ms
2020-12-12 12:19:03.578 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.578 -04:00 [INF] HTTP POST /api/clientes/login responded 204 in 58.6907 ms
2020-12-12 12:19:03.578 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:19:03.579 -04:00 [INF] Request finished in 62.0832ms 204 
2020-12-12 12:20:08.655 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:20:08.892 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:20:08.930 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:20:08.933 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:20:08.934 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:20:08.940 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:20:08.970 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:20:08.975 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:20:08.976 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:08.977 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:08.986 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:20:09.005 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:20:09.008 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:20:09.010 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:20:09.010 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:20:09.010 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.015 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:20:09.020 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0571ms.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:20:09.022 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:20:09.024 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:20:09.024 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:20:09.024 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:20:09.025 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:20:09.025 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:20:09.053 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:20:09.053 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.053 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.058 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.9245ms
2020-12-12 12:20:09.058 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:09.060 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 117.2571 ms
2020-12-12 12:20:09.063 -04:00 [INF] Request finished in 136.0334ms 200 application/json; charset=utf-8
2020-12-12 12:20:14.441 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-12 12:20:14.442 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:20:14.442 -04:00 [DBG] POST requests are not supported
2020-12-12 12:20:14.444 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:20:14.447 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:20:14.447 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:14.448 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:14.469 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:20:14.470 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:20:14.471 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:20:14.476 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:20:14.478 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:20:14.478 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:20:14.484 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:20:14.484 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.484 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.484 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:20:14.488 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:14.490 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:20:14.490 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:20:14.492 -04:00 [INF] Login con el email
2020-12-12 12:20:16.315 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.318 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.733 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:20:16.984 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:20:17.095 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:20:17.097 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:20:17.098 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:20:17.099 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:20:17.583 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:20:17.712 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:20:17.805 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (83ms).
2020-12-12 12:20:17.828 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.529 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.564 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:20:18.734 -04:00 [INF] Executed DbCommand (184ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:20:18.788 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:20:18.796 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.807 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.818 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 4327.8267ms.
2020-12-12 12:20:18.820 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:18.820 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:18.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:18.821 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-12 12:20:18.824 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:20:18.824 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:20:18.824 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:20:18.824 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:20:18.824 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:20:18.824 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:20:18.829 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-12 12:20:18.829 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.830 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.831 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 4360.9511ms
2020-12-12 12:20:18.832 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:18.835 -04:00 [INF] HTTP POST /api/clientes/login responded 404 in 4393.0503 ms
2020-12-12 12:20:18.841 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:20:18.845 -04:00 [INF] Request finished in 4405.1356ms 404 text/plain; charset=utf-8
2020-12-13 21:05:37.517 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:05:37.718 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:05:37.758 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:05:37.760 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:05:37.760 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:05:37.765 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:05:37.787 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:05:37.791 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:05:37.791 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.792 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.800 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:05:37.816 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:05:37.820 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:05:37.820 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:05:37.820 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:05:37.820 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.825 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:05:37.830 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9599ms.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.831 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:05:37.832 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:05:37.833 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:05:37.833 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:05:37.833 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:05:37.834 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:05:37.834 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:05:37.863 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:05:37.863 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.863 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.866 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.5761ms
2020-12-13 21:05:37.867 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.868 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 100.8949 ms
2020-12-13 21:05:37.870 -04:00 [INF] Request finished in 115.2358ms 200 application/json; charset=utf-8
2020-12-13 21:05:37.962 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-13 21:05:37.962 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:05:37.970 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-13 21:05:37.971 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-13 21:05:37.971 -04:00 [DBG] Request did not match any endpoints
2020-12-13 21:05:37.971 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.8240 ms
2020-12-13 21:05:37.972 -04:00 [INF] Request finished in 10.2398ms 404 
2020-12-13 21:06:26.195 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 519
2020-12-13 21:06:26.195 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:06:26.195 -04:00 [DBG] POST requests are not supported
2020-12-13 21:06:26.196 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:06:26.197 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:06:26.197 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:06:26.200 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:06:26.216 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:06:26.216 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:06:26.217 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:06:26.222 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:06:26.224 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:06:26.224 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:06:26.238 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:06:26.238 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.238 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.238 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:06:26.243 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:06:26.244 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:06:26.244 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:07:07.665 -04:00 [DBG] Connection ID "18302628921604047479" disconnecting.
2020-12-13 21:07:07.668 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:07:08.708 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.708 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.829 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:07:08.927 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:07:08.955 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:07:09.100 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:07:09.143 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.180 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 21:07:09.211 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.532 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.541 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:07:09.588 -04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:07:09.629 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.646 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.661 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.664 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.667 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.676 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.678 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.683 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.741 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.745 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.747 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.748 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:07:09.748 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:07:09.748 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:07:09.754 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:07:09.754 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.754 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.754 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.755 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.755 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.759 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.767 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.769 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.773 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.779 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.779 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.779 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.799 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.801 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.803 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.805 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.805 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.805 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.805 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.805 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.806 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.807 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.807 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.810 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:07:09.812 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:07:09.831 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:07:09.845 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.845 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.846 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:07:09.851 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:07:09.888 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.888 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.890 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:07:09.898 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:07:09.902 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.908 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 21:07:09.908 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.908 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.909 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.911 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.911 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.911 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.911 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.911 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.912 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.912 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.912 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.912 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.912 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:07:09.914 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:07:09.914 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.916 -04:00 [DBG] Committing transaction.
2020-12-13 21:07:09.918 -04:00 [DBG] Committed transaction.
2020-12-13 21:07:09.920 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.920 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.921 -04:00 [DBG] Disposing transaction.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.931 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 21:07:12.450 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46206.1952ms.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:07:12.452 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:07:12.452 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:07:12.452 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:07:12.452 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:07:12.452 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:07:12.453 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:07:12.454 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:07:12.454 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.454 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.454 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 46238.2515ms
2020-12-13 21:07:12.455 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:07:12.456 -04:00 [INF] HTTP POST /api/ventas responded 200 in 46259.9820 ms
2020-12-13 21:07:12.457 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:07:12.459 -04:00 [INF] Request finished in 46268.4853ms 200 text/plain; charset=utf-8
2020-12-13 21:15:44.216 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:15:44.389 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:15:44.420 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:15:44.423 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:15:44.423 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:15:44.427 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:15:44.448 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:15:44.452 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:15:44.452 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.453 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.461 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:15:44.476 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:15:44.480 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:15:44.481 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.485 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:15:44.489 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8799ms.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.490 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.490 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:15:44.491 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:15:44.492 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:15:44.492 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:15:44.492 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:15:44.493 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:15:44.493 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:15:44.516 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:15:44.516 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.516 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.519 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.0746ms
2020-12-13 21:15:44.520 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.521 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 91.9482 ms
2020-12-13 21:15:44.523 -04:00 [INF] Request finished in 106.3899ms 200 application/json; charset=utf-8
2020-12-13 21:16:25.687 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 519
2020-12-13 21:16:25.688 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:16:25.688 -04:00 [DBG] POST requests are not supported
2020-12-13 21:16:25.689 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:16:25.689 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:16:25.690 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:16:25.693 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:16:25.717 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:16:25.717 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:16:25.719 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:16:25.725 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:16:25.727 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:16:25.727 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:16:25.740 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:16:25.741 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.741 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.741 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:16:25.746 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:25.748 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:25.748 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:16:25.748 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:16:42.586 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:16:42.778 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:16:42.805 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:16:42.807 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:16:42.807 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:16:42.812 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:16:42.835 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:16:42.839 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:16:42.840 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.841 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.849 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:16:42.863 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:16:42.867 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:16:42.867 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:16:42.867 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:16:42.867 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.872 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:16:42.876 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9123ms.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.877 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:16:42.878 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:16:42.879 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:16:42.879 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:16:42.879 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:16:42.880 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:16:42.880 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:16:42.903 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:16:42.903 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.903 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.906 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.3693ms
2020-12-13 21:16:42.907 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.908 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.3180 ms
2020-12-13 21:16:42.910 -04:00 [INF] Request finished in 108.2681ms 200 application/json; charset=utf-8
2020-12-13 21:17:01.252 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 497
2020-12-13 21:17:01.252 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:17:01.252 -04:00 [DBG] POST requests are not supported
2020-12-13 21:17:01.253 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:17:01.254 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:17:01.254 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:01.256 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:01.270 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:17:01.270 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:17:01.271 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:17:01.275 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:17:01.277 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:17:01.277 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:17:01.290 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:17:01.290 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.290 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.290 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:17:01.294 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:01.296 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:17:01.296 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:17:09.976 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.667 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:17:10.748 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:17:10.777 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:17:10.918 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:17:10.949 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:10.991 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 21:17:11.021 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.253 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.265 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:17:11.308 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:17:11.347 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.363 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.381 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.384 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.392 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.394 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.398 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.445 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.457 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.462 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.464 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.465 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:17:11.465 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:17:11.465 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:17:11.471 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:17:11.471 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.471 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.471 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.472 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.472 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.475 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.483 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.490 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.495 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.495 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.495 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.509 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.516 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.518 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.520 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.522 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.522 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.522 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.522 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.522 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.524 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.524 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.524 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.527 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:17:11.529 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:17:11.551 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:17:11.564 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.564 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.565 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:17:11.571 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:17:11.608 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.608 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.610 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:17:11.614 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:17:11.617 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.623 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 21:17:11.624 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.624 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.624 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.626 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.626 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.627 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.627 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.627 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.627 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.627 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.627 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.627 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.628 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:17:11.629 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:17:11.629 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.631 -04:00 [DBG] Committing transaction.
2020-12-13 21:17:11.634 -04:00 [DBG] Committed transaction.
2020-12-13 21:17:11.636 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.636 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.637 -04:00 [DBG] Disposing transaction.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.648 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 21:17:11.650 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10354.4632ms.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:17:11.652 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:17:11.653 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:17:11.653 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:17:11.653 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:17:11.653 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:17:11.653 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:17:11.658 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:17:11.658 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.658 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.658 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 10387.9664ms
2020-12-13 21:17:11.659 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:11.659 -04:00 [INF] HTTP POST /api/ventas responded 200 in 10407.3915 ms
2020-12-13 21:17:11.661 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:17:11.663 -04:00 [INF] Request finished in 10412.2575ms 200 text/plain; charset=utf-8
2020-12-13 21:25:56.007 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:25:56.201 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:25:56.230 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:25:56.232 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:25:56.232 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:25:56.237 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:25:56.259 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:25:56.264 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:25:56.265 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.266 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.273 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:25:56.287 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:25:56.290 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:25:56.291 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:25:56.292 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.296 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:25:56.300 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9349ms.
2020-12-13 21:25:56.300 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.300 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.302 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:25:56.302 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:25:56.304 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:25:56.304 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:25:56.304 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:25:56.305 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:25:56.305 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:25:56.328 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:25:56.328 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.328 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.331 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.8495ms
2020-12-13 21:25:56.331 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.333 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.8863 ms
2020-12-13 21:25:56.335 -04:00 [INF] Request finished in 107.6823ms 200 application/json; charset=utf-8
2020-12-13 21:25:59.491 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 169
2020-12-13 21:25:59.492 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:25:59.492 -04:00 [DBG] POST requests are not supported
2020-12-13 21:25:59.493 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 21:25:59.493 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 21:25:59.493 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:25:59.493 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:25:59.513 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:25:59.513 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:25:59.514 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:25:59.518 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 21:25:59.520 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-13 21:25:59.520 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:25:59.529 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-13 21:25:59.529 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.529 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.529 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 21:25:59.531 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:59.532 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:25:59.532 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-13 21:25:59.533 -04:00 [INF] Insertando producto con los parametros
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.235 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:00.304 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.319 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.327 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:00.331 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:00.339 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:26:00.394 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.641 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.643 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:26:00.654 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:26:00.698 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:00.703 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-13 21:26:00.720 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 21:26:00.761 -04:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 21:26:00.767 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:00.771 -04:00 [DBG] Committing transaction.
2020-12-13 21:26:00.774 -04:00 [DBG] Committed transaction.
2020-12-13 21:26:00.777 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.781 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.783 -04:00 [DBG] Disposing transaction.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.792 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 21:26:00.794 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1262.2633ms.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:00.796 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:00.796 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:00.796 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:00.796 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:00.796 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:26:00.796 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:26:00.798 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:00.798 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.798 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.798 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 1285.1734ms
2020-12-13 21:26:00.799 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:26:00.800 -04:00 [INF] HTTP POST /api/productos responded 200 in 1307.9807 ms
2020-12-13 21:26:00.803 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:00.804 -04:00 [INF] Request finished in 1313.7677ms 200 text/plain; charset=utf-8
2020-12-13 21:26:06.878 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 21:26:06.878 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:26:06.879 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 21:26:06.880 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 21:26:06.881 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 21:26:06.881 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:06.881 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:06.890 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 21:26:06.890 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:26:06.890 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:26:06.891 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:26:06.891 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:06.891 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:26:06.892 -04:00 [INF] Obteniendo productos...
2020-12-13 21:26:06.922 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:06.968 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 21:26:06.988 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:26:06.988 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:26:07.119 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 21:26:07.141 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:07.141 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:07.142 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.142 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.143 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 21:26:07.153 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 21:26:07.167 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.169 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.171 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.173 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:07.173 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.173 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.174 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 282.9421ms.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:07.175 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:07.175 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:07.175 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:07.175 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:07.175 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:26:07.175 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 21:26:07.177 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:07.177 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.177 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.177 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 286.6259ms
2020-12-13 21:26:07.177 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:07.178 -04:00 [INF] HTTP GET /api/productos responded 200 in 298.4904 ms
2020-12-13 21:26:07.178 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:07.178 -04:00 [INF] Request finished in 300.5077ms 200 application/json; charset=utf-8
2020-12-13 21:26:29.718 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 342
2020-12-13 21:26:29.718 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:26:29.718 -04:00 [DBG] POST requests are not supported
2020-12-13 21:26:29.718 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:26:29.718 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:26:29.718 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.718 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.722 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:26:29.723 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:26:29.723 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:26:29.723 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:26:29.723 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:26:29.723 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:26:29.723 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:26:29.723 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:26:29.730 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:26:29.730 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.730 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.730 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:26:29.736 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.736 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:26:29.736 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:26:29.737 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:26:29.747 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:29.757 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:26:29.766 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:26:29.803 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:26:29.808 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.809 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.809 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.809 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.809 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:26:29.816 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:26:29.828 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.831 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.835 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.844 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.844 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.844 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.872 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.882 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.887 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.888 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:26:29.888 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:26:29.888 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:26:29.893 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:26:29.893 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.893 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.893 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.893 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.893 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:26:29.895 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.895 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.895 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.909 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.916 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.918 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.920 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.920 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:29.920 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:29.933 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:26:29.933 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.933 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.933 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:26:29.934 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:26:29.935 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.935 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.936 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:26:29.939 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:26:29.940 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.946 -04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2020-12-13 21:26:29.947 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.947 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.947 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:26:29.949 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:26:29.950 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.950 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.950 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.950 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:26:29.953 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:26:29.953 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.953 -04:00 [DBG] Committing transaction.
2020-12-13 21:26:29.956 -04:00 [DBG] Committed transaction.
2020-12-13 21:26:29.956 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.956 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.956 -04:00 [DBG] Disposing transaction.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2020-12-13 21:26:29.958 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 222.0203ms.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:29.959 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:29.959 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:29.959 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:29.959 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:29.959 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:26:29.959 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:26:29.959 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:29.959 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.959 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.959 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 236.6775ms
2020-12-13 21:26:29.959 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.959 -04:00 [INF] HTTP POST /api/ventas responded 200 in 241.3833 ms
2020-12-13 21:26:29.960 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:29.960 -04:00 [INF] Request finished in 265.7685ms 200 text/plain; charset=utf-8
2020-12-13 22:08:45.283 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:08:45.459 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:08:45.489 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:08:45.491 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:08:45.492 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:45.496 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:08:45.517 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:08:45.521 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:08:45.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.523 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.530 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:08:45.544 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:08:45.547 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:08:45.548 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:08:45.549 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.553 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:08:45.557 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8758ms.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.558 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:08:45.559 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:08:45.560 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:08:45.560 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:08:45.560 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:08:45.561 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:08:45.561 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:08:45.585 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:08:45.585 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.585 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.588 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.2514ms
2020-12-13 22:08:45.589 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.590 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 91.3852 ms
2020-12-13 22:08:45.592 -04:00 [INF] Request finished in 105.933ms 200 application/json; charset=utf-8
2020-12-13 22:08:48.760 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  0
2020-12-13 22:08:48.761 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:48.761 -04:00 [DBG] POST requests are not supported
2020-12-13 22:08:48.762 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:48.762 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.762 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.762 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.763 -04:00 [INF] HTTP POST /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 405 in 1.7151 ms
2020-12-13 22:08:48.764 -04:00 [INF] Request finished in 4.3709ms 405 
2020-12-13 22:08:55.667 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:08:55.668 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:55.668 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:08:55.670 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:55.670 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:55.670 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:55.671 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:55.691 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:08:55.692 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:08:55.692 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:08:55.696 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:08:55.697 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:08:55.698 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.698 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.698 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:08:55.699 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:55.700 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:08:55.700 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:08:55.701 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.397 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:08:56.467 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:08:56.538 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:08:56.538 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:08:56.539 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:08:56.539 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:08:56.540 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:08:56.681 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:08:56.718 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:08:56.749 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 22:08:56.774 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.009 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.018 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:08:57.062 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:08:57.104 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.141 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.152 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.162 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.165 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.168 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.177 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:08:57.179 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.184 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.186 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:08:57.196 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:08:57.198 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:08:57.198 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:08:57.198 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.199 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.199 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:08:57.203 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:08:57.209 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.213 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.217 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.220 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:08:57.220 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.220 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.223 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:08:57.377 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:08:57.432 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1731.7054ms.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.434 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.434 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:08:57.434 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:08:57.434 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:08:57.434 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:08:57.434 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:08:57.434 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:08:57.434 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:08:57.436 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:08:57.436 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.436 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.437 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 1744.7999ms
2020-12-13 22:08:57.437 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:57.438 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 1769.2464 ms
2020-12-13 22:08:57.440 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:08:57.442 -04:00 [INF] Request finished in 1774.8385ms 400 text/plain; charset=utf-8
2020-12-13 22:09:15.377 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:09:15.378 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:09:15.378 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:09:15.378 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:15.378 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:15.379 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:15.379 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:15.379 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:09:15.379 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:09:15.380 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:15.380 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:15.380 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:15.381 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:15.381 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:09:15.381 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:09:19.670 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:09:20.095 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:09:20.098 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:20.098 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:20.098 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.098 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.098 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:20.105 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:20.126 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.127 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.127 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:20.128 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:20.128 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:20.128 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.129 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:09:20.130 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:20.131 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.131 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.131 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:09:49.250 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:09:49.261 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 33879.6197ms.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:09:49.261 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:09:49.261 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:09:49.261 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:09:49.262 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:09:49.262 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:09:49.262 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:09:49.262 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:09:49.262 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.262 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.263 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 33883.5967ms
2020-12-13 22:09:49.263 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:49.266 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 33888.1223 ms
2020-12-13 22:09:49.266 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:09:49.266 -04:00 [INF] Request finished in 33889.2671ms 400 text/plain; charset=utf-8
2020-12-13 22:09:52.934 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:09:52.934 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:09:52.934 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:09:52.935 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:52.935 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:52.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:52.935 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:52.935 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:09:52.936 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:52.936 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:52.937 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:09:52.937 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:09:54.121 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:09:56.548 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:09:56.562 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:56.562 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:56.563 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.563 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.563 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:56.564 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:56.565 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.565 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.566 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.585 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.587 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:56.588 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.588 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.450 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:10:48.450 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:10:48.450 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.451 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.451 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:10:48.472 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:10:48.472 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:10:48.473 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.473 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:00.678 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:11:00.821 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:11:00.822 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 67884.7259ms.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:00.822 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:11:00.823 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:11:00.823 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:11:00.823 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:11:00.823 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:11:00.823 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:11:00.823 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:00.823 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.823 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.823 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 67887.435ms
2020-12-13 22:11:00.823 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:00.824 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 67889.0807 ms
2020-12-13 22:11:00.824 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:11:00.824 -04:00 [INF] Request finished in 67890.0865ms 400 text/plain; charset=utf-8
2020-12-13 22:11:42.898 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:11:42.898 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:11:42.899 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:11:42.899 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:11:42.899 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:11:42.899 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:42.899 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:42.900 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:11:42.900 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:11:42.900 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:42.902 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:11:42.902 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:11:44.187 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:11:45.572 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:11:45.582 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:11:45.582 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:11:45.582 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.583 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.583 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:11:45.630 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:11:45.632 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.632 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.620 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:11:48.620 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:11:48.620 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.620 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.621 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:11:48.624 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:11:48.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.642 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.642 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:11:48.642 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.642 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:51.015 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:11:51.161 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:11:51.162 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8260.3377ms.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:51.162 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:11:51.163 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:11:51.163 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:11:51.163 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:11:51.163 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:11:51.163 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:11:51.163 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:51.163 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.163 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.163 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 8263.0593ms
2020-12-13 22:11:51.163 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:51.163 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 8264.6909 ms
2020-12-13 22:11:51.164 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:11:51.164 -04:00 [INF] Request finished in 8267.3697ms 400 text/plain; charset=utf-8
2020-12-13 22:12:14.178 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:12:14.352 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:12:14.379 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:12:14.382 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:12:14.382 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:14.386 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:12:14.411 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:12:14.415 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:12:14.415 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.417 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.424 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:12:14.438 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:12:14.441 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:14.441 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:14.442 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:12:14.443 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.446 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:14.450 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8693ms.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.452 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:12:14.452 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:14.454 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:14.454 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:14.454 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:14.454 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:12:14.454 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:12:14.477 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:12:14.477 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.477 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.481 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.5546ms
2020-12-13 22:12:14.481 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.482 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.0683 ms
2020-12-13 22:12:14.485 -04:00 [INF] Request finished in 108.2832ms 200 application/json; charset=utf-8
2020-12-13 22:12:17.165 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:17.165 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:17.165 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:17.170 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:17.170 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:17.170 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:17.170 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:17.184 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:17.185 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:17.185 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:17.185 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:17.189 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:17.190 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:17.190 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.190 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.190 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:17.192 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:17.193 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:17.193 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:18.595 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.818 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:20.897 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:12:20.969 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:12:21.121 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:12:21.160 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:21.191 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-13 22:12:21.216 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.475 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.483 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:21.525 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:21.567 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.603 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.613 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.626 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.629 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.637 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:21.639 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.644 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.757 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:12:36.769 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:12:36.771 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:36.771 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:36.771 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.772 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.772 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:36.797 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:36.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.813 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.816 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:36.816 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.816 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:37.943 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal 
    }
    )'
2020-12-13 22:12:38.102 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:12:38.139 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 20945.6397ms.
2020-12-13 22:12:38.139 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:38.139 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:38.140 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:38.141 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:38.141 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:38.141 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:38.141 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:12:38.141 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:12:38.143 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:38.143 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.143 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.143 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 20958.874ms
2020-12-13 22:12:38.144 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:38.145 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 20979.4519 ms
2020-12-13 22:12:38.147 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:12:38.149 -04:00 [INF] Request finished in 20983.9859ms 400 text/plain; charset=utf-8
2020-12-13 22:12:45.909 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:45.910 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:45.910 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:45.911 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:45.911 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:45.912 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:45.912 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:45.912 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:45.913 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:45.913 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:45.913 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:45.913 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:45.914 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:45.914 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:47.991 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:49.168 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:49.170 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:49.171 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:49.171 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.171 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.171 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:49.175 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.177 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:49.177 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:49.177 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:49.177 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:49.179 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:49.179 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.179 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.180 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal 
    }
    )'
2020-12-13 22:12:49.297 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:12:49.298 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3384.0393ms.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:49.299 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:49.299 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:49.299 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:49.299 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:49.299 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:12:49.299 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:12:49.299 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:49.299 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.299 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.299 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 3386.561ms
2020-12-13 22:12:49.299 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:49.300 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 3389.2881 ms
2020-12-13 22:12:49.300 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:12:49.300 -04:00 [INF] Request finished in 3391.2175ms 400 text/plain; charset=utf-8
2020-12-13 22:12:52.571 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:52.571 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:52.572 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:52.572 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:52.572 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:52.572 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:52.572 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:52.572 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:52.573 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:52.573 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:52.575 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:52.575 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:52.575 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:54.657 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:56.347 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:56.361 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:56.361 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:56.361 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.361 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.361 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:56.364 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:56.365 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.365 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:56.386 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.386 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:58.992 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:58.992 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:58.995 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:58.996 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:59.014 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:59.014 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:12.030 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 22:13:12.049 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 22:13:13.890 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()'
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-13 22:13:13.897 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal
        FROM DetalleVentas AS d), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:13:13.899 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:13:13.899 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:13:13.900 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.900 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.901 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:13.903 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:13.914 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.921 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.929 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.936 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.939 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:13:13.939 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.939 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:43.190 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 22:13:43.195 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 22:13:48.278 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:13:48.279 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-13 22:13:48.279 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.279 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.279 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:48.283 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:48.283 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:13:48.283 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.283 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:21.431 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:14:21.601 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:14:21.629 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:14:21.631 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:14:21.631 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:14:21.636 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:14:21.660 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:14:21.664 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:14:21.664 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.665 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.673 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:14:21.687 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:14:21.691 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:14:21.691 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:14:21.691 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:14:21.691 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.695 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:14:21.699 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8981ms.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.701 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:14:21.702 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:14:21.703 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:14:21.703 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:14:21.703 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:14:21.704 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:14:21.704 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:14:21.726 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:14:21.726 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.726 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.729 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.4118ms
2020-12-13 22:14:21.730 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.731 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.4814 ms
2020-12-13 22:14:21.734 -04:00 [INF] Request finished in 108.0915ms 200 application/json; charset=utf-8
2020-12-13 22:14:28.929 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:14:28.929 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:14:28.929 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:14:28.932 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:14:28.934 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:14:28.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:28.935 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:28.950 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:14:28.950 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:14:28.951 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:14:28.954 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:14:28.956 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:14:28.956 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.956 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.956 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:14:28.957 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:28.958 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:14:28.958 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:14:31.818 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.421 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:14:34.503 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:14:34.571 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:14:34.573 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:14:34.719 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:14:34.760 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:34.791 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 22:14:34.817 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.080 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.088 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:14:35.133 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:14:35.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.212 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.223 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.232 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.236 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.239 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.247 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:35.250 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.254 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.847 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:14:50.848 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:14:50.849 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:14:50.849 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:14:50.859 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:14:50.861 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:50.861 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:14:50.861 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.862 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.862 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:50.885 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:50.892 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.897 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.901 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.905 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:50.905 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.905 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.524 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value 
    }
    )'
2020-12-13 22:14:51.533 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Cantidad -> 0
            Precio -> 1
            Subtotal -> 2
        SELECT d.cantidad AS Cantidad, d.precio AS Precio, d.subtotal AS Subtotal
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:14:51.534 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:51.534 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:14:51.534 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.534 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.534 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad] AS [Cantidad], [d].[precio] AS [Precio], [d].[subtotal] AS [Subtotal]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:51.555 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad] AS [Cantidad], [d].[precio] AS [Precio], [d].[subtotal] AS [Subtotal]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:51.556 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:51.556 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.556 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:58.541 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29582.5374ms.
2020-12-13 22:14:58.541 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:58.541 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:14:58.542 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:14:58.543 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:14:58.543 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:14:58.543 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:14:58.543 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:14:58.543 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:14:58.552 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:14:58.552 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.552 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.553 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 29602.7321ms
2020-12-13 22:14:58.553 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:58.554 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 29624.5841 ms
2020-12-13 22:14:58.555 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:14:58.557 -04:00 [INF] Request finished in 29628.2333ms 200 application/json; charset=utf-8
2020-12-13 22:16:39.699 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:16:39.874 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:16:39.900 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:16:39.902 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:16:39.903 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:16:39.908 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:16:39.933 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:16:39.937 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:16:39.938 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:39.940 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:39.947 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:16:39.962 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:16:39.966 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:16:39.966 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:16:39.966 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.970 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:16:39.974 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9511ms.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:39.976 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:16:39.976 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:16:39.978 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:16:39.978 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:16:39.978 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:16:39.979 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:16:39.979 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:16:40.001 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:16:40.001 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:40.001 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:40.004 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.8118ms
2020-12-13 22:16:40.005 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:40.006 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 96.3857 ms
2020-12-13 22:16:40.009 -04:00 [INF] Request finished in 112.0425ms 200 application/json; charset=utf-8
2020-12-13 22:16:44.978 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:16:44.979 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:16:44.979 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:16:44.984 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:16:44.984 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:16:44.984 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:44.984 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:44.999 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:16:45.000 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:16:45.000 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:16:45.000 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:16:45.000 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:16:45.004 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:16:45.005 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:16:45.006 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.006 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.006 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:16:45.007 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:45.008 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:16:45.008 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:16:47.281 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.764 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:16:48.832 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:16:48.904 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:16:49.048 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:16:49.088 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.121 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2020-12-13 22:16:49.146 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.376 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.386 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:16:49.427 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:16:49.469 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.505 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.515 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.528 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.531 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.539 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.541 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.545 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.547 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:16:49.557 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:16:49.559 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.559 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:16:49.559 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.560 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.560 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.564 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.570 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.574 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.581 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.581 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.581 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.585 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Id = x.Id, 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value
        ) 
    }
    )'
2020-12-13 22:16:49.594 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:16:49.594 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.594 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:16:49.594 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.594 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.594 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.598 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.600 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.600 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.600 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.604 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4595.9627ms.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:16:49.606 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:16:49.606 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:16:49.606 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:16:49.606 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:16:49.606 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:16:49.606 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:16:49.613 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:16:49.613 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.613 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.614 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 4614.035ms
2020-12-13 22:16:49.614 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:49.615 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 4635.8837 ms
2020-12-13 22:16:49.616 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:16:49.618 -04:00 [INF] Request finished in 4639.5434ms 200 application/json; charset=utf-8
2020-12-13 22:19:14.187 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:19:14.368 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:19:14.395 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:19:14.398 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:19:14.398 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:19:14.403 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:19:14.427 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:19:14.431 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:19:14.432 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.433 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.440 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:19:14.459 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:19:14.463 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:19:14.463 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.467 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:19:14.471 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.889ms.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.473 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:19:14.473 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:19:14.475 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:19:14.475 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:19:14.475 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:19:14.475 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:19:14.476 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:19:14.499 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:19:14.499 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.499 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.503 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.0274ms
2020-12-13 22:19:14.503 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.505 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 100.1318 ms
2020-12-13 22:19:14.508 -04:00 [INF] Request finished in 115.2783ms 200 application/json; charset=utf-8
2020-12-13 22:19:30.402 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:19:30.402 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:19:30.402 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:19:30.403 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:19:30.403 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:19:30.403 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:30.403 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:30.418 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:19:30.418 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:19:30.419 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:19:30.422 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:19:30.424 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:19:30.424 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.424 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.424 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:19:30.425 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:30.426 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:19:30.426 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:19:34.329 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:19:34.889 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:35.014 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:19:35.085 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:19:35.154 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:19:35.300 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:19:35.341 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.382 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2020-12-13 22:19:35.409 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.642 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.651 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:19:35.693 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:19:35.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.771 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.782 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.791 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.794 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.797 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.805 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.808 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.812 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.815 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:19:35.825 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:19:35.827 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.827 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:19:35.827 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.828 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.828 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.832 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.843 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.850 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.850 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.850 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.853 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value
        ) 
    }
    )'
2020-12-13 22:19:35.863 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:19:35.863 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.863 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:19:35.863 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.863 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.863 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.866 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.868 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.868 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.868 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.872 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5445.4541ms.
2020-12-13 22:19:35.872 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:35.872 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:19:35.873 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:19:35.874 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:19:35.874 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:19:35.874 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:19:35.874 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:19:35.874 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:19:35.884 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:19:35.884 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.884 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.885 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 5466.4361ms
2020-12-13 22:19:35.885 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:35.886 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 5484.0021 ms
2020-12-13 22:19:35.887 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:19:35.888 -04:00 [INF] Request finished in 5486.9698ms 200 application/json; charset=utf-8
2020-12-13 22:25:03.463 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:25:03.636 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:25:03.665 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:25:03.667 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:25:03.667 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:25:03.672 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:25:03.695 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:25:03.701 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:25:03.701 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.703 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.710 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:25:03.725 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:25:03.728 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:25:03.729 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:25:03.730 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.734 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:25:03.738 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.97ms.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:25:03.740 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:25:03.742 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:25:03.742 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:25:03.742 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:25:03.742 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:25:03.742 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:25:03.766 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:25:03.766 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.766 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.770 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.4873ms
2020-12-13 22:25:03.770 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.771 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 97.4837 ms
2020-12-13 22:25:03.774 -04:00 [INF] Request finished in 112.0831ms 200 application/json; charset=utf-8
2020-12-13 23:18:23.171 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:18:23.341 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:18:23.373 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 23:18:23.376 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:18:23.376 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:18:23.380 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 23:18:23.404 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 23:18:23.408 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 23:18:23.409 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.410 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.417 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:18:23.432 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:18:23.436 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:18:23.436 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:18:23.436 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 23:18:23.436 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.440 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:18:23.444 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8987ms.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.446 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 23:18:23.447 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:18:23.448 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:18:23.448 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:18:23.448 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:18:23.449 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:18:23.449 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 23:18:23.472 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 23:18:23.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.472 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.476 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.5035ms
2020-12-13 23:18:23.476 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.477 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.9189 ms
2020-12-13 23:18:23.480 -04:00 [INF] Request finished in 109.1561ms 200 application/json; charset=utf-8
2020-12-13 23:18:35.554 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:18:35.554 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:18:35.554 -04:00 [DBG] POST requests are not supported
2020-12-13 23:18:35.556 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:18:35.556 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:18:35.556 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:35.557 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:35.574 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:18:35.575 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:18:35.575 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:18:35.575 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:18:35.575 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:18:35.579 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:18:35.580 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:18:35.581 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:18:35.588 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:18:35.588 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.588 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.588 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:18:35.593 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:35.594 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:18:35.594 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:18:44.329 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.796 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:18:51.874 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Where(v => v.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-13 23:18:52.024 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Venta>(
    asyncEnumerable: new SingleQueryingEnumerable<Venta>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Venta.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Venta.ClienteId (no field, Nullable<Guid>) Shadow FK Index, 1], [Property: Venta.EstadoVenta (EstadoVenta) Required, 2], [Property: Venta.FechaAnulacion (Nullable<DateTime>), 3], [Property: Venta.FechaCreacion (DateTime) Required, 4], [Property: Venta.FechaFinalizacion (Nullable<DateTime>), 5], }
            SELECT TOP(1) v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Ventas AS v
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:18:52.055 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:18:52.095 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 23:18:52.122 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.371 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.379 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:18:52.421 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:18:52.459 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.492 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:18:52.494 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.499 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.502 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:18:52.504 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:18:52.512 -04:00 [DBG] The unchanged property 'Venta.EstadoVenta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:18:52.518 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.520 -04:00 [DBG] The unchanged property 'Venta.FechaFinalizacion' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:18:52.523 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:18:52.536 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.537 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.538 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:18:52.544 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:18:52.576 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:18:52.576 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:18:52.578 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaFinalizacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:18:52.585 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaFinalizacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:18:52.591 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:18:52.593 -04:00 [DBG] Committing transaction.
2020-12-13 23:18:52.596 -04:00 [DBG] Committed transaction.
2020-12-13 23:18:52.597 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.598 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.600 -04:00 [DBG] Disposing transaction.
2020-12-13 23:18:52.606 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.608 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:18:55.573 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19978.1451ms.
2020-12-13 23:18:55.573 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:18:55.575 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:18:55.576 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:18:55.576 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:18:55.576 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:18:55.576 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:18:55.576 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:18:55.578 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:18:55.578 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.578 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.578 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 20003.4553ms
2020-12-13 23:18:55.578 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:55.579 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 200 in 20024.8793 ms
2020-12-13 23:18:55.581 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:18:55.583 -04:00 [INF] Request finished in 20030.6014ms 200 text/plain; charset=utf-8
2020-12-13 23:19:20.421 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:19:20.421 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:19:20.422 -04:00 [DBG] POST requests are not supported
2020-12-13 23:19:20.424 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:19:20.424 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:19:20.425 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:20.425 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:20.425 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:19:20.426 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:20.426 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:20.432 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:20.433 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:19:20.433 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:19:20.433 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.433 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:20.434 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:19:20.434 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:19:33.728 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:19:33.754 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:19:33.756 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:19:33.756 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:19:33.757 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.757 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.757 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:19:33.761 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:19:33.762 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:19:33.763 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:19:33.763 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.763 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.883 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Finalizada al estado Finalizada
2020-12-13 23:19:33.884 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13450.0029ms.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:19:33.884 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:19:33.885 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:19:33.885 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:19:33.885 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:19:33.885 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:19:33.885 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:19:33.885 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:19:33.885 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.885 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.885 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 13459.451ms
2020-12-13 23:19:33.885 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:33.886 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 400 in 13463.4369 ms
2020-12-13 23:19:33.886 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:19:33.886 -04:00 [INF] Request finished in 13468.3205ms 400 text/plain; charset=utf-8
2020-12-13 23:19:57.566 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/anular application/json 59
2020-12-13 23:19:57.566 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:19:57.566 -04:00 [DBG] POST requests are not supported
2020-12-13 23:19:57.566 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/anular'
2020-12-13 23:19:57.566 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/anular' is valid for the request path '/api/ventas/anular'
2020-12-13 23:19:57.567 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:57.567 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:57.570 -04:00 [INF] Route matched with {action = "AnularVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AnularVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:19:57.570 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:57.570 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:19:57.571 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:19:57.571 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:19:57.571 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.571 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:57.572 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:57.572 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:19:57.572 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:20:04.790 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:20:05.542 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:05.543 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:05.543 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:05.543 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.544 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.544 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:05.550 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:05.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:05.566 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:05.568 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.568 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:07.946 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Finalizada al estado Anulada
2020-12-13 23:20:07.947 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 10375.0038ms.
2020-12-13 23:20:07.947 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.949 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.949 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:20:07.949 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:07.949 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:07.950 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:07.950 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:07.950 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:07.950 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:07.951 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:20:07.952 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.952 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.952 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) in 10381.6281ms
2020-12-13 23:20:07.952 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:07.952 -04:00 [INF] HTTP POST /api/ventas/anular responded 400 in 10385.8396 ms
2020-12-13 23:20:07.953 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:07.953 -04:00 [INF] Request finished in 10410.2223ms 400 text/plain; charset=utf-8
2020-12-13 23:20:22.258 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 342
2020-12-13 23:20:22.258 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:20:22.258 -04:00 [DBG] POST requests are not supported
2020-12-13 23:20:22.258 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 23:20:22.258 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 23:20:22.258 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.258 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.262 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:20:22.262 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:22.262 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:22.263 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:20:22.263 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 23:20:22.263 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:20:22.271 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 23:20:22.271 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.271 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.271 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:20:22.273 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.274 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:20:22.274 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 23:20:22.274 -04:00 [INF] Insertando venta con los parametros
2020-12-13 23:20:22.279 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:22.280 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:20:22.306 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:20:22.306 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.307 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.307 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.307 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.307 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:20:22.310 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:20:22.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.329 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.343 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.346 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.350 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.352 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.352 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.352 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.371 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.381 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.388 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 23:20:22.389 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:20:22.389 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:20:22.394 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:20:22.394 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.394 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.394 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.394 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.394 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:20:22.396 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:20:22.404 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.407 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.411 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.417 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.417 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.417 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.431 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.438 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.440 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.442 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.442 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:22.442 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:22.453 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:20:22.453 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.454 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.454 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:20:22.454 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:20:22.463 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.463 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.463 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.466 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.466 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.471 -04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2020-12-13 23:20:22.472 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.472 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.472 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.474 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.474 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.474 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.474 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.475 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:20:22.476 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:20:22.476 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.476 -04:00 [DBG] Committing transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] Committed transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.479 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.479 -04:00 [DBG] Disposing transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2020-12-13 23:20:22.481 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 207.0762ms.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:22.481 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:22.481 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:22.481 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:22.481 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:22.481 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:22.481 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:22.482 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:22.482 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.482 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.482 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 219.4689ms
2020-12-13 23:20:22.483 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.483 -04:00 [INF] HTTP POST /api/ventas responded 200 in 224.6848 ms
2020-12-13 23:20:22.483 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:22.483 -04:00 [INF] Request finished in 225.4497ms 200 text/plain; charset=utf-8
2020-12-13 23:20:38.425 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/anular application/json 59
2020-12-13 23:20:38.426 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:20:38.426 -04:00 [DBG] POST requests are not supported
2020-12-13 23:20:38.426 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/anular'
2020-12-13 23:20:38.426 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/anular' is valid for the request path '/api/ventas/anular'
2020-12-13 23:20:38.426 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:38.426 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:38.426 -04:00 [INF] Route matched with {action = "AnularVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AnularVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:20:38.427 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:20:38.427 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:20:38.427 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:38.427 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:38.427 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:20:38.427 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:20:38.427 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:20:38.428 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:38.428 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:20:38.428 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:20:39.999 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:20:40.003 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:40.004 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:40.004 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:40.005 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.005 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.005 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:40.010 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:40.011 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.011 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:40.011 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.011 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.012 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:40.012 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:40.012 -04:00 [DBG] The unchanged property 'Venta.EstadoVenta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:20:40.012 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.012 -04:00 [DBG] The unchanged property 'Venta.FechaAnulacion' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:20:40.012 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:20:40.013 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.013 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.013 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:20:40.013 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:20:40.014 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:40.014 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:40.014 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaAnulacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:20:40.016 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaAnulacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:20:40.016 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:40.016 -04:00 [DBG] Committing transaction.
2020-12-13 23:20:40.017 -04:00 [DBG] Committed transaction.
2020-12-13 23:20:40.017 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.017 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.017 -04:00 [DBG] Disposing transaction.
2020-12-13 23:20:40.018 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.018 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:20:40.018 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1590.1796ms.
2020-12-13 23:20:40.018 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:40.018 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:40.019 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:40.019 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:40.019 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:40.019 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:40.019 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:40.019 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:40.020 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:40.020 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.020 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.020 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) in 1593.169ms
2020-12-13 23:20:40.020 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:40.020 -04:00 [INF] HTTP POST /api/ventas/anular responded 200 in 1594.2807 ms
2020-12-13 23:20:40.020 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:40.020 -04:00 [INF] Request finished in 1595.0232ms 200 text/plain; charset=utf-8
2020-12-13 23:21:00.378 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:21:00.378 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:21:00.380 -04:00 [DBG] POST requests are not supported
2020-12-13 23:21:00.380 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:21:00.380 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:21:00.380 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:00.380 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:00.381 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:21:00.381 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:21:00.381 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:21:00.381 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:21:00.381 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:21:00.381 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:21:00.382 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:00.382 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:21:00.382 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:21:05.828 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:21:05.830 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:21:05.834 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:21:05.834 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:21:05.834 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.834 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.834 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:21:05.837 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:21:05.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:21:05.838 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:21:05.838 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.838 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.935 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Anulada al estado Finalizada
2020-12-13 23:21:05.935 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5552.6557ms.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:21:05.935 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:21:05.935 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:21:05.935 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:21:05.935 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:21:05.935 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:21:05.935 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:21:05.936 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:21:05.936 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.936 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.936 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 5555.0405ms
2020-12-13 23:21:05.936 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:05.936 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 400 in 5556.0098 ms
2020-12-13 23:21:05.936 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:21:05.936 -04:00 [INF] Request finished in 5559.5284ms 400 text/plain; charset=utf-8
2020-12-13 23:22:28.648 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:22:28.836 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:22:28.864 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/productos  
2020-12-13 23:22:28.866 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:22:28.866 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:28.871 -04:00 [DBG] The request path /productos does not match a supported file type
2020-12-13 23:22:28.891 -04:00 [DBG] No candidates found for the request path '/productos'
2020-12-13 23:22:28.891 -04:00 [DBG] Request did not match any endpoints
2020-12-13 23:22:28.894 -04:00 [INF] HTTP GET /productos responded 404 in 21.2166 ms
2020-12-13 23:22:28.909 -04:00 [INF] Request finished in 47.5232ms 404 
2020-12-13 23:22:37.079 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productps  
2020-12-13 23:22:37.080 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:37.080 -04:00 [DBG] The request path /api/productps does not match a supported file type
2020-12-13 23:22:37.083 -04:00 [DBG] No candidates found for the request path '/api/productps'
2020-12-13 23:22:37.083 -04:00 [DBG] Request did not match any endpoints
2020-12-13 23:22:37.083 -04:00 [INF] HTTP GET /api/productps responded 404 in 2.7533 ms
2020-12-13 23:22:37.086 -04:00 [INF] Request finished in 6.6652ms 404 
2020-12-13 23:22:39.926 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:22:39.926 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:39.926 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:22:39.931 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:22:39.935 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:22:39.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:39.936 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:39.942 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:22:39.964 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:22:39.967 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:22:39.968 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:39.969 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:39.973 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:22:39.974 -04:00 [INF] Obteniendo productos...
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.635 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:22:40.689 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:22:40.709 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:22:40.709 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:22:40.847 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:22:40.877 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:22:40.908 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 23:22:40.912 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.157 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.164 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:41.195 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:41.230 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.249 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.260 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.270 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:22:41.274 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.278 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.285 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1309.214ms.
2020-12-13 23:22:41.285 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:41.288 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:22:41.290 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:22:41.290 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:22:41.290 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:22:41.290 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:22:41.290 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:22:41.304 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:41.304 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.304 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.309 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1337.0092ms
2020-12-13 23:22:41.309 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:41.310 -04:00 [INF] HTTP GET /api/productos responded 200 in 1383.2081 ms
2020-12-13 23:22:41.313 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:22:41.315 -04:00 [INF] Request finished in 1389.0445ms 200 application/json; charset=utf-8
2020-12-13 23:22:57.229 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:22:57.419 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:22:57.445 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:22:57.448 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:22:57.448 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:57.452 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:22:57.480 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:22:57.484 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:22:57.485 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:57.486 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:57.494 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:22:57.515 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:22:57.519 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:22:57.519 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:57.520 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:57.523 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:22:57.525 -04:00 [INF] Obteniendo productos...
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.197 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:22:58.250 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:22:58.269 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:22:58.270 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:22:58.403 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:22:58.431 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:22:58.460 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2020-12-13 23:22:58.465 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.713 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.720 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:58.750 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:58.787 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.819 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.829 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:22:58.832 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.836 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.843 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1316.3471ms.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:58.845 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.845 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.846 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:58.846 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:22:58.848 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:22:58.848 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:22:58.848 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:22:58.849 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:22:58.849 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:22:58.872 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:58.872 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.872 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.876 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1354.0984ms
2020-12-13 23:22:58.877 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:58.879 -04:00 [INF] HTTP GET /api/productos responded 200 in 1425.0180 ms
2020-12-13 23:22:58.883 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:22:58.884 -04:00 [INF] Request finished in 1442.199ms 200 application/json; charset=utf-8
2020-12-13 23:23:32.177 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:23:32.344 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:23:32.371 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:23:32.373 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:23:32.373 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:23:32.377 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:23:32.400 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:23:32.404 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:23:32.405 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:32.406 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:32.413 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:23:32.434 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:23:32.438 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:23:32.438 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:32.443 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:23:32.444 -04:00 [INF] Obteniendo productos...
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:33.097 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:23:33.155 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:23:33.175 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:23:33.175 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:23:33.315 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:23:33.341 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:23:33.372 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-13 23:23:33.377 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.628 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.635 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:23:33.667 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:23:33.705 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.725 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.736 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.747 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:23:33.749 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.753 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.761 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1314.1398ms.
2020-12-13 23:23:33.761 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:33.761 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.763 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:23:33.764 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:23:33.766 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:23:33.766 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:23:33.766 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:23:33.767 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:23:33.767 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:23:33.790 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:23:33.790 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.790 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.794 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1353.2318ms
2020-12-13 23:23:33.795 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:33.796 -04:00 [INF] HTTP GET /api/productos responded 200 in 1417.1203 ms
2020-12-13 23:23:33.800 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:23:33.802 -04:00 [INF] Request finished in 1433.8786ms 200 application/json; charset=utf-8
2020-12-13 23:24:00.524 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 23:24:00.525 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:24:00.525 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:24:00.526 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:24:00.526 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:24:00.526 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.526 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.526 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:24:00.527 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:24:00.527 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:24:00.527 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:24:00.527 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.553 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.553 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.554 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.554 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:24:00.554 -04:00 [INF] Obteniendo productos...
2020-12-13 23:24:00.579 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:24:00.579 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:24:00.580 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:24:00.580 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.581 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.581 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:24:00.586 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.587 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:24:00.587 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.587 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.587 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.2276ms.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:24:00.587 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:24:00.588 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:24:00.588 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:24:00.588 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:24:00.588 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:24:00.588 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:24:00.588 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:24:00.588 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.588 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.588 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 61.7788ms
2020-12-13 23:24:00.588 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.588 -04:00 [INF] HTTP GET /api/productos responded 200 in 63.6010 ms
2020-12-13 23:24:00.589 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:24:00.589 -04:00 [INF] Request finished in 66.5444ms 200 application/json; charset=utf-8
2020-12-13 23:26:07.828 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:26:08.008 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:26:08.038 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:26:08.040 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:26:08.040 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:08.045 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:26:08.065 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:08.069 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:08.070 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:08.071 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:08.079 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:26:08.099 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:08.103 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:08.103 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:08.103 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:08.104 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:08.107 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:08.109 -04:00 [INF] Obteniendo productos...
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.760 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:08.814 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:26:08.834 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:26:08.834 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:26:08.975 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:26:09.005 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:09.035 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 23:26:09.040 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.288 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.295 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:09.326 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:09.362 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.398 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.409 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:09.411 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.416 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.423 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1312.4159ms.
2020-12-13 23:26:09.424 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:09.424 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:09.425 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:09.425 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:09.427 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:09.429 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:09.429 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:09.429 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:09.430 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:26:09.430 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:26:09.454 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:09.454 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.454 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.458 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1352.4112ms
2020-12-13 23:26:09.459 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:09.461 -04:00 [INF] HTTP GET /api/productos responded 200 in 1414.5550 ms
2020-12-13 23:26:09.465 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:09.467 -04:00 [INF] Request finished in 1431.6988ms 200 application/json; charset=utf-8
2020-12-13 23:26:45.353 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 128
2020-12-13 23:26:45.353 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:45.353 -04:00 [DBG] POST requests are not supported
2020-12-13 23:26:45.354 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:45.354 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:45.354 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.354 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.367 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:45.368 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:45.368 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:45.378 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 23:26:45.380 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-13 23:26:45.380 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:26:45.387 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-13 23:26:45.387 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.387 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.387 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 23:26:45.390 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.391 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:45.391 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-13 23:26:45.392 -04:00 [INF] Insertando producto con los parametros
2020-12-13 23:26:45.417 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:45.434 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.439 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.439 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.442 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:26:45.444 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:26:45.452 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:26:45.464 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.465 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.466 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:26:45.473 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:26:45.527 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:45.527 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:45.537 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 23:26:45.558 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 23:26:45.563 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:45.565 -04:00 [DBG] Committing transaction.
2020-12-13 23:26:45.571 -04:00 [DBG] Committed transaction.
2020-12-13 23:26:45.574 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.574 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.577 -04:00 [DBG] Disposing transaction.
2020-12-13 23:26:45.591 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.592 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.592 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.594 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:26:45.594 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 203.1002ms.
2020-12-13 23:26:45.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:45.595 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:45.595 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:45.595 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:45.595 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:45.595 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:26:45.595 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:26:45.600 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:45.600 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.600 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.600 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 232.4049ms
2020-12-13 23:26:45.600 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.600 -04:00 [INF] HTTP POST /api/productos responded 200 in 246.9233 ms
2020-12-13 23:26:45.601 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:45.601 -04:00 [INF] Request finished in 252.8061ms 200 text/plain; charset=utf-8
2020-12-13 23:26:49.141 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 23:26:49.142 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:49.142 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:26:49.142 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:49.143 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:49.143 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.143 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.144 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:49.145 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:49.145 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:49.145 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.146 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:49.146 -04:00 [INF] Obteniendo productos...
2020-12-13 23:26:49.154 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:49.155 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:49.155 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:49.155 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.155 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.155 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:49.158 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:49.159 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.159 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:49.160 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.161 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.161 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.9173ms.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:49.161 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:49.161 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:49.161 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:49.161 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:49.161 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:26:49.161 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:26:49.162 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:49.162 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.162 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.162 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 17.3002ms
2020-12-13 23:26:49.162 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.162 -04:00 [INF] HTTP GET /api/productos responded 200 in 20.0910 ms
2020-12-13 23:26:49.162 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:49.163 -04:00 [INF] Request finished in 22.0671ms 200 application/json; charset=utf-8
2020-12-13 23:26:55.569 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-13 23:26:55.570 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:55.570 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-13 23:26:55.570 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-13 23:26:55.570 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-13 23:26:55.570 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:26:55.570 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:26:55.575 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:55.575 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:55.575 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:55.576 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-13 23:26:55.576 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-13 23:26:55.576 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-13 23:26:55.577 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:55.577 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:55.577 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-13 23:26:55.578 -04:00 [INF] Obteniendo producto con ID 
2020-12-13 23:26:55.582 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:55.591 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-13 23:26:55.598 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:26:55.598 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:26:55.634 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:26:55.639 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:55.639 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:55.639 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.639 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.639 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:26:55.641 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:26:55.643 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:55.643 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.644 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:02.269 -04:00 [ERR] Error al obtener el producto con ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at Tienda.Ventas.Applicacion.Features.Producto.GetProductoById.GetProductoByIdHandler.Handle(GetProductoByIdQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetProductoById\GetProductoByIdHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById(String productoID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 63
2020-12-13 23:27:02.302 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 6724.1256ms.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:02.302 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:02.302 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:02.302 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:02.302 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:02.302 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:02.302 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:02.303 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:02.303 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.303 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.303 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 6727.8386ms
2020-12-13 23:27:02.303 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:02.303 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 400 in 6733.3892 ms
2020-12-13 23:27:02.304 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:02.304 -04:00 [INF] Request finished in 6734.5983ms 400 text/plain; charset=utf-8
2020-12-13 23:27:18.288 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15  
2020-12-13 23:27:18.288 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:18.289 -04:00 [DBG] The request path /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 does not match a supported file type
2020-12-13 23:27:18.289 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-13 23:27:18.289 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-13 23:27:18.289 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.289 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.290 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:18.290 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:27:18.290 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.292 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:18.292 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["803d5433-0aa0-4401-b343-31d28f5e6a15"])
2020-12-13 23:27:18.292 -04:00 [INF] Obteniendo producto con ID 
2020-12-13 23:27:18.294 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:18.296 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:18.296 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:18.296 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.297 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.297 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:27:18.299 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:18.300 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.300 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.301 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.5268ms.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:18.301 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:18.301 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:18.301 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:18.301 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:18.301 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:27:18.301 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-13 23:27:18.302 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:18.302 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.302 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.302 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 12.1709ms
2020-12-13 23:27:18.302 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.303 -04:00 [INF] HTTP GET /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 responded 200 in 13.8735 ms
2020-12-13 23:27:18.303 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:18.303 -04:00 [INF] Request finished in 15.0393ms 200 application/json; charset=utf-8
2020-12-13 23:27:33.058 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 129
2020-12-13 23:27:33.058 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:33.058 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:33.059 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-13 23:27:33.059 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-13 23:27:33.059 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.059 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.068 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:33.068 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:33.069 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:33.070 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:33.070 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:33.071 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-13 23:27:33.071 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:33.073 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-13 23:27:33.073 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.073 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.073 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:33.076 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.076 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.076 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.077 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.077 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.077 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:33.077 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-13 23:27:33.078 -04:00 [INF] Registrando cliente con los parametros
2020-12-13 23:27:33.166 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.Rule.OnlyLettersRule: El nombre no puede contener puede contener nmeros
2020-12-13 23:27:33.166 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 89.3013ms.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:33.167 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:33.167 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:33.167 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:33.167 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:33.167 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:33.167 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:33.167 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:33.167 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.167 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.167 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 98.1951ms
2020-12-13 23:27:33.168 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.168 -04:00 [INF] HTTP POST /api/clientes responded 400 in 108.9717 ms
2020-12-13 23:27:33.168 -04:00 [INF] Request finished in 110.0921ms 400 text/plain; charset=utf-8
2020-12-13 23:27:45.924 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 142
2020-12-13 23:27:45.924 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:45.924 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:45.925 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-13 23:27:45.925 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-13 23:27:45.925 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.925 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.925 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:45.925 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:45.926 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:45.926 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:45.926 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:45.927 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-13 23:27:45.927 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:45.927 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-13 23:27:45.927 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.927 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.927 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:45.928 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.928 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:45.928 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-13 23:27:45.928 -04:00 [INF] Registrando cliente con los parametros
2020-12-13 23:27:45.933 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:45.948 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.952 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.954 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.956 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.958 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.958 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:27:45.958 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:27:45.962 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:27:45.962 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.963 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.963 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:27:45.963 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:27:45.964 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:45.964 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:45.964 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:27:45.967 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:27:45.968 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:45.968 -04:00 [DBG] Committing transaction.
2020-12-13 23:27:45.968 -04:00 [DBG] Committed transaction.
2020-12-13 23:27:45.968 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.968 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.968 -04:00 [DBG] Disposing transaction.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:27:45.969 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.3113ms.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:45.969 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:45.970 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:45.970 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:45.970 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:45.970 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:45.970 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:45.970 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:45.970 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.970 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.970 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 44.3191ms
2020-12-13 23:27:45.970 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.970 -04:00 [INF] HTTP POST /api/clientes responded 200 in 45.6771 ms
2020-12-13 23:27:45.970 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:45.970 -04:00 [INF] Request finished in 46.3896ms 200 text/plain; charset=utf-8
2020-12-13 23:27:49.190 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-13 23:27:49.190 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:49.190 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:49.190 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-13 23:27:49.190 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-13 23:27:49.190 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.190 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.193 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:49.194 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:49.194 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:49.194 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:27:49.194 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-13 23:27:49.195 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:49.196 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-13 23:27:49.196 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.196 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.196 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:27:49.197 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.197 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:49.197 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-13 23:27:49.198 -04:00 [INF] Login con el email
2020-12-13 23:27:49.201 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:49.204 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-13 23:27:49.206 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:27:49.207 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:27:49.208 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:27:49.208 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:27:49.219 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:27:49.223 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:49.223 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:49.223 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.223 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.224 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:27:49.226 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:27:49.226 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:49.226 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.227 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.227 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 30.0493ms.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-13 23:27:49.227 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:49.227 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:49.227 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:49.227 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:49.227 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:49.227 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:49.228 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-13 23:27:49.228 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.228 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.228 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 34.0752ms
2020-12-13 23:27:49.228 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.228 -04:00 [INF] HTTP POST /api/clientes/login responded 404 in 38.3279 ms
2020-12-13 23:27:49.228 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:49.228 -04:00 [INF] Request finished in 39.0264ms 404 text/plain; charset=utf-8
2020-12-13 23:28:12.461 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-13 23:28:12.461 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:12.464 -04:00 [DBG] POST requests are not supported
2020-12-13 23:28:12.464 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-13 23:28:12.464 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-13 23:28:12.464 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.464 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.465 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:12.465 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:28:12.465 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:28:12.465 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:28:12.465 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-13 23:28:12.466 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:28:12.466 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.466 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:12.466 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-13 23:28:12.466 -04:00 [INF] Login con el email
2020-12-13 23:28:12.475 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:12.476 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:12.476 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:12.476 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.477 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.477 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:28:12.482 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:28:12.483 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.484 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.484 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.486 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:12.486 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.486 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.487 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.2943ms.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:12.487 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:12.487 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:12.487 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:12.487 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:12.487 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:28:12.487 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ClienteDTO'.
2020-12-13 23:28:12.489 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:12.489 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.489 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.489 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 24.3181ms
2020-12-13 23:28:12.490 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.490 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 26.1394 ms
2020-12-13 23:28:12.490 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:12.490 -04:00 [INF] Request finished in 29.4482ms 200 application/json; charset=utf-8
2020-12-13 23:28:48.202 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 498
2020-12-13 23:28:48.202 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:48.202 -04:00 [DBG] POST requests are not supported
2020-12-13 23:28:48.203 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 23:28:48.203 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 23:28:48.203 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.203 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.208 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:48.209 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:48.209 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:48.209 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:28:48.209 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 23:28:48.209 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:28:48.217 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 23:28:48.217 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.217 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.217 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:28:48.219 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.219 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:48.220 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 23:28:48.221 -04:00 [INF] Insertando venta con los parametros
2020-12-13 23:28:48.226 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:48.228 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:28:48.236 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:48.236 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.236 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.237 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.237 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.237 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:28:48.239 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.241 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.241 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.268 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.282 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.285 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:48.285 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:28:48.285 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:28:48.289 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:48.290 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.290 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.290 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.290 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.290 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.292 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.293 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.293 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.309 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.315 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.317 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.320 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.320 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.320 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.320 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.320 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.320 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.322 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.322 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.323 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.323 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.326 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:28:48.327 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:28:48.336 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:28:48.336 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.336 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.336 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:28:48.336 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:28:48.338 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.338 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.339 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.342 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.342 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.347 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 23:28:48.347 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.347 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.347 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.349 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.349 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.349 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.349 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.350 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.350 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.350 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.350 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.350 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.350 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:28:48.351 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:28:48.351 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.352 -04:00 [DBG] Committing transaction.
2020-12-13 23:28:48.352 -04:00 [DBG] Committed transaction.
2020-12-13 23:28:48.352 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.352 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.352 -04:00 [DBG] Disposing transaction.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 23:28:48.355 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 135.1736ms.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:48.355 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:48.355 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:48.355 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:48.355 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:48.355 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:28:48.355 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:28:48.356 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:48.356 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.356 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.356 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 147.3323ms
2020-12-13 23:28:48.356 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.356 -04:00 [INF] HTTP POST /api/ventas responded 200 in 153.7324 ms
2020-12-13 23:28:48.357 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:48.357 -04:00 [INF] Request finished in 154.6349ms 200 text/plain; charset=utf-8
2020-12-13 23:28:54.451 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 23:28:54.451 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:54.452 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 23:28:54.452 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 23:28:54.452 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 23:28:54.452 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.452 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.455 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:28:54.455 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:54.455 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:54.456 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:54.456 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 23:28:54.456 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.456 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 23:28:54.457 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.457 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:54.457 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 23:28:54.458 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 23:28:54.463 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:54.466 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:28:54.495 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:28:54.496 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.496 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.496 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.496 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.497 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 23:28:54.499 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 23:28:54.502 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.502 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.504 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.504 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.504 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.504 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 23:28:54.512 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:54.512 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.512 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.512 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.512 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.512 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.514 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.514 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.515 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.516 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.516 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.516 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.516 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.519 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen
        ) 
    }
    )'
2020-12-13 23:28:54.528 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio, p.urlImagen
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:28:54.528 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.528 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.529 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.529 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.529 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.531 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.532 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.532 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.532 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.532 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.533 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.533 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.534 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.534 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.535 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.535 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.536 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.536 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.536 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.536 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.536 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.537 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.537 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.537 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.538 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.538 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.538 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.538 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.538 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.539 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.539 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.9727ms.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:54.539 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:54.539 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:54.539 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:54.539 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:54.539 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:28:54.539 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:28:54.543 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:54.543 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.543 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.544 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 87.7346ms
2020-12-13 23:28:54.544 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.544 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 92.0834 ms
2020-12-13 23:28:54.544 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:54.544 -04:00 [INF] Request finished in 92.5696ms 200 application/json; charset=utf-8
2020-12-14 14:06:28.622 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:06:29.051 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:06:29.095 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:06:29.097 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:06:29.097 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:06:29.102 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:06:29.123 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:06:29.127 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:06:29.127 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:29.129 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:29.136 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:06:29.162 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:06:29.165 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:06:29.165 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:06:29.165 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:06:29.165 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:06:29.165 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:06:29.166 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:06:29.166 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:06:29.166 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:29.166 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:29.167 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:29.167 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:29.170 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:06:29.171 -04:00 [INF] Obteniendo productos...
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.718 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.719 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:06:29.835 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:06:29.934 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:06:29.952 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:06:29.952 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:06:30.080 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:06:30.105 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:06:30.134 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2020-12-14 14:06:30.139 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:30.504 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:30.511 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:06:30.539 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:06:30.573 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.591 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.601 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:30.611 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:06:30.614 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:30.617 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:30.624 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1450.1271ms.
2020-12-14 14:06:30.624 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:30.625 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:30.625 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:30.625 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:30.626 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:30.626 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:30.626 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:06:30.627 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:06:30.629 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:06:30.629 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:06:30.629 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:06:30.630 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:06:30.630 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:06:30.658 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:06:30.658 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:30.658 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:30.662 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1493.5415ms
2020-12-14 14:06:30.662 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:30.664 -04:00 [INF] HTTP GET /api/productos responded 200 in 1559.9177 ms
2020-12-14 14:06:30.667 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:06:30.669 -04:00 [INF] Request finished in 1577.1111ms 200 application/json; charset=utf-8
2020-12-14 14:06:30.757 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-14 14:06:30.757 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:06:30.767 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-14 14:06:30.767 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-14 14:06:30.767 -04:00 [DBG] Request did not match any endpoints
2020-12-14 14:06:30.767 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.2303 ms
2020-12-14 14:06:30.768 -04:00 [INF] Request finished in 10.4798ms 404 
2020-12-14 14:06:31.976 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-14 14:06:31.976 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:06:31.976 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:06:31.977 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:06:31.977 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:06:31.977 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:31.977 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:31.977 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:06:31.977 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:06:31.977 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:06:31.977 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:06:31.977 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:06:31.978 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:06:31.978 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:06:31.978 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:06:31.978 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:31.978 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:31.978 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:31.978 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:31.978 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:06:31.978 -04:00 [INF] Obteniendo productos...
2020-12-14 14:06:31.999 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:06:32.000 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:06:32.000 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:06:32.000 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:32.001 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:32.001 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:06:32.006 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:06:32.006 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.006 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.006 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.006 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.007 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.007 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:06:32.007 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:06:32.007 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:32.007 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:06:32.007 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.0557ms.
2020-12-14 14:06:32.007 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:32.007 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:06:32.008 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:06:32.008 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:06:32.008 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:06:32.008 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:06:32.008 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:06:32.008 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:06:32.008 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:06:32.008 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:32.008 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:06:32.009 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 30.9302ms
2020-12-14 14:06:32.009 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:06:32.009 -04:00 [INF] HTTP GET /api/productos responded 200 in 32.7821 ms
2020-12-14 14:06:32.009 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:06:32.009 -04:00 [INF] Request finished in 33.5359ms 200 application/json; charset=utf-8
2020-12-14 14:07:23.887 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:07:23.888 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:07:23.889 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:07:23.890 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:07:23.890 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:07:23.890 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:07:23.891 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:07:23.891 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:07:23.891 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:07:23.892 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:07:23.892 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:07:23.892 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:07:23.892 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:07:23.892 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:07:23.893 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:07:23.893 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:07:23.893 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:07:23.893 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:07:23.893 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:07:23.893 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:07:23.893 -04:00 [INF] Obteniendo productos...
2020-12-14 14:07:23.903 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:07:23.905 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:07:23.905 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:07:23.905 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:07:23.905 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:07:23.905 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:07:23.912 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:07:23.913 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:07:23.913 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:07:23.914 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:07:23.914 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.4245ms.
2020-12-14 14:07:23.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:07:23.914 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:07:23.914 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:07:23.914 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:07:23.914 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:07:23.914 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:07:23.915 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:07:23.915 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:07:23.915 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:07:23.915 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:07:23.916 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:07:23.916 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 23.9143ms
2020-12-14 14:07:23.918 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:07:23.919 -04:00 [INF] HTTP GET /api/productos responded 200 in 29.2095 ms
2020-12-14 14:07:23.919 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:07:23.919 -04:00 [INF] Request finished in 34.7355ms 200 application/json; charset=utf-8
2020-12-14 14:08:44.338 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:08:44.518 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:08:44.543 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:08:44.546 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:08:44.546 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:08:44.550 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:08:44.568 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:08:44.572 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:08:44.572 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:08:44.575 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:08:44.580 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:08:44.598 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:08:44.601 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:08:44.602 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:08:44.602 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:08:44.602 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:08:44.602 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:08:44.602 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:08:44.603 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:08:44.603 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:08:44.603 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:08:44.603 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:08:44.603 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:08:44.606 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:08:44.607 -04:00 [INF] Obteniendo productos...
2020-12-14 14:08:45.125 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.126 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.127 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.127 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.127 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.127 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:08:45.235 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:08:45.283 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:08:45.300 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:08:45.300 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:08:45.423 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:08:45.447 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:08:45.474 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2020-12-14 14:08:45.478 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:08:45.716 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:08:45.722 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:08:45.749 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:08:45.782 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.800 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.810 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.817 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.817 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.817 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:08:45.820 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:08:45.822 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:08:45.826 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:08:45.832 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1223.0408ms.
2020-12-14 14:08:45.833 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:08:45.833 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:08:45.833 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:08:45.833 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:08:45.834 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:08:45.834 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:08:45.834 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:08:45.835 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:08:45.837 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:08:45.837 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:08:45.837 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:08:45.837 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:08:45.837 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:08:45.859 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:08:45.859 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:08:45.859 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:08:45.862 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1257.3935ms
2020-12-14 14:08:45.863 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:08:45.865 -04:00 [INF] HTTP GET /api/productos responded 200 in 1313.2078 ms
2020-12-14 14:08:45.868 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:08:45.870 -04:00 [INF] Request finished in 1329.1114ms 200 application/json; charset=utf-8
2020-12-14 14:09:15.617 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:09:15.617 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:09:15.618 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:09:15.619 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:09:15.619 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:09:15.619 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:15.621 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 14:09:15.623 -04:00 [INF] CORS policy execution successful.
2020-12-14 14:09:15.624 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:15.624 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:09:15.624 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:09:15.624 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:09:15.625 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:09:15.625 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:09:15.625 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:09:15.625 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:15.625 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:15.625 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:15.625 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:15.625 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:15.625 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:15.625 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:09:15.625 -04:00 [INF] Obteniendo productos...
2020-12-14 14:09:15.655 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:09:15.655 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:09:15.655 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:09:15.655 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:15.656 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:15.656 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:15.661 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:15.662 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:09:15.663 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:15.663 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:15.663 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.5518ms.
2020-12-14 14:09:15.663 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:15.663 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:15.663 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:09:15.663 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:09:15.664 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:09:15.664 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:09:15.664 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:09:15.664 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:09:15.665 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:15.665 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:15.665 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:15.665 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 40.6852ms
2020-12-14 14:09:15.665 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:15.666 -04:00 [INF] HTTP GET /api/productos responded 200 in 47.7682 ms
2020-12-14 14:09:15.666 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:09:15.666 -04:00 [INF] Request finished in 49.3364ms 200 application/json; charset=utf-8
2020-12-14 14:09:39.219 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:09:39.400 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:09:39.427 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:09:39.430 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:09:39.430 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:09:39.434 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:09:39.456 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:09:39.460 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:09:39.461 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:39.463 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:39.468 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:09:39.488 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:09:39.491 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:09:39.491 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:09:39.491 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:09:39.491 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:09:39.491 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:09:39.492 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:39.492 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:39.493 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:39.493 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:39.493 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:39.493 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:39.496 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:09:39.497 -04:00 [INF] Obteniendo productos...
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.011 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.012 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.012 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.012 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.012 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:09:40.125 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:09:40.177 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:09:40.194 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:09:40.195 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:09:40.317 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:09:40.341 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:09:40.369 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2020-12-14 14:09:40.373 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:40.613 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:40.619 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:40.646 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:40.680 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.697 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.707 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.713 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.713 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.713 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:40.716 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:09:40.718 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:40.721 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:40.727 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1228.4045ms.
2020-12-14 14:09:40.728 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:40.728 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:40.728 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:40.728 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:40.729 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:40.729 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:40.729 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:40.730 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:09:40.732 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:09:40.732 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:09:40.732 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:09:40.732 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:09:40.732 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:09:40.753 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:40.753 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:40.754 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:40.757 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1262.8933ms
2020-12-14 14:09:40.758 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:40.760 -04:00 [INF] HTTP GET /api/productos responded 200 in 1323.5538 ms
2020-12-14 14:09:40.763 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:09:40.764 -04:00 [INF] Request finished in 1339.9694ms 200 application/json; charset=utf-8
2020-12-14 14:09:43.333 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:09:43.334 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:09:43.334 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:09:43.335 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:09:43.335 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:09:43.336 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:43.337 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 14:09:43.337 -04:00 [INF] CORS policy execution successful.
2020-12-14 14:09:43.338 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:43.338 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:09:43.338 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:09:43.338 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:09:43.338 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:09:43.338 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:09:43.338 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:09:43.338 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:43.338 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:09:43.339 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:43.339 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:43.339 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:43.339 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:43.339 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:09:43.339 -04:00 [INF] Obteniendo productos...
2020-12-14 14:09:43.360 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:09:43.361 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:09:43.361 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:09:43.361 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:43.362 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:43.362 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:43.367 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:09:43.367 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.367 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.368 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.368 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.368 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.368 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:09:43.368 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:09:43.368 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:43.368 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:09:43.368 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.6263ms.
2020-12-14 14:09:43.368 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:43.369 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:43.369 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:09:43.369 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:09:43.369 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:09:43.369 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:09:43.369 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:09:43.369 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:09:43.371 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:09:43.371 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:43.371 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:09:43.371 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 32.909ms
2020-12-14 14:09:43.371 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:09:43.371 -04:00 [INF] HTTP GET /api/productos responded 200 in 37.2785 ms
2020-12-14 14:09:43.372 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:09:43.372 -04:00 [INF] Request finished in 38.7973ms 200 application/json; charset=utf-8
2020-12-14 14:16:16.289 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:16:16.458 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:16:16.482 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:16:16.485 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:16:16.485 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:16:16.489 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:16:16.511 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:16:16.515 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:16:16.516 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:16:16.518 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:16:16.524 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:16:16.543 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:16:16.547 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:16:16.547 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:16:16.547 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:16:16.547 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:16:16.547 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:16:16.548 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:16:16.548 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:16:16.548 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:16:16.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:16:16.549 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:16:16.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:16:16.552 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:16:16.554 -04:00 [INF] Obteniendo productos...
2020-12-14 14:16:17.054 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.054 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.054 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.055 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.056 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.056 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:16:17.164 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:16:17.215 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:16:17.233 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:16:17.233 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:16:17.233 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:16:17.357 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:16:17.381 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:16:17.409 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2020-12-14 14:16:17.412 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:16:17.649 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:16:17.655 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:16:17.686 -04:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:16:17.688 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:16:17.692 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:16:17.754 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'categoria'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5d90616c-612c-412e-8a8e-e4e2e6df6e8a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'categoria'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5d90616c-612c-412e-8a8e-e4e2e6df6e8a
Error Number:207,State:1,Class:16
2020-12-14 14:16:17.924 -04:00 [ERR] Error al obtener los productos
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'categoria'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 40
ClientConnectionId:5d90616c-612c-412e-8a8e-e4e2e6df6e8a
Error Number:207,State:1,Class:16
2020-12-14 14:16:17.937 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1381.7965ms.
2020-12-14 14:16:17.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:16:17.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:16:17.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:16:17.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:16:17.939 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:16:17.939 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:16:17.939 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 14:16:17.940 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:16:17.942 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:16:17.942 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:16:17.942 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:16:17.942 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 14:16:17.942 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 14:16:17.957 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 14:16:17.958 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:16:17.958 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:16:17.962 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1410.8657ms
2020-12-14 14:16:17.963 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:16:17.964 -04:00 [INF] HTTP GET /api/productos responded 400 in 1473.7575 ms
2020-12-14 14:16:17.968 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:16:17.969 -04:00 [INF] Request finished in 1489.9714ms 400 text/plain; charset=utf-8
2020-12-14 14:17:11.238 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:17:11.418 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:17:11.446 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:17:11.449 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:17:11.449 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:17:11.453 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:17:11.475 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:17:11.478 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:17:11.479 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:11.481 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:11.487 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:17:11.511 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:17:11.516 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:17:11.516 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:17:11.516 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:17:11.516 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:17:11.516 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:17:11.517 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:17:11.518 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:17:11.518 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:11.518 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:11.518 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:11.518 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:11.521 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:17:11.522 -04:00 [INF] Obteniendo productos...
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.043 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.044 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.045 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.045 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.045 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.045 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:17:12.168 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:17:12.223 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:17:12.244 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:17:12.244 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:17:12.245 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:17:12.375 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:17:12.401 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:17:12.430 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2020-12-14 14:17:12.434 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:12.669 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:12.677 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:17:12.705 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:17:12.740 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.758 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.767 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.774 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.774 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.774 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:12.777 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:17:12.779 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:12.782 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:12.789 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1264.275ms.
2020-12-14 14:17:12.789 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:12.789 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:12.790 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:12.790 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:12.790 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:12.790 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:12.791 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:17:12.792 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:17:12.793 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:17:12.793 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:17:12.793 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:17:12.794 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:17:12.794 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:17:12.817 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:17:12.817 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:12.817 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:12.820 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1300.8737ms
2020-12-14 14:17:12.821 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:12.822 -04:00 [INF] HTTP GET /api/productos responded 200 in 1368.0677 ms
2020-12-14 14:17:12.826 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:17:12.827 -04:00 [INF] Request finished in 1384.1524ms 200 application/json; charset=utf-8
2020-12-14 14:17:15.956 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-14 14:17:15.957 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:17:15.957 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:17:15.957 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:17:15.958 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:17:15.958 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:15.958 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:15.958 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:17:15.958 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:17:15.958 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:17:15.959 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:17:15.959 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:17:15.959 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:17:15.959 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:17:15.959 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:17:15.959 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:15.959 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:15.959 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:15.959 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:15.959 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:17:15.959 -04:00 [INF] Obteniendo productos...
2020-12-14 14:17:15.983 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:17:15.984 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:17:15.984 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:17:15.984 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:15.985 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:15.985 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:17:15.989 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:17:15.990 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:17:15.990 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:15.990 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:17:15.991 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.2183ms.
2020-12-14 14:17:15.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:15.991 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:17:15.991 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:17:15.991 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:17:15.991 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:17:15.991 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:17:15.991 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:17:15.991 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:17:15.992 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:17:15.992 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:15.992 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:17:15.992 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 33.2422ms
2020-12-14 14:17:15.992 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:17:15.992 -04:00 [INF] HTTP GET /api/productos responded 200 in 35.3607 ms
2020-12-14 14:17:15.992 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:17:15.992 -04:00 [INF] Request finished in 36.6269ms 200 application/json; charset=utf-8
2020-12-14 14:19:23.673 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:19:23.844 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:19:23.868 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:19:23.871 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:19:23.871 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:19:23.875 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:19:23.897 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:19:23.900 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:19:23.901 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:23.903 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:23.908 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:19:23.927 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:19:23.930 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:19:23.930 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:19:23.930 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:19:23.930 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:19:23.930 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:19:23.930 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:23.931 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:23.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:23.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:23.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:23.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:23.934 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:19:23.935 -04:00 [INF] Obteniendo productos...
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.430 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.431 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.431 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.431 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.431 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:19:24.539 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:19:24.586 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:19:24.603 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:19:24.603 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:19:24.603 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:19:24.732 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:19:24.757 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:19:24.784 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2020-12-14 14:19:24.788 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:25.022 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:25.028 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:19:25.055 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:19:25.090 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.109 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.119 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.126 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.126 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.126 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:25.129 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:19:25.131 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:25.135 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:25.141 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1203.5412ms.
2020-12-14 14:19:25.141 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:25.141 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:25.142 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:25.142 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:25.142 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:25.142 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:25.143 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:25.144 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:19:25.145 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:19:25.145 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:19:25.145 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:19:25.145 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:19:25.146 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:19:25.167 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:25.167 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:25.167 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:25.170 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1237.6712ms
2020-12-14 14:19:25.171 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:25.173 -04:00 [INF] HTTP GET /api/productos responded 200 in 1296.4665 ms
2020-12-14 14:19:25.176 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:19:25.177 -04:00 [INF] Request finished in 1311.028ms 200 application/json; charset=utf-8
2020-12-14 14:19:37.767 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 167
2020-12-14 14:19:37.767 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:19:37.767 -04:00 [DBG] POST requests are not supported
2020-12-14 14:19:37.768 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:19:37.768 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:19:37.768 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-14 14:19:37.769 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-14 14:19:37.778 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:19:37.778 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:19:37.778 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:19:37.778 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:19:37.778 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:19:37.778 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:19:37.778 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:37.779 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:37.789 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-14 14:19:37.791 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-14 14:19:37.791 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-14 14:19:37.798 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-14 14:19:37.798 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-14 14:19:37.798 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-14 14:19:37.798 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-14 14:19:37.802 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-14 14:19:37.803 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:37.803 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:37.803 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:37.803 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:37.803 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:19:37.803 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-14 14:19:37.804 -04:00 [INF] Insertando producto con los parametros
2020-12-14 14:19:37.832 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:19:37.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.857 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-14 14:19:37.859 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-14 14:19:37.866 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-14 14:19:37.878 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:37.879 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:37.880 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-14 14:19:37.886 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-14 14:19:37.922 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:19:37.922 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:19:37.931 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 14:19:37.954 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 14:19:37.959 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:19:37.961 -04:00 [DBG] Committing transaction.
2020-12-14 14:19:37.963 -04:00 [DBG] Committed transaction.
2020-12-14 14:19:37.965 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:37.965 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:37.966 -04:00 [DBG] Disposing transaction.
2020-12-14 14:19:37.972 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.972 -04:00 [DBG] An entity of type 'NombreCategoriaValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.972 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.972 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:37.973 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-14 14:19:37.974 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 170.2012ms.
2020-12-14 14:19:37.974 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:37.974 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:37.974 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:19:37.974 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:19:37.974 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:19:37.974 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:19:37.974 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 14:19:37.974 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 14:19:37.976 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:37.976 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:37.976 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:37.976 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 197.8185ms
2020-12-14 14:19:37.976 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-14 14:19:37.976 -04:00 [INF] HTTP POST /api/productos responded 200 in 208.8323 ms
2020-12-14 14:19:37.977 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:19:37.977 -04:00 [INF] Request finished in 211.2015ms 200 text/plain; charset=utf-8
2020-12-14 14:19:41.787 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-14 14:19:41.787 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:19:41.788 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:19:41.788 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:19:41.788 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:19:41.789 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:41.789 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:41.790 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:19:41.790 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:19:41.791 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:19:41.791 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:19:41.791 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:19:41.791 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:19:41.791 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:41.791 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:41.791 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:41.791 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:41.791 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:41.791 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:41.792 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:19:41.792 -04:00 [INF] Obteniendo productos...
2020-12-14 14:19:41.798 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:19:41.799 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:19:41.799 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:19:41.799 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:41.800 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:41.800 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:19:41.802 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:19:41.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:41.806 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:19:41.806 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:41.806 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:41.806 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.382ms.
2020-12-14 14:19:41.806 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:41.806 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:41.806 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:19:41.807 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:19:41.807 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:19:41.807 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:19:41.807 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:19:41.807 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:19:41.807 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:41.807 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:41.807 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:41.807 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 16.6465ms
2020-12-14 14:19:41.808 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:19:41.808 -04:00 [INF] HTTP GET /api/productos responded 200 in 19.6432 ms
2020-12-14 14:19:41.808 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:19:41.808 -04:00 [INF] Request finished in 21.7035ms 200 application/json; charset=utf-8
2020-12-14 14:19:53.457 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15  
2020-12-14 14:19:53.457 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:19:53.457 -04:00 [DBG] The request path /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 does not match a supported file type
2020-12-14 14:19:53.457 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-14 14:19:53.457 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-14 14:19:53.457 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:19:53.458 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:19:53.461 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:19:53.461 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:19:53.461 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:19:53.461 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:19:53.461 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:19:53.461 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:19:53.461 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:53.461 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:19:53.462 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-14 14:19:53.462 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-14 14:19:53.463 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-14 14:19:53.463 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-14 14:19:53.463 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-14 14:19:53.463 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-14 14:19:53.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:53.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:53.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:53.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:53.463 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:19:53.463 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["803d5433-0aa0-4401-b343-31d28f5e6a15"])
2020-12-14 14:19:53.464 -04:00 [INF] Obteniendo producto con ID 
2020-12-14 14:19:53.468 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:19:53.476 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-14 14:19:53.483 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:19:53.483 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:19:53.483 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:19:53.520 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 14:19:53.525 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:19:53.525 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:19:53.525 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:53.526 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:53.526 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-14 14:19:53.528 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-14 14:19:53.529 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:53.529 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:53.530 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:19:53.531 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:19:53.531 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:53.531 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:19:53.531 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.9918ms.
2020-12-14 14:19:53.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:53.531 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:19:53.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:53.532 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:19:53.532 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:53.532 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:53.532 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:53.532 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:19:53.532 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:19:53.532 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:19:53.532 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:19:53.532 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:19:53.532 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-14 14:19:53.532 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:19:53.532 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:53.533 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:19:53.533 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 71.5427ms
2020-12-14 14:19:53.533 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:19:53.533 -04:00 [INF] HTTP GET /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 responded 200 in 75.8355 ms
2020-12-14 14:19:53.533 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:19:53.533 -04:00 [INF] Request finished in 76.7362ms 200 application/json; charset=utf-8
2020-12-14 14:20:06.867 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/a7b11480-a835-4f7a-b69c-2f44d1882284  
2020-12-14 14:20:06.868 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:20:06.868 -04:00 [DBG] The request path /api/productos/a7b11480-a835-4f7a-b69c-2f44d1882284 does not match a supported file type
2020-12-14 14:20:06.868 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/a7b11480-a835-4f7a-b69c-2f44d1882284'
2020-12-14 14:20:06.868 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/a7b11480-a835-4f7a-b69c-2f44d1882284'
2020-12-14 14:20:06.868 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:20:06.868 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:20:06.869 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:20:06.869 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:20:06.869 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:20:06.869 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:20:06.869 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:20:06.869 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:20:06.869 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:20:06.869 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:20:06.870 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-14 14:20:06.870 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-14 14:20:06.870 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-14 14:20:06.870 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-14 14:20:06.870 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-14 14:20:06.870 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-14 14:20:06.870 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:06.870 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:06.870 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:06.870 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:06.870 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:20:06.871 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["a7b11480-a835-4f7a-b69c-2f44d1882284"])
2020-12-14 14:20:06.871 -04:00 [INF] Obteniendo producto con ID 
2020-12-14 14:20:06.872 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:20:06.875 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:20:06.875 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:20:06.876 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:06.876 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:06.876 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-14 14:20:06.879 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-14 14:20:06.880 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:06.880 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:06.880 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:06.880 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:06.880 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:20:06.880 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:06.881 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:06.881 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.1234ms.
2020-12-14 14:20:06.881 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:06.881 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:20:06.881 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:20:06.881 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:20:06.881 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:20:06.881 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:20:06.881 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:20:06.881 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-14 14:20:06.882 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:20:06.882 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:06.882 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:06.882 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 12.813ms
2020-12-14 14:20:06.882 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-14 14:20:06.882 -04:00 [INF] HTTP GET /api/productos/a7b11480-a835-4f7a-b69c-2f44d1882284 responded 200 in 14.3326 ms
2020-12-14 14:20:06.882 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:20:06.882 -04:00 [INF] Request finished in 15.3736ms 200 application/json; charset=utf-8
2020-12-14 14:20:14.689 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-14 14:20:14.689 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:20:14.689 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-14 14:20:14.690 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 14:20:14.690 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 14:20:14.691 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:20:14.691 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:20:14.695 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-14 14:20:14.695 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:20:14.695 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:20:14.695 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:20:14.695 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:20:14.695 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:20:14.695 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:20:14.695 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:20:14.695 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-14 14:20:14.696 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-14 14:20:14.696 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 14:20:14.696 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 14:20:14.696 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-14 14:20:14.696 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-14 14:20:14.696 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:14.696 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:14.696 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:14.696 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:14.696 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:20:14.696 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-14 14:20:14.697 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-14 14:20:14.702 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:20:14.705 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-14 14:20:14.712 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-14 14:20:14.712 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-14 14:20:14.712 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-14 14:20:14.712 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-14 14:20:14.713 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-14 14:20:14.735 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:20:14.739 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:20:14.739 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:20:14.740 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.740 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.740 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 14:20:14.744 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 14:20:14.752 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.777 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.780 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.784 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.787 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.789 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.792 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.792 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.792 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:20:14.792 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.792 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.793 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-14 14:20:14.794 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-14 14:20:14.794 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-14 14:20:14.794 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-14 14:20:14.801 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 14:20:14.801 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:20:14.801 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:20:14.801 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.801 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.801 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:20:14.803 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:20:14.809 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.813 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.816 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:14.818 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:20:14.818 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.818 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:14.821 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen, 
            (string)x.Producto.Categoria
        ) 
    }
    )'
2020-12-14 14:20:14.971 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitNew(NewExpression node)
   at System.Linq.Expressions.NewExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 54
2020-12-14 14:20:15.005 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 308.2316ms.
2020-12-14 14:20:15.005 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:15.005 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 14:20:15.005 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:20:15.005 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:20:15.005 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:20:15.005 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:20:15.005 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 14:20:15.005 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 14:20:15.006 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 14:20:15.006 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:15.006 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:15.006 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 310.9626ms
2020-12-14 14:20:15.006 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:20:15.006 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 316.7965 ms
2020-12-14 14:20:15.006 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:20:15.006 -04:00 [INF] Request finished in 318.0637ms 400 text/plain; charset=utf-8
2020-12-14 14:20:54.950 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 14:20:55.141 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 14:20:55.167 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 14:20:55.169 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 14:20:55.169 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:20:55.173 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 14:20:55.195 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 14:20:55.199 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 14:20:55.200 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:20:55.202 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:20:55.208 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 14:20:55.230 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 14:20:55.234 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:20:55.234 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:20:55.234 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:20:55.234 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:20:55.234 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:20:55.235 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:20:55.235 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 14:20:55.235 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:55.236 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:55.236 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:55.236 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:55.239 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:20:55.240 -04:00 [INF] Obteniendo productos...
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.758 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.759 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.759 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.759 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.759 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 14:20:55.873 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:20:55.921 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 14:20:55.937 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:20:55.938 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:20:55.938 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:20:56.076 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:20:56.101 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:20:56.130 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2020-12-14 14:20:56.134 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:56.370 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:56.376 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:20:56.403 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 14:20:56.437 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.455 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.465 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.468 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.475 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.476 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.476 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.476 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.476 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.476 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:20:56.479 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:20:56.481 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:56.484 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:20:56.490 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1248.6272ms.
2020-12-14 14:20:56.491 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:56.491 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:20:56.491 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:56.491 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:20:56.492 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:56.492 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:56.492 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:20:56.493 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:20:56.495 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:20:56.495 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:20:56.495 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:20:56.495 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:20:56.495 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:20:56.518 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:20:56.518 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:56.518 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:20:56.522 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1284.5024ms
2020-12-14 14:20:56.522 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 14:20:56.524 -04:00 [INF] HTTP GET /api/productos responded 200 in 1349.2316 ms
2020-12-14 14:20:56.527 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:20:56.529 -04:00 [INF] Request finished in 1365.112ms 200 application/json; charset=utf-8
2020-12-14 14:21:22.209 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 342
2020-12-14 14:21:22.209 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:21:22.209 -04:00 [DBG] POST requests are not supported
2020-12-14 14:21:22.210 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-14 14:21:22.210 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-14 14:21:22.210 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-14 14:21:22.210 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-14 14:21:22.222 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-14 14:21:22.222 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:21:22.222 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:21:22.222 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:21:22.223 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:21:22.223 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:21:22.223 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:21:22.224 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:21:22.233 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-14 14:21:22.235 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-14 14:21:22.235 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-14 14:21:22.244 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-14 14:21:22.244 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-14 14:21:22.244 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-14 14:21:22.245 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-14 14:21:22.250 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-14 14:21:22.251 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:22.251 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:22.251 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:22.251 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:22.251 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:21:22.251 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-14 14:21:22.251 -04:00 [INF] Insertando venta con los parametros
2020-12-14 14:21:22.275 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:21:22.283 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-14 14:21:22.290 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-14 14:21:22.290 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-14 14:21:22.290 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-14 14:21:22.291 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-14 14:21:22.328 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 14:21:22.332 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:22.333 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:22.335 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.335 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.337 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-14 14:21:22.360 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-14 14:21:22.372 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.379 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.382 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.389 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:22.389 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.389 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.432 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.443 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.446 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.449 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.449 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-14 14:21:22.450 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 14:21:22.450 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 14:21:22.450 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 14:21:22.455 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 14:21:22.456 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:22.456 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:22.456 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.456 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.456 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-14 14:21:22.458 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-14 14:21:22.458 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.458 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.458 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.461 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.461 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:22.461 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.461 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.474 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.481 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.483 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.487 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-14 14:21:22.489 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-14 14:21:22.507 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-14 14:21:22.519 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.519 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.520 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-14 14:21:22.524 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-14 14:21:22.559 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:22.559 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:22.561 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-14 14:21:22.564 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-14 14:21:22.567 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:22.572 -04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2020-12-14 14:21:22.573 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:22.573 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:22.573 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-14 14:21:22.575 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-14 14:21:22.575 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:22.575 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:22.576 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:22.576 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 14:21:22.581 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 14:21:22.581 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:22.583 -04:00 [DBG] Committing transaction.
2020-12-14 14:21:22.585 -04:00 [DBG] Committed transaction.
2020-12-14 14:21:22.587 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.587 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:22.588 -04:00 [DBG] Disposing transaction.
2020-12-14 14:21:22.595 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.595 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.595 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.595 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.596 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.596 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.596 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.596 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:22.597 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2020-12-14 14:21:22.598 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 346.7344ms.
2020-12-14 14:21:22.598 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:22.598 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:21:22.598 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:21:22.598 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:21:22.598 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:21:22.598 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:21:22.598 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 14:21:22.598 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 14:21:22.600 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:21:22.600 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:22.600 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:22.600 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 377.4346ms
2020-12-14 14:21:22.600 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-14 14:21:22.600 -04:00 [INF] HTTP POST /api/ventas responded 200 in 391.2453 ms
2020-12-14 14:21:22.601 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:21:22.601 -04:00 [INF] Request finished in 395.6264ms 200 text/plain; charset=utf-8
2020-12-14 14:21:27.920 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-14 14:21:27.921 -04:00 [VRB] All hosts are allowed.
2020-12-14 14:21:27.921 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-14 14:21:27.922 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 14:21:27.922 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 14:21:27.922 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:21:27.923 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:21:27.927 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-14 14:21:27.927 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 14:21:27.927 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 14:21:27.927 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 14:21:27.927 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 14:21:27.927 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 14:21:27.927 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:21:27.927 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 14:21:27.928 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-14 14:21:27.928 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-14 14:21:27.928 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 14:21:27.929 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 14:21:27.929 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-14 14:21:27.929 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-14 14:21:27.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:27.929 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:27.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:27.929 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:27.929 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 14:21:27.929 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-14 14:21:27.930 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-14 14:21:27.940 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 14:21:27.943 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-14 14:21:27.949 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-14 14:21:27.949 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-14 14:21:27.949 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-14 14:21:27.949 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-14 14:21:27.949 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-14 14:21:27.970 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:21:27.975 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:27.975 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:27.975 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.975 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.975 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 14:21:27.978 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 14:21:27.980 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.980 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.981 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.982 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.982 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:27.982 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.982 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.983 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-14 14:21:27.983 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-14 14:21:27.983 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-14 14:21:27.983 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-14 14:21:27.990 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 14:21:27.990 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:27.990 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:27.990 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.990 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.990 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:27.992 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:27.993 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.993 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.994 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:27.994 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:27.994 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.994 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:27.997 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen, 
            x.Producto.Categoria.Value
        ) 
    }
    )'
2020-12-14 14:21:28.006 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio, p.urlImagen, p.categoria
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 14:21:28.006 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.006 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.007 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.007 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.007 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.010 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.010 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.011 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.011 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.013 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.013 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.013 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.013 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.013 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.014 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.014 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.014 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.014 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.015 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.015 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.015 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.016 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.016 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.016 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.016 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.016 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.016 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.017 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.017 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.017 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.017 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.017 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.017 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.017 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.018 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.018 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.018 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.018 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.018 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.018 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.018 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.018 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.018 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.018 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.019 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.019 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.019 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.019 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.019 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.019 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.019 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.019 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.019 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.020 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.020 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.020 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.020 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 14:21:28.020 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.020 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.020 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.020 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 14:21:28.020 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 14:21:28.021 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.021 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.021 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.021 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 14:21:28.021 -04:00 [DBG] A data reader was disposed.
2020-12-14 14:21:28.021 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.021 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 14:21:28.022 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.5838ms.
2020-12-14 14:21:28.022 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:28.022 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:21:28.022 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 14:21:28.022 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 14:21:28.022 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 14:21:28.022 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 14:21:28.022 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 14:21:28.022 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 14:21:28.026 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 14:21:28.026 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:28.026 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 14:21:28.026 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 98.8548ms
2020-12-14 14:21:28.026 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 14:21:28.026 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 104.7748 ms
2020-12-14 14:21:28.026 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 14:21:28.026 -04:00 [INF] Request finished in 106.2974ms 200 application/json; charset=utf-8
2020-12-14 16:29:11.608 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 16:29:11.996 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 16:29:12.047 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 16:29:12.051 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 16:29:12.051 -04:00 [VRB] All hosts are allowed.
2020-12-14 16:29:12.061 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 16:29:12.108 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 16:29:12.114 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 16:29:12.115 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 16:29:12.119 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 16:29:12.129 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 16:29:12.162 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 16:29:12.167 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 16:29:12.167 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 16:29:12.167 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 16:29:12.167 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 16:29:12.168 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 16:29:12.168 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 16:29:12.169 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 16:29:12.170 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 16:29:12.170 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 16:29:12.170 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 16:29:12.170 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 16:29:12.175 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 16:29:12.177 -04:00 [INF] Obteniendo productos...
2020-12-14 16:29:13.050 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.050 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.050 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.050 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.050 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.051 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.052 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.053 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.053 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.053 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 16:29:13.259 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 16:29:13.370 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 16:29:13.398 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 16:29:13.399 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 16:29:13.399 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 16:29:13.606 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 16:29:13.648 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 16:29:13.702 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2020-12-14 16:29:13.712 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 16:29:14.375 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 16:29:14.389 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 16:29:14.469 -04:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 16:29:14.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.674 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.688 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.709 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.710 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.710 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.711 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.711 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.711 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 16:29:14.717 -04:00 [DBG] A data reader was disposed.
2020-12-14 16:29:14.724 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 16:29:14.734 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 16:29:14.750 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2568.6328ms.
2020-12-14 16:29:14.751 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 16:29:14.751 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 16:29:14.752 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 16:29:14.752 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 16:29:14.753 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 16:29:14.753 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 16:29:14.754 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 16:29:14.756 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 16:29:14.759 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 16:29:14.759 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 16:29:14.759 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 16:29:14.760 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 16:29:14.760 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 16:29:14.832 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 16:29:14.832 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 16:29:14.832 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 16:29:14.843 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 2665.7235ms
2020-12-14 16:29:14.845 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 16:29:14.849 -04:00 [INF] HTTP GET /api/productos responded 200 in 2783.7406 ms
2020-12-14 16:29:14.858 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 16:29:14.862 -04:00 [INF] Request finished in 2818.4742ms 200 application/json; charset=utf-8
2020-12-14 16:29:15.091 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-14 16:29:15.093 -04:00 [VRB] All hosts are allowed.
2020-12-14 16:29:15.117 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-14 16:29:15.118 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-14 16:29:15.118 -04:00 [DBG] Request did not match any endpoints
2020-12-14 16:29:15.119 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 1.3325 ms
2020-12-14 16:29:15.123 -04:00 [INF] Request finished in 33.0313ms 404 
2020-12-14 20:36:33.132 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 20:36:33.455 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 20:36:33.509 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 20:36:33.512 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 20:36:33.512 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:36:33.519 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:36:33.554 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:36:33.559 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:36:33.560 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:36:33.565 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:36:33.573 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 20:36:33.605 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:36:33.609 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:36:33.609 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:36:33.610 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:36:33.610 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:36:33.610 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:36:33.611 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:36:33.611 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:36:33.611 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:36:33.612 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:36:33.612 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:36:33.612 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:36:33.617 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:36:33.619 -04:00 [INF] Obteniendo productos...
2020-12-14 20:36:34.386 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.386 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.387 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.388 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.388 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.388 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.388 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:36:34.561 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:36:34.667 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 20:36:34.695 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 20:36:34.695 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 20:36:34.695 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 20:36:34.887 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 20:36:34.926 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:36:34.974 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2020-12-14 20:36:34.981 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:36:35.415 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:36:35.425 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:36:35.469 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:36:35.521 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.549 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.563 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.568 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.578 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.578 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:36:35.583 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:36:35.586 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:36:35.591 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:36:35.601 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1979.5506ms.
2020-12-14 20:36:35.602 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:36:35.602 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:36:35.602 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:36:35.603 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:36:35.603 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:36:35.603 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:36:35.604 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:36:35.605 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:36:35.608 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:36:35.608 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:36:35.608 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:36:35.608 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:36:35.608 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:36:35.651 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:36:35.651 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:36:35.651 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:36:35.657 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 2041.7072ms
2020-12-14 20:36:35.658 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:36:35.661 -04:00 [INF] HTTP GET /api/productos responded 200 in 2138.9562 ms
2020-12-14 20:36:35.665 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:36:35.668 -04:00 [INF] Request finished in 2163.3677ms 200 application/json; charset=utf-8
2020-12-14 20:36:35.790 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-14 20:36:35.790 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:36:35.804 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-14 20:36:35.804 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-14 20:36:35.804 -04:00 [DBG] Request did not match any endpoints
2020-12-14 20:36:35.805 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.4014 ms
2020-12-14 20:36:35.807 -04:00 [INF] Request finished in 17.2843ms 404 
2020-12-14 20:43:33.331 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 20:43:34.110 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 20:43:34.180 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 20:43:34.189 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 20:43:34.189 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:43:34.204 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:43:34.282 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:43:34.294 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:43:34.296 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:43:34.305 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:43:34.322 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 20:43:34.371 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:43:34.379 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:43:34.379 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:43:34.379 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:43:34.380 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:43:34.380 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:43:34.381 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:43:34.382 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:43:34.383 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:43:34.383 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:43:34.383 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:43:34.383 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:43:34.392 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:43:34.394 -04:00 [INF] Obteniendo productos...
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.944 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.945 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.945 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.945 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.947 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.947 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.947 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:35.947 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:43:36.282 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:43:36.487 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 20:43:36.534 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 20:43:36.534 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 20:43:36.535 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 20:43:36.924 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 20:43:36.990 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:43:37.064 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (63ms).
2020-12-14 20:43:37.079 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server 'LAPTOP-GPA\SQLEXPRESS'.
2020-12-14 20:43:52.071 -04:00 [ERR] An error occurred using the connection to database 'TiendaVentas' on server 'LAPTOP-GPA\SQLEXPRESS'.
2020-12-14 20:43:52.196 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SNI_PN11, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SNI_PN11, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
2020-12-14 20:43:52.749 -04:00 [ERR] Error al obtener los productos
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SNI_PN11, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 42
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
2020-12-14 20:43:52.789 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 18388.8132ms.
2020-12-14 20:43:52.791 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:43:52.791 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:43:52.792 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:43:52.792 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:43:52.794 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:43:52.794 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:43:52.795 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 20:43:52.798 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:43:52.804 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:43:52.804 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:43:52.804 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:43:52.805 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 20:43:52.805 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 20:43:52.844 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-14 20:43:52.844 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:43:52.844 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:43:52.857 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 18465.8195ms
2020-12-14 20:43:52.859 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:43:52.864 -04:00 [INF] HTTP GET /api/productos responded 400 in 18655.4880 ms
2020-12-14 20:43:52.875 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:43:52.881 -04:00 [INF] Request finished in 18709.2472ms 400 text/plain; charset=utf-8
2020-12-14 20:43:53.046 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-14 20:43:53.046 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:43:53.058 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-14 20:43:53.058 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-14 20:43:53.058 -04:00 [DBG] Request did not match any endpoints
2020-12-14 20:43:53.059 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 1.1417 ms
2020-12-14 20:43:53.061 -04:00 [INF] Request finished in 15.9288ms 404 
2020-12-14 20:45:15.202 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 20:45:15.490 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 20:45:15.530 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 20:45:15.533 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 20:45:15.533 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:45:15.542 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:45:15.579 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:45:15.587 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:45:15.588 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:15.592 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:15.601 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 20:45:15.634 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:45:15.639 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:45:15.639 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:45:15.640 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:45:15.640 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:45:15.640 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:45:15.641 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:15.641 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:15.642 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:15.642 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:15.642 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:15.642 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:15.648 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:45:15.649 -04:00 [INF] Obteniendo productos...
2020-12-14 20:45:16.427 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.427 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.427 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.427 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.428 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.429 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.429 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.429 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.429 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:45:16.607 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:45:16.717 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 20:45:16.744 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 20:45:16.744 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 20:45:16.744 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 20:45:16.946 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 20:45:16.986 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:45:17.030 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2020-12-14 20:45:17.037 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:17.433 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:17.443 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:17.490 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:17.546 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.576 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.591 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.596 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.607 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.607 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.607 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.608 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:17.612 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:45:17.616 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:17.621 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:17.632 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1979.6238ms.
2020-12-14 20:45:17.633 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:17.633 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:17.634 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:17.634 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:17.634 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:17.635 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:17.635 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:17.637 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:45:17.639 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:45:17.639 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:45:17.639 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:45:17.640 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:45:17.640 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:45:17.678 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:17.678 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:17.678 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:17.685 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 2039.0441ms
2020-12-14 20:45:17.686 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:17.689 -04:00 [INF] HTTP GET /api/productos responded 200 in 2143.6639 ms
2020-12-14 20:45:17.693 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:45:17.696 -04:00 [INF] Request finished in 2170.1132ms 200 application/json; charset=utf-8
2020-12-14 20:45:22.912 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:45:22.913 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:45:22.914 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:45:22.916 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:45:22.916 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:45:22.916 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:22.918 -04:00 [INF] No CORS policy found for the specified request.
2020-12-14 20:45:22.918 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:22.919 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:45:22.919 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:45:22.919 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:45:22.919 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:45:22.919 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:45:22.919 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:45:22.919 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:22.919 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:22.919 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:22.919 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:22.920 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:22.920 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:22.920 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:45:22.920 -04:00 [INF] Obteniendo productos...
2020-12-14 20:45:22.955 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:45:22.956 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:45:22.957 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:45:22.957 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:22.958 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:22.958 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:22.965 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:22.966 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.966 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.967 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:22.968 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:45:22.968 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:22.968 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:22.969 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.7878ms.
2020-12-14 20:45:22.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:22.969 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:22.970 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:45:22.970 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:45:22.970 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:45:22.970 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:45:22.970 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:45:22.970 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:45:22.971 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:22.971 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:22.971 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:22.971 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 52.2455ms
2020-12-14 20:45:22.971 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:22.972 -04:00 [INF] HTTP OPTIONS /api/productos responded 200 in 57.0908 ms
2020-12-14 20:45:22.972 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:45:22.972 -04:00 [INF] Request finished in 60.0066ms 200 application/json; charset=utf-8
2020-12-14 20:45:27.950 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:45:27.951 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:45:27.951 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:45:27.952 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:45:27.952 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:45:27.953 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:27.953 -04:00 [INF] No CORS policy found for the specified request.
2020-12-14 20:45:27.954 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:27.955 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:45:27.955 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:45:27.956 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:45:27.956 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:45:27.956 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:45:27.957 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:45:27.957 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:27.958 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:45:27.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:27.959 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:27.959 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:27.959 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:27.959 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:45:27.959 -04:00 [INF] Obteniendo productos...
2020-12-14 20:45:27.977 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:45:27.979 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:45:27.979 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:45:27.979 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:27.980 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:27.980 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:27.983 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.985 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.986 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.986 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.986 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.986 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:45:27.986 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:45:27.986 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:27.986 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:45:27.987 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.1147ms.
2020-12-14 20:45:27.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:27.987 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:27.987 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:45:27.987 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:45:27.987 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:45:27.987 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:45:27.988 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:45:27.988 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:45:27.989 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:45:27.989 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:27.989 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:45:27.989 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 32.0848ms
2020-12-14 20:45:27.989 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:45:27.990 -04:00 [INF] HTTP OPTIONS /api/productos responded 200 in 37.7293 ms
2020-12-14 20:45:27.990 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:45:27.990 -04:00 [INF] Request finished in 40.0546ms 200 application/json; charset=utf-8
2020-12-14 20:46:02.925 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-14 20:46:03.378 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-14 20:46:03.445 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-14 20:46:03.452 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-14 20:46:03.452 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:46:03.462 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:46:03.526 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:46:03.535 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:46:03.536 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:03.544 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:03.560 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-14 20:46:03.629 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:46:03.640 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:46:03.640 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:46:03.641 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:46:03.641 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:46:03.642 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:46:03.644 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:46:03.645 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:46:03.646 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:03.646 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:03.647 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:03.647 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:03.659 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:46:03.662 -04:00 [INF] Obteniendo productos...
2020-12-14 20:46:05.279 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.280 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.281 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.281 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.281 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.283 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.283 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.284 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.284 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-14 20:46:05.662 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:46:05.797 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-14 20:46:05.853 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-14 20:46:05.854 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-14 20:46:05.854 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-14 20:46:06.254 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 20:46:06.350 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:46:06.445 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (86ms).
2020-12-14 20:46:06.460 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:07.136 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:07.158 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:46:07.257 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:46:07.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.434 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.469 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.478 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.499 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.499 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.500 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.500 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.500 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.501 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:07.508 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:46:07.513 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:07.523 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:07.540 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3874.1266ms.
2020-12-14 20:46:07.542 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:07.542 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:07.543 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:07.543 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:07.545 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:07.545 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:07.546 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:46:07.548 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:46:07.552 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:46:07.553 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:46:07.553 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:46:07.554 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:46:07.554 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:46:07.612 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:46:07.613 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:07.613 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:07.620 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 3971.9643ms
2020-12-14 20:46:07.621 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:07.625 -04:00 [INF] HTTP GET /api/productos responded 200 in 4159.3833 ms
2020-12-14 20:46:07.630 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:46:07.633 -04:00 [INF] Request finished in 4198.3957ms 200 application/json; charset=utf-8
2020-12-14 20:46:10.733 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:46:10.734 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:46:10.734 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:46:10.736 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:46:10.736 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 20:46:10.737 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:46:10.737 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:46:10.738 -04:00 [DBG] The request is a preflight request.
2020-12-14 20:46:10.739 -04:00 [INF] HTTP OPTIONS /api/productos responded 204 in 4.7873 ms
2020-12-14 20:46:10.741 -04:00 [INF] Request finished in 8.3673ms 204 
2020-12-14 20:46:10.746 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:46:10.746 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:46:10.746 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:46:10.746 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:46:10.746 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:46:10.746 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:10.746 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:46:10.746 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:46:10.747 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:10.747 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:46:10.747 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:46:10.747 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:46:10.747 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:46:10.747 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:46:10.747 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:46:10.748 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:46:10.748 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:46:10.748 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:10.748 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:10.748 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:10.748 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:10.748 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:46:10.748 -04:00 [INF] Obteniendo productos...
2020-12-14 20:46:10.792 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:46:10.794 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:46:10.794 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:46:10.795 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:10.796 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:10.796 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:46:10.804 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:46:10.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:46:10.806 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:46:10.806 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:10.806 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:46:10.806 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.7539ms.
2020-12-14 20:46:10.806 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:10.806 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:46:10.806 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:10.806 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:46:10.807 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:10.807 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:10.807 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:46:10.807 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:46:10.807 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:46:10.807 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:46:10.807 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:46:10.807 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:46:10.807 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:46:10.808 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:46:10.809 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:10.809 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:46:10.809 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 61.218ms
2020-12-14 20:46:10.809 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:46:10.809 -04:00 [INF] HTTP GET /api/productos responded 200 in 63.1192 ms
2020-12-14 20:46:10.809 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:46:10.809 -04:00 [INF] Request finished in 63.7358ms 200 application/json; charset=utf-8
2020-12-14 20:47:18.313 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:47:18.313 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:47:18.314 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:47:18.314 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:47:18.315 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 20:47:18.315 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:47:18.316 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:47:18.316 -04:00 [DBG] The request is a preflight request.
2020-12-14 20:47:18.316 -04:00 [INF] HTTP OPTIONS /api/productos responded 204 in 2.1920 ms
2020-12-14 20:47:18.317 -04:00 [INF] Request finished in 8.0918ms 204 
2020-12-14 20:47:18.322 -04:00 [DBG] Connection ID "18230571323271152141" disconnecting.
2020-12-14 20:47:18.349 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:47:18.349 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:47:18.349 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:47:18.349 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:47:18.349 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:47:18.349 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.350 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:47:18.350 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:47:18.350 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.350 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:47:18.350 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:47:18.351 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:47:18.351 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:47:18.351 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:47:18.351 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:47:18.351 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:47:18.351 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:47:18.352 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.352 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.352 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.352 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.352 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:47:18.352 -04:00 [INF] Obteniendo productos...
2020-12-14 20:47:18.367 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:47:18.369 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:47:18.369 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:47:18.369 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.370 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.370 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:47:18.376 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:47:18.377 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.379 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:47:18.379 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.379 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.380 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.3293ms.
2020-12-14 20:47:18.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.381 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.384 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.384 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.384 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.384 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.384 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:47:18.384 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:47:18.384 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:47:18.384 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:47:18.384 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:47:18.385 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:47:18.385 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:47:18.385 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:47:18.386 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.386 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.386 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 34.8974ms
2020-12-14 20:47:18.386 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.386 -04:00 [INF] HTTP GET /api/productos responded 200 in 37.0411 ms
2020-12-14 20:47:18.386 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:47:18.386 -04:00 [INF] Request finished in 37.8925ms 200 application/json; charset=utf-8
2020-12-14 20:47:18.654 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:47:18.654 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:47:18.655 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:47:18.655 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:47:18.655 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:47:18.655 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.655 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:47:18.655 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:47:18.655 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.656 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:47:18.656 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:47:18.656 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:47:18.656 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:47:18.656 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:47:18.656 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:47:18.657 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:47:18.657 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:47:18.657 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.657 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.657 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.657 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.657 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:47:18.657 -04:00 [INF] Obteniendo productos...
2020-12-14 20:47:18.659 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:47:18.660 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:47:18.660 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:47:18.660 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.660 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.661 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:47:18.667 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:47:18.669 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.669 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.669 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.669 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:47:18.670 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:47:18.670 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.671 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:47:18.671 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.6349ms.
2020-12-14 20:47:18.671 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.671 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:47:18.671 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.671 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:47:18.672 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.672 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.672 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:47:18.672 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:47:18.672 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:47:18.672 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:47:18.672 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:47:18.672 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:47:18.672 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:47:18.673 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:47:18.674 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.674 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:47:18.674 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 17.2208ms
2020-12-14 20:47:18.674 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:47:18.674 -04:00 [INF] HTTP GET /api/productos responded 200 in 19.4590 ms
2020-12-14 20:47:18.674 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:47:18.675 -04:00 [INF] Request finished in 20.991ms 200 application/json; charset=utf-8
2020-12-14 20:49:27.613 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:49:27.614 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:49:27.614 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:49:27.614 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:49:27.614 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 20:49:27.615 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:49:27.615 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:49:27.615 -04:00 [DBG] The request is a preflight request.
2020-12-14 20:49:27.615 -04:00 [INF] HTTP OPTIONS /api/productos responded 204 in 1.2398 ms
2020-12-14 20:49:27.616 -04:00 [INF] Request finished in 2.6055ms 204 
2020-12-14 20:49:27.616 -04:00 [DBG] Connection ID "17654110540902957894" disconnecting.
2020-12-14 20:49:27.623 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:49:27.623 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:49:27.623 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:49:27.623 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:49:27.623 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:49:27.623 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:49:27.624 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:49:27.624 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:49:27.624 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:49:27.624 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:49:27.624 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:49:27.624 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:49:27.625 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:49:27.625 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:49:27.625 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:49:27.625 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:49:27.625 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:49:27.625 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:49:27.625 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:49:27.625 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:49:27.625 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:49:27.625 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:49:27.625 -04:00 [INF] Obteniendo productos...
2020-12-14 20:49:27.627 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:49:27.628 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:49:27.628 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:49:27.628 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:49:27.629 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:49:27.629 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:49:27.637 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:49:27.638 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.638 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.639 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.640 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.640 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:49:27.640 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:49:27.640 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:49:27.640 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:49:27.641 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.3364ms.
2020-12-14 20:49:27.641 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:49:27.641 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:49:27.641 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:49:27.641 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:49:27.641 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:49:27.641 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:49:27.642 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:49:27.642 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:49:27.642 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:49:27.642 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:49:27.642 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:49:27.642 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:49:27.642 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:49:27.644 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:49:27.644 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:49:27.644 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:49:27.644 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 19.1051ms
2020-12-14 20:49:27.644 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:49:27.644 -04:00 [INF] HTTP GET /api/productos responded 200 in 21.0041 ms
2020-12-14 20:49:27.644 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:49:27.644 -04:00 [INF] Request finished in 21.9939ms 200 application/json; charset=utf-8
2020-12-14 20:50:33.600 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:50:33.601 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:50:33.601 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:50:33.601 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:50:33.601 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 20:50:33.601 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:50:33.601 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:50:33.602 -04:00 [DBG] The request is a preflight request.
2020-12-14 20:50:33.602 -04:00 [INF] HTTP OPTIONS /api/productos responded 204 in 0.6798 ms
2020-12-14 20:50:33.602 -04:00 [INF] Request finished in 4.5259ms 204 
2020-12-14 20:50:33.602 -04:00 [DBG] Connection ID "18086456148080199006" disconnecting.
2020-12-14 20:50:33.606 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:50:33.606 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:50:33.606 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:50:33.606 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:50:33.607 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:50:33.607 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:50:33.607 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:50:33.607 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:50:33.607 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:50:33.608 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:50:33.608 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:50:33.608 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:50:33.608 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:50:33.608 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:50:33.608 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:50:33.608 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:50:33.609 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:50:33.609 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:50:33.609 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:50:33.609 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:50:33.609 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:50:33.609 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:50:33.609 -04:00 [INF] Obteniendo productos...
2020-12-14 20:50:33.612 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:50:33.612 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:50:33.612 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:50:33.612 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:50:33.613 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:50:33.613 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:50:33.621 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:50:33.622 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.622 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.624 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.624 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.624 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.624 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:50:33.624 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:50:33.624 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:50:33.624 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:50:33.626 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.6808ms.
2020-12-14 20:50:33.629 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:50:33.629 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:50:33.629 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:50:33.630 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:50:33.630 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:50:33.630 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:50:33.630 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:50:33.630 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:50:33.630 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:50:33.630 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:50:33.630 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:50:33.631 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:50:33.631 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:50:33.632 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:50:33.633 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:50:33.633 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:50:33.637 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 28.3028ms
2020-12-14 20:50:33.637 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:50:33.637 -04:00 [INF] HTTP GET /api/productos responded 200 in 30.6268 ms
2020-12-14 20:50:33.637 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:50:33.637 -04:00 [INF] Request finished in 31.5127ms 200 application/json; charset=utf-8
2020-12-14 20:51:23.516 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/productos  
2020-12-14 20:51:23.516 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:51:23.519 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 20:51:23.520 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:51:23.520 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 20:51:23.520 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:51:23.520 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:51:23.520 -04:00 [DBG] The request is a preflight request.
2020-12-14 20:51:23.520 -04:00 [INF] HTTP OPTIONS /api/productos responded 204 in 0.6106 ms
2020-12-14 20:51:23.520 -04:00 [INF] Request finished in 5.6009ms 204 
2020-12-14 20:51:23.521 -04:00 [DBG] Connection ID "18086456148080199010" disconnecting.
2020-12-14 20:51:23.523 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos application/json 
2020-12-14 20:51:23.524 -04:00 [VRB] All hosts are allowed.
2020-12-14 20:51:23.524 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 20:51:23.524 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 20:51:23.524 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 20:51:23.524 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:51:23.524 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 20:51:23.524 -04:00 [INF] CORS policy execution successful.
2020-12-14 20:51:23.525 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:51:23.525 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 20:51:23.525 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 20:51:23.525 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 20:51:23.526 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 20:51:23.526 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 20:51:23.526 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 20:51:23.526 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:51:23.526 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 20:51:23.527 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:51:23.527 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:51:23.527 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:51:23.527 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:51:23.527 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 20:51:23.527 -04:00 [INF] Obteniendo productos...
2020-12-14 20:51:23.530 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 20:51:23.531 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 20:51:23.531 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 20:51:23.531 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:51:23.532 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:51:23.532 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:51:23.545 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 20:51:23.546 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.547 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.548 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.549 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.550 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.550 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.552 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.552 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.553 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.553 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 20:51:23.553 -04:00 [DBG] A data reader was disposed.
2020-12-14 20:51:23.554 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:51:23.554 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 20:51:23.555 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.4244ms.
2020-12-14 20:51:23.555 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:51:23.555 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:51:23.556 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 20:51:23.556 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 20:51:23.556 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 20:51:23.556 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 20:51:23.556 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 20:51:23.556 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 20:51:23.558 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 20:51:23.559 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:51:23.559 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 20:51:23.562 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 36.2441ms
2020-12-14 20:51:23.563 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 20:51:23.563 -04:00 [INF] HTTP GET /api/productos responded 200 in 39.0753 ms
2020-12-14 20:51:23.563 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 20:51:23.563 -04:00 [INF] Request finished in 40.0608ms 200 application/json; charset=utf-8
2020-12-14 21:12:49.931 -04:00 [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44388/api/clientes  
2020-12-14 21:12:49.932 -04:00 [VRB] All hosts are allowed.
2020-12-14 21:12:49.932 -04:00 [DBG] OPTIONS requests are not supported
2020-12-14 21:12:49.932 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-14 21:12:49.932 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-14 21:12:49.932 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 21:12:49.932 -04:00 [INF] CORS policy execution successful.
2020-12-14 21:12:49.932 -04:00 [DBG] The request is a preflight request.
2020-12-14 21:12:49.933 -04:00 [INF] HTTP OPTIONS /api/clientes responded 204 in 0.7703 ms
2020-12-14 21:12:49.933 -04:00 [INF] Request finished in 5.3429ms 204 
2020-12-14 21:12:49.933 -04:00 [DBG] Connection ID "18158513707758387434" disconnecting.
2020-12-14 21:12:49.945 -04:00 [INF] Request starting HTTP/2.0 POST https://localhost:44388/api/clientes application/json 85
2020-12-14 21:12:49.945 -04:00 [VRB] All hosts are allowed.
2020-12-14 21:12:49.945 -04:00 [DBG] POST requests are not supported
2020-12-14 21:12:49.945 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-14 21:12:49.945 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-14 21:12:49.945 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-14 21:12:49.945 -04:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2020-12-14 21:12:49.945 -04:00 [INF] CORS policy execution successful.
2020-12-14 21:12:49.946 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-14 21:12:49.974 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-14 21:12:49.974 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 21:12:49.974 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 21:12:49.974 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 21:12:49.974 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 21:12:49.974 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 21:12:49.975 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-14 21:12:49.975 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-14 21:12:49.991 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-14 21:12:49.996 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-14 21:12:49.997 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-14 21:12:50.012 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-14 21:12:50.013 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-14 21:12:50.013 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-14 21:12:50.014 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-14 21:12:50.024 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-14 21:12:50.029 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:12:50.029 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:12:50.029 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:12:50.029 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:12:50.030 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 21:12:50.030 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-14 21:12:50.033 -04:00 [INF] Registrando cliente con los parametros
2020-12-14 21:12:50.057 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 21:12:50.135 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.159 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.165 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.170 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.181 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-14 21:12:50.186 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-14 21:12:50.218 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-14 21:12:50.252 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:12:50.274 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:12:50.288 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-14 21:12:50.300 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-14 21:12:50.397 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:12:50.397 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:12:50.417 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 21:12:50.457 -04:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-14 21:12:50.464 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:12:50.468 -04:00 [DBG] Committing transaction.
2020-12-14 21:12:50.473 -04:00 [DBG] Committed transaction.
2020-12-14 21:12:50.476 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:12:50.476 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:12:50.479 -04:00 [DBG] Disposing transaction.
2020-12-14 21:12:50.495 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.496 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.496 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.496 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.496 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:12:50.500 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-14 21:12:50.501 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 470.5318ms.
2020-12-14 21:12:50.501 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:12:50.501 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:12:50.501 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 21:12:50.502 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 21:12:50.502 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 21:12:50.502 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 21:12:50.502 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-14 21:12:50.502 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-14 21:12:50.511 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:12:50.512 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:12:50.512 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:12:50.512 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 537.3512ms
2020-12-14 21:12:50.512 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-14 21:12:50.512 -04:00 [INF] HTTP POST /api/clientes responded 200 in 567.2411 ms
2020-12-14 21:12:50.514 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 21:12:50.515 -04:00 [INF] Request finished in 576.9536ms 200 text/plain; charset=utf-8
2020-12-14 21:18:12.683 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-14 21:18:12.683 -04:00 [VRB] All hosts are allowed.
2020-12-14 21:18:12.686 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-14 21:18:12.686 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-14 21:18:12.686 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-14 21:18:12.686 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 21:18:12.686 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 21:18:12.687 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-14 21:18:12.687 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 21:18:12.687 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 21:18:12.687 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 21:18:12.687 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 21:18:12.687 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 21:18:12.687 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 21:18:12.688 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-14 21:18:12.688 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:12.688 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:12.688 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:12.688 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:12.688 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 21:18:12.688 -04:00 [INF] Obteniendo productos...
2020-12-14 21:18:12.694 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 21:18:12.695 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:12.695 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:12.695 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:12.695 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:12.696 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 21:18:12.701 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-14 21:18:12.701 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.701 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.701 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:12.702 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:12.702 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:12.703 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:12.704 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.9838ms.
2020-12-14 21:18:12.708 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:12.708 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:18:12.708 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 21:18:12.708 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 21:18:12.708 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 21:18:12.708 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 21:18:12.708 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 21:18:12.708 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 21:18:12.709 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:18:12.709 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:12.709 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:12.709 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 22.132ms
2020-12-14 21:18:12.710 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-14 21:18:12.710 -04:00 [INF] HTTP GET /api/productos responded 200 in 23.9950 ms
2020-12-14 21:18:12.710 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 21:18:12.710 -04:00 [INF] Request finished in 27.3563ms 200 application/json; charset=utf-8
2020-12-14 21:18:44.153 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-14 21:18:44.153 -04:00 [VRB] All hosts are allowed.
2020-12-14 21:18:44.156 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-14 21:18:44.156 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 21:18:44.158 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-14 21:18:44.158 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 21:18:44.161 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 21:18:44.167 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-14 21:18:44.168 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-14 21:18:44.168 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-14 21:18:44.168 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-14 21:18:44.168 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-14 21:18:44.168 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-14 21:18:44.168 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 21:18:44.168 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-14 21:18:44.169 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-14 21:18:44.169 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-14 21:18:44.170 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 21:18:44.170 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-14 21:18:44.170 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-14 21:18:44.170 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-14 21:18:44.170 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:44.171 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:44.171 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:44.171 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:44.171 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-14 21:18:44.171 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-14 21:18:44.172 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-14 21:18:44.180 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-14 21:18:44.195 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-14 21:18:44.211 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-14 21:18:44.212 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-14 21:18:44.212 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-14 21:18:44.212 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-14 21:18:44.212 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-14 21:18:44.338 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 21:18:44.360 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.361 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.361 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.362 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.362 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 21:18:44.371 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-14 21:18:44.393 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.442 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.446 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.448 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.449 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.450 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.451 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.451 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.451 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.451 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.452 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.452 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.457 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-14 21:18:44.459 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-14 21:18:44.459 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-14 21:18:44.459 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-14 21:18:44.482 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-14 21:18:44.486 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.486 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.486 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.487 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.487 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.493 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.507 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.516 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.527 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.534 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.534 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.534 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.542 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen, 
            x.Producto.Categoria.Value
        ) 
    }
    )'
2020-12-14 21:18:44.568 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio, p.urlImagen, p.categoria
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-14 21:18:44.568 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.568 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.568 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.568 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.568 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.574 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.576 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.576 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.576 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.582 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.582 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.582 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.582 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.582 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.584 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.584 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.584 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.584 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.584 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.584 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.585 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.587 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.588 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.588 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.588 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.588 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.589 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.590 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.590 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.590 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.590 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.590 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.591 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.591 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.591 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.592 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.592 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.593 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.593 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.593 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.593 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.593 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.594 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.594 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.594 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.594 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.594 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.597 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.598 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.602 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.602 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.603 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.603 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.603 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.603 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.604 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.605 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.605 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.605 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.605 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-14 21:18:44.605 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.605 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.606 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.606 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-14 21:18:44.606 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-14 21:18:44.606 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.607 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.607 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.608 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-14 21:18:44.608 -04:00 [DBG] A data reader was disposed.
2020-12-14 21:18:44.608 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.608 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-14 21:18:44.608 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 437.5382ms.
2020-12-14 21:18:44.609 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:44.609 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:18:44.609 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-14 21:18:44.609 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-14 21:18:44.609 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-14 21:18:44.610 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-14 21:18:44.610 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-14 21:18:44.610 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-14 21:18:44.625 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-14 21:18:44.625 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:44.625 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-14 21:18:44.625 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 457.4669ms
2020-12-14 21:18:44.625 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-14 21:18:44.626 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 469.7892 ms
2020-12-14 21:18:44.626 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-14 21:18:44.626 -04:00 [INF] Request finished in 474.1026ms 200 application/json; charset=utf-8
2020-12-15 12:33:44.949 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 12:33:45.170 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 12:33:45.213 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 12:33:45.215 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 12:33:45.216 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:33:45.221 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 12:33:45.248 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 12:33:45.252 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 12:33:45.253 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:45.257 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:45.264 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 12:33:45.289 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 12:33:45.293 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:33:45.293 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:33:45.293 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:33:45.293 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:33:45.293 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:33:45.294 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:33:45.294 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:33:45.295 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:45.295 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:45.295 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:45.295 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:45.300 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:33:45.301 -04:00 [INF] Obteniendo productos...
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.914 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.915 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.915 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.915 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:45.915 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 12:33:46.051 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:33:46.116 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 12:33:46.138 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 12:33:46.138 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 12:33:46.139 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 12:33:46.300 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 12:33:46.332 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:33:46.366 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2020-12-15 12:33:46.370 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:46.668 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:46.675 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:33:46.709 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:33:46.749 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.770 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.781 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.785 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.792 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.792 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:46.796 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:33:46.799 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:46.803 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:46.811 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1508.2757ms.
2020-12-15 12:33:46.812 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:46.812 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:46.813 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:46.813 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:46.813 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:46.813 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:46.814 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:33:46.815 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:33:46.817 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:33:46.817 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:33:46.817 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:33:46.818 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 12:33:46.818 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 12:33:46.850 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:33:46.850 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:46.850 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:46.854 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1557.0036ms
2020-12-15 12:33:46.854 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:46.856 -04:00 [INF] HTTP GET /api/productos responded 200 in 1633.5197 ms
2020-12-15 12:33:46.860 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:33:46.862 -04:00 [INF] Request finished in 1652.0357ms 200 application/json; charset=utf-8
2020-12-15 12:33:46.949 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-15 12:33:46.949 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:33:46.959 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-15 12:33:46.959 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-15 12:33:46.959 -04:00 [DBG] Request did not match any endpoints
2020-12-15 12:33:46.959 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.2978 ms
2020-12-15 12:33:46.961 -04:00 [INF] Request finished in 12.223ms 404 
2020-12-15 12:33:58.979 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-15 12:33:58.979 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:33:58.979 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 12:33:58.980 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 12:33:58.980 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 12:33:58.980 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:58.980 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:58.981 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 12:33:58.981 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:33:58.981 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:33:58.981 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:33:58.981 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:33:58.981 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:33:58.981 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:33:58.981 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:33:58.981 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:58.981 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:58.981 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:58.981 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:58.981 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:33:58.981 -04:00 [INF] Obteniendo productos...
2020-12-15 12:33:59.005 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:33:59.005 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:33:59.005 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:33:59.006 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:59.006 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:59.007 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:33:59.011 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.012 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:33:59.013 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:33:59.013 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:59.013 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:33:59.013 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.42ms.
2020-12-15 12:33:59.013 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:59.013 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:33:59.013 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:33:59.013 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:33:59.014 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:33:59.014 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:33:59.014 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 12:33:59.014 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 12:33:59.014 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:33:59.014 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:59.014 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:33:59.014 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 33.1936ms
2020-12-15 12:33:59.014 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:33:59.014 -04:00 [INF] HTTP GET /api/productos responded 200 in 35.1642 ms
2020-12-15 12:33:59.014 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:33:59.015 -04:00 [INF] Request finished in 35.901ms 200 application/json; charset=utf-8
2020-12-15 12:34:48.840 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 185
2020-12-15 12:34:48.840 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:34:48.840 -04:00 [DBG] POST requests are not supported
2020-12-15 12:34:48.841 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 12:34:48.841 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 12:34:48.841 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:34:48.841 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:34:48.855 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 12:34:48.855 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:34:48.855 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:34:48.855 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:34:48.855 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:34:48.855 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:34:48.855 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:34:48.855 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:34:48.860 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-15 12:34:48.862 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-15 12:34:48.863 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-15 12:34:48.871 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-15 12:34:48.871 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:34:48.871 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:34:48.871 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-15 12:34:48.874 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:34:48.875 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:34:48.875 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:34:48.875 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:34:48.875 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:34:48.875 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:34:48.875 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-15 12:34:48.876 -04:00 [INF] Insertando producto con los parametros
2020-12-15 12:34:48.890 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:34:48.907 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:48.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:48.913 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:48.914 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:48.916 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-15 12:34:48.918 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-15 12:34:48.927 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-15 12:34:48.940 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:34:48.940 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:34:48.941 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-15 12:34:48.947 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-15 12:34:48.987 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:34:48.988 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:34:48.997 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:34:49.026 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:34:49.032 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:34:49.035 -04:00 [DBG] Committing transaction.
2020-12-15 12:34:49.037 -04:00 [DBG] Committed transaction.
2020-12-15 12:34:49.039 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:34:49.039 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:34:49.040 -04:00 [DBG] Disposing transaction.
2020-12-15 12:34:49.048 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:49.048 -04:00 [DBG] An entity of type 'NombreCategoriaValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:49.048 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:49.048 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:34:49.050 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-15 12:34:49.050 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.8112ms.
2020-12-15 12:34:49.050 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:34:49.050 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:34:49.050 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:34:49.050 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:34:49.050 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:34:49.051 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:34:49.051 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-15 12:34:49.051 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-15 12:34:49.052 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:34:49.052 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:34:49.052 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:34:49.052 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 197.4836ms
2020-12-15 12:34:49.053 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:34:49.053 -04:00 [INF] HTTP POST /api/productos responded 200 in 212.0500 ms
2020-12-15 12:34:49.053 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:34:49.054 -04:00 [INF] Request finished in 219.0954ms 200 text/plain; charset=utf-8
2020-12-15 12:35:29.650 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 202
2020-12-15 12:35:29.651 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:35:29.651 -04:00 [DBG] POST requests are not supported
2020-12-15 12:35:29.651 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 12:35:29.652 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 12:35:29.652 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:35:29.652 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:35:29.653 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 12:35:29.653 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:35:29.653 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:35:29.653 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:35:29.653 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:35:29.654 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:35:29.654 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:35:29.654 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:35:29.654 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-15 12:35:29.655 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-15 12:35:29.655 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-15 12:35:29.656 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-15 12:35:29.656 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:35:29.656 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:35:29.656 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-15 12:35:29.656 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-15 12:35:29.656 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:29.656 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:29.656 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:29.656 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:29.656 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:35:29.656 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-15 12:35:29.656 -04:00 [INF] Insertando producto con los parametros
2020-12-15 12:35:29.661 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:35:29.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.662 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.662 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-15 12:35:29.662 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-15 12:35:29.663 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-15 12:35:29.663 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:29.663 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:29.663 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-15 12:35:29.663 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-15 12:35:29.664 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:35:29.664 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:35:29.664 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:35:29.668 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [categoria], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:35:29.668 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:35:29.668 -04:00 [DBG] Committing transaction.
2020-12-15 12:35:29.669 -04:00 [DBG] Committed transaction.
2020-12-15 12:35:29.669 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:29.669 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:29.669 -04:00 [DBG] Disposing transaction.
2020-12-15 12:35:29.669 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.669 -04:00 [DBG] An entity of type 'NombreCategoriaValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.669 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.669 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:29.669 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-15 12:35:29.670 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.2599ms.
2020-12-15 12:35:29.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:29.670 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:35:29.670 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:35:29.670 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:35:29.670 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:35:29.670 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:35:29.670 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-15 12:35:29.670 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-15 12:35:29.671 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:35:29.671 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:29.672 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:29.672 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 17.9042ms
2020-12-15 12:35:29.672 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-15 12:35:29.672 -04:00 [INF] HTTP POST /api/productos responded 200 in 20.6003 ms
2020-12-15 12:35:29.672 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:35:29.674 -04:00 [INF] Request finished in 24.9489ms 200 text/plain; charset=utf-8
2020-12-15 12:35:33.101 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-15 12:35:33.102 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:35:33.102 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 12:35:33.102 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 12:35:33.102 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 12:35:33.102 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:35:33.102 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:35:33.102 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 12:35:33.102 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:35:33.103 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:35:33.103 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:35:33.103 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:35:33.103 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:35:33.103 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:35:33.103 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 12:35:33.103 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:33.103 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:33.103 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:33.103 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:33.103 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:35:33.103 -04:00 [INF] Obteniendo productos...
2020-12-15 12:35:33.105 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:35:33.106 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:35:33.106 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:35:33.106 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:33.106 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:33.106 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:35:33.109 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.110 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:35:33.111 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:35:33.111 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:33.111 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:35:33.111 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.4492ms.
2020-12-15 12:35:33.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:33.112 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:35:33.112 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:35:33.112 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:35:33.112 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:35:33.112 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:35:33.112 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 12:35:33.112 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 12:35:33.113 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:35:33.113 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:33.113 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:35:33.113 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 10.2394ms
2020-12-15 12:35:33.113 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 12:35:33.113 -04:00 [INF] HTTP GET /api/productos responded 200 in 11.3062 ms
2020-12-15 12:35:33.113 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:35:33.113 -04:00 [INF] Request finished in 12.1052ms 200 application/json; charset=utf-8
2020-12-15 12:36:37.160 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 505
2020-12-15 12:36:37.161 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:36:37.161 -04:00 [DBG] POST requests are not supported
2020-12-15 12:36:37.161 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-15 12:36:37.161 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-15 12:36:37.161 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-15 12:36:37.161 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-15 12:36:37.170 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 12:36:37.170 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:36:37.170 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:36:37.170 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:36:37.170 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:36:37.170 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:36:37.170 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 12:36:37.171 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 12:36:37.171 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-15 12:36:37.171 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-15 12:36:37.171 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-15 12:36:37.178 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-15 12:36:37.178 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-15 12:36:37.178 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-15 12:36:37.178 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-15 12:36:37.180 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-15 12:36:37.181 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:37.181 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:37.181 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:37.181 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:37.181 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:36:37.181 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-15 12:36:37.181 -04:00 [INF] Insertando venta con los parametros
2020-12-15 12:36:37.187 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:36:37.198 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__clienteID_0))
    .FirstOrDefault()'
2020-12-15 12:36:37.205 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 12:36:37.205 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 12:36:37.205 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 12:36:37.206 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 12:36:37.244 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__clienteID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 12:36:37.249 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.249 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.249 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.250 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.250 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 12:36:37.252 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 12:36:37.265 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.268 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.272 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.275 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.281 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.281 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.281 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.284 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(c => c.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-15 12:36:37.284 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 12:36:37.284 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 12:36:37.284 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 12:36:37.290 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 12:36:37.290 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.290 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.290 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.290 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.290 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-15 12:36:37.295 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-15 12:36:37.295 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.296 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.296 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.296 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.296 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.296 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.296 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.299 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.299 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.299 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.299 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.299 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-15 12:36:37.301 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-15 12:36:37.301 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.301 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.301 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.301 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.303 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.303 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.304 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.329 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.339 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.342 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.344 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.364 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.370 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.373 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.376 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-15 12:36:37.376 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-15 12:36:37.388 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-15 12:36:37.388 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.388 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.388 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-15 12:36:37.389 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-15 12:36:37.390 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.390 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.391 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.402 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.402 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.407 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-15 12:36:37.407 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.407 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.408 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.411 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.411 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.411 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.411 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.411 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.413 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-15 12:36:37.413 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.413 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:37.413 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:37.414 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:36:37.417 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 12:36:37.417 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:37.417 -04:00 [DBG] Committing transaction.
2020-12-15 12:36:37.417 -04:00 [DBG] Committed transaction.
2020-12-15 12:36:37.417 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.417 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:37.417 -04:00 [DBG] Disposing transaction.
2020-12-15 12:36:37.418 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:37.419 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-15 12:36:37.420 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 238.9068ms.
2020-12-15 12:36:37.420 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:37.420 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:36:37.420 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:36:37.420 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:36:37.420 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:36:37.420 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:36:37.420 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-15 12:36:37.420 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-15 12:36:37.421 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:36:37.421 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:37.421 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:37.421 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 250.5386ms
2020-12-15 12:36:37.421 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-15 12:36:37.421 -04:00 [INF] HTTP POST /api/ventas responded 200 in 260.1413 ms
2020-12-15 12:36:37.421 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:36:37.421 -04:00 [INF] Request finished in 264.2845ms 200 text/plain; charset=utf-8
2020-12-15 12:36:41.551 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 12:36:41.551 -04:00 [VRB] All hosts are allowed.
2020-12-15 12:36:41.551 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 12:36:41.552 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 12:36:41.552 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 12:36:41.552 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 12:36:41.552 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 12:36:41.557 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 12:36:41.557 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 12:36:41.557 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 12:36:41.557 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 12:36:41.557 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 12:36:41.557 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 12:36:41.557 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 12:36:41.557 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 12:36:41.558 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 12:36:41.558 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 12:36:41.559 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 12:36:41.559 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 12:36:41.559 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 12:36:41.559 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 12:36:41.559 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:41.559 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:41.560 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:41.560 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:41.560 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 12:36:41.560 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 12:36:41.561 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 12:36:41.566 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 12:36:41.570 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 12:36:41.578 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 12:36:41.578 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 12:36:41.578 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 12:36:41.578 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 12:36:41.578 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 12:36:41.599 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 12:36:41.604 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.604 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.604 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.604 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.604 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 12:36:41.607 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 12:36:41.609 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.610 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.611 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.611 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.611 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.611 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.611 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.611 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.612 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-15 12:36:41.612 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 12:36:41.612 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 12:36:41.612 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 12:36:41.619 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 12:36:41.619 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.619 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.619 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.620 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.620 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.622 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.622 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.622 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.623 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.623 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.623 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.626 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen, 
            x.Producto.Categoria.Value
        ) 
    }
    )'
2020-12-15 12:36:41.635 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio, p.urlImagen, p.categoria
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 12:36:41.636 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.636 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.636 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.636 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.636 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.638 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.639 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.639 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.639 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.640 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.640 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.640 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.640 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.640 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.641 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.641 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.641 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.641 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.642 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.642 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.642 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.642 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.642 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.643 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.644 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.644 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.644 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.644 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.644 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.644 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.644 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.644 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.645 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.645 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.645 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.645 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.645 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.645 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.645 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.645 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.645 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.645 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.645 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.645 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.646 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.646 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.646 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.646 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.646 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.647 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.647 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.647 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.647 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.647 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.647 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.647 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.647 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.648 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.648 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.648 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.648 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.648 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.648 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.648 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.648 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.649 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.649 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.649 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.649 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.649 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.649 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.649 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.649 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.649 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.650 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.650 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.650 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.650 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 12:36:41.650 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.650 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.650 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.650 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 12:36:41.651 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 12:36:41.651 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.651 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.651 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.651 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen], [p].[categoria]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-15 12:36:41.651 -04:00 [DBG] A data reader was disposed.
2020-12-15 12:36:41.652 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.652 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 12:36:41.652 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.0738ms.
2020-12-15 12:36:41.652 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:41.652 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:36:41.652 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 12:36:41.652 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 12:36:41.652 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 12:36:41.652 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 12:36:41.652 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 12:36:41.652 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 12:36:41.657 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 12:36:41.657 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:41.658 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 12:36:41.658 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 100.2941ms
2020-12-15 12:36:41.658 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 12:36:41.658 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 106.8757 ms
2020-12-15 12:36:41.658 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 12:36:41.658 -04:00 [INF] Request finished in 107.4688ms 200 application/json; charset=utf-8
2020-12-15 13:06:52.856 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:06:53.113 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:06:53.152 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:06:53.156 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:06:53.156 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:06:53.163 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:06:53.199 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:06:53.205 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:06:53.206 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:06:53.210 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:06:53.219 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:06:53.250 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:06:53.255 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:06:53.255 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:06:53.255 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:06:53.256 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:06:53.256 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:06:53.257 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:06:53.257 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:06:53.258 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:06:53.258 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:06:53.258 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:06:53.258 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:06:53.264 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:06:53.266 -04:00 [INF] Obteniendo productos...
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.083 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.084 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.084 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.085 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.085 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.085 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.085 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:06:54.270 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:06:54.347 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:06:54.376 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:06:54.377 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:06:54.377 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:06:54.590 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:06:54.634 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:06:54.680 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2020-12-15 13:06:54.686 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:06:55.048 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:06:55.059 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:06:55.108 -04:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:06:55.166 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.195 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.212 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.217 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.227 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.228 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.229 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:06:55.234 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:06:55.238 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:06:55.245 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:06:55.257 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1987.805ms.
2020-12-15 13:06:55.258 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:06:55.258 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:06:55.259 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:06:55.259 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:06:55.260 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:06:55.260 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:06:55.261 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:06:55.262 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:06:55.265 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:06:55.265 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:06:55.265 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:06:55.266 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:06:55.266 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:06:55.301 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:06:55.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:06:55.301 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:06:55.306 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 2045.6771ms
2020-12-15 13:06:55.307 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:06:55.310 -04:00 [INF] HTTP GET /api/productos responded 200 in 2144.4100 ms
2020-12-15 13:06:55.316 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:06:55.318 -04:00 [INF] Request finished in 2170.6704ms 200 application/json; charset=utf-8
2020-12-15 13:07:13.266 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:07:13.266 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:07:13.267 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:07:13.268 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:07:13.269 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:07:13.269 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:07:13.269 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:07:13.278 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:07:13.279 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:07:13.279 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:07:13.279 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:07:13.279 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:07:13.279 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:07:13.279 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:07:13.280 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:07:13.287 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:07:13.288 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:07:13.288 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:13.288 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:13.288 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:07:13.290 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:13.291 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:13.291 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:13.291 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:13.291 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:13.291 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:07:13.291 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:07:13.292 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:07:13.317 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:07:13.328 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:07:13.341 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:07:13.341 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:07:13.341 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:07:13.341 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:07:13.342 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:07:13.392 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:07:13.400 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:13.400 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:13.403 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.404 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.406 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:07:13.424 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:07:13.432 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.459 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.463 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.468 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.471 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.474 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.477 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.477 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.477 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.477 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.478 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:13.478 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.478 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.481 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:07:13.482 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:07:13.482 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:07:13.482 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:07:13.491 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:07:13.492 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:13.492 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:13.492 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.492 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.493 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:13.495 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:13.501 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.505 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.509 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.512 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:13.512 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.512 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.514 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:07:13.514 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:07:13.514 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:07:13.514 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:07:13.515 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:07:13.522 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:07:13.523 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:13.523 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:13.523 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.523 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.523 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:13.525 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:13.533 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.538 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.546 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.548 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:13.551 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:13.551 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:13.551 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:44.121 -04:00 [ERR] Error al obtener el historial de venta con ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.<>c.<Handle>b__2_0(DetalleVenta x) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 32
   at System.Linq.Enumerable.SelectListIterator`2.ToList()
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 32
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 54
2020-12-15 13:07:44.194 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 30903.1999ms.
2020-12-15 13:07:44.194 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:44.194 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:44.194 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:44.194 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:44.195 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:07:44.195 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:07:44.195 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-15 13:07:44.195 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:07:44.196 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:07:44.196 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:07:44.196 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:07:44.196 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-15 13:07:44.196 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-15 13:07:44.201 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-15 13:07:44.201 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:07:44.201 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:07:44.201 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 30922.0684ms
2020-12-15 13:07:44.201 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:07:44.201 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 30934.4429 ms
2020-12-15 13:07:44.202 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:07:44.202 -04:00 [INF] Request finished in 30936.5593ms 400 text/plain; charset=utf-8
2020-12-15 13:07:46.938 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:07:46.939 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:07:46.939 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:07:46.940 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:07:46.941 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:07:46.941 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:07:46.942 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:07:46.943 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:07:46.943 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:07:46.943 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:07:46.943 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:07:46.943 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:07:46.943 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:07:46.943 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:07:46.944 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:07:46.944 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:07:46.944 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:07:46.944 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:46.944 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:46.944 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:07:46.944 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:07:46.944 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:46.944 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:07:46.944 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:46.944 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:07:46.944 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:07:46.945 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:07:46.945 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:07:46.951 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:07:46.954 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:46.954 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:46.954 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.955 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.955 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:07:46.958 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:07:46.958 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.958 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.959 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:46.959 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.959 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.960 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:46.960 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:46.960 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.960 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.960 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:46.962 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:46.962 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.962 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.962 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.962 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:46.962 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.962 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.962 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:07:46.962 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:07:46.963 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.963 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.963 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:46.964 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:07:46.964 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.964 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.964 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.964 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.965 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.965 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.965 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.965 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:07:46.965 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:07:46.965 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:07:46.965 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:09:54.107 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:09:54.295 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:09:54.325 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:09:54.327 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:09:54.327 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:09:54.332 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:09:54.358 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:09:54.362 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:09:54.362 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:09:54.365 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:09:54.372 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:09:54.400 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:09:54.404 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:09:54.404 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:09:54.404 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:09:54.404 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:09:54.404 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:09:54.405 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:09:54.405 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:09:54.405 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:09:54.406 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:09:54.406 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:09:54.406 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:09:54.409 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:09:54.410 -04:00 [INF] Obteniendo productos...
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.967 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.968 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.968 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.968 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:54.968 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:09:55.087 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:09:55.139 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:09:55.159 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:09:55.159 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:09:55.159 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:09:55.298 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:09:55.325 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:09:55.359 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2020-12-15 13:09:55.364 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:09:55.613 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:09:55.620 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:09:55.651 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:09:55.690 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.709 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.720 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.723 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.731 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:09:55.734 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:09:55.737 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:09:55.741 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:09:55.748 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1335.7408ms.
2020-12-15 13:09:55.749 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:09:55.749 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:09:55.750 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:09:55.750 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:09:55.750 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:09:55.750 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:09:55.751 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:09:55.752 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:09:55.754 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:09:55.754 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:09:55.754 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:09:55.754 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:09:55.754 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:09:55.779 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:09:55.779 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:09:55.779 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:09:55.783 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1375.3533ms
2020-12-15 13:09:55.783 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:09:55.785 -04:00 [INF] HTTP GET /api/productos responded 200 in 1450.9010 ms
2020-12-15 13:09:55.789 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:09:55.791 -04:00 [INF] Request finished in 1469.3402ms 200 application/json; charset=utf-8
2020-12-15 13:10:00.034 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:10:00.035 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:10:00.035 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:10:00.036 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:10:00.036 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:10:00.037 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:10:00.037 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:10:00.049 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:10:00.049 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:10:00.049 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:10:00.049 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:10:00.049 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:10:00.049 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:10:00.050 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:10:00.051 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:10:00.058 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:10:00.059 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:10:00.060 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:10:00.060 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:10:00.060 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:10:00.061 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:10:00.063 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:10:00.063 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:10:00.063 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:10:00.063 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:10:00.063 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:10:00.063 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:10:00.064 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:10:00.093 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:10:00.103 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:10:00.116 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:10:00.116 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:10:00.117 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:10:00.117 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:10:00.117 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:10:00.168 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:10:00.176 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:10:00.176 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:10:00.179 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.181 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.183 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:10:00.201 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:10:00.210 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.237 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.245 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.248 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.251 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.254 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.254 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.254 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.254 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.255 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:10:00.255 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.255 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.257 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:10:00.258 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:10:00.258 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:10:00.258 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:10:00.267 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:10:00.269 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:10:00.269 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:10:00.269 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.269 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.269 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:10:00.271 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:10:00.277 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.281 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.285 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.288 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:10:00.288 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.288 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.290 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:10:00.290 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:10:00.290 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:10:00.291 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:10:00.291 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:10:00.299 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:10:00.299 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:10:00.300 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:10:00.300 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.300 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.300 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:10:00.302 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:10:00.310 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.314 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.321 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.324 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.326 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.326 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.326 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:10:00.327 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:10:00.327 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:10:00.327 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:15.003 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:12:15.173 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:12:15.199 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:12:15.202 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:12:15.202 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:12:15.206 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:12:15.230 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:12:15.234 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:12:15.235 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:15.237 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:15.244 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:12:15.263 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:12:15.266 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:12:15.266 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:12:15.266 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:12:15.266 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:12:15.266 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:12:15.267 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:12:15.267 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:12:15.268 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:15.268 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:15.268 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:15.268 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:15.272 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:12:15.273 -04:00 [INF] Obteniendo productos...
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.813 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.814 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.814 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.814 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.814 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:15.937 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:12:15.992 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:12:16.011 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:12:16.011 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:12:16.011 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:12:16.148 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:16.177 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:16.210 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2020-12-15 13:12:16.214 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:16.468 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:16.475 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:12:16.506 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:12:16.544 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.564 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.576 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.588 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:16.591 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:16.594 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:16.598 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:16.606 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1330.7403ms.
2020-12-15 13:12:16.606 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:16.606 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:16.607 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:16.607 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:16.607 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:16.607 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:16.608 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:16.609 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:12:16.611 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:12:16.611 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:12:16.611 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:12:16.611 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:12:16.611 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:12:16.635 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:16.635 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:16.635 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:16.639 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1369.4714ms
2020-12-15 13:12:16.640 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:16.642 -04:00 [INF] HTTP GET /api/productos responded 200 in 1433.8602 ms
2020-12-15 13:12:16.645 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:12:16.647 -04:00 [INF] Request finished in 1450.1919ms 200 application/json; charset=utf-8
2020-12-15 13:12:19.523 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:12:19.523 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:12:19.524 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:12:19.525 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:12:19.526 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:12:19.526 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:12:19.526 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:12:19.536 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:12:19.536 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:12:19.536 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:12:19.536 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:12:19.536 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:12:19.536 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:12:19.536 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:12:19.536 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:12:19.540 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:12:19.541 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:12:19.542 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:19.542 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:19.542 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:12:19.543 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:19.544 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:19.544 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:19.544 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:19.544 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:19.544 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:12:19.544 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:12:19.545 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:12:19.571 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:12:19.581 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:12:19.594 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:12:19.594 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:12:19.594 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:12:19.594 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:12:19.595 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:12:19.646 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:19.655 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:19.656 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:19.659 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.659 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.662 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:12:19.680 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:12:19.688 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.717 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.721 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.726 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.729 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.732 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.736 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:19.736 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.736 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.739 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:12:19.740 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:12:19.740 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:12:19.740 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:12:19.748 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:12:19.750 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:19.750 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:19.750 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.751 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.751 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:19.753 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:19.758 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.762 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.767 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.770 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:19.770 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.770 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.771 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:12:19.772 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:12:19.772 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:12:19.772 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:12:19.772 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:12:19.780 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:19.780 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:19.780 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:19.780 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.780 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.780 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:19.782 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:19.790 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.795 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.803 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.805 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:19.808 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:19.808 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:19.808 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:52.798 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:12:52.971 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:12:52.997 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:12:53.000 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:12:53.000 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:12:53.004 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:12:53.028 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:12:53.032 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:12:53.033 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:53.036 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:53.042 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:12:53.062 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:12:53.065 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:12:53.065 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:12:53.065 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:12:53.066 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:12:53.066 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:12:53.066 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:12:53.067 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:12:53.067 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:53.067 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:53.067 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:53.067 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:53.071 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:12:53.072 -04:00 [INF] Obteniendo productos...
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.611 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.612 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.612 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.612 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.612 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:12:53.732 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:12:53.787 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:12:53.806 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:12:53.806 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:12:53.807 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:12:53.955 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:53.983 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:54.013 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-15 13:12:54.018 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:54.270 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:54.276 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:12:54.307 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:12:54.346 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.366 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.380 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.388 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:54.391 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:54.393 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:54.398 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:54.405 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1331.1817ms.
2020-12-15 13:12:54.406 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:54.406 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:54.406 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:54.406 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:54.407 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:54.407 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:54.407 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:54.408 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:12:54.410 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:12:54.410 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:12:54.410 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:12:54.411 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:12:54.411 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:12:54.435 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:54.435 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:54.435 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:54.439 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1369.96ms
2020-12-15 13:12:54.440 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:12:54.442 -04:00 [INF] HTTP GET /api/productos responded 200 in 1435.5067 ms
2020-12-15 13:12:54.445 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:12:54.447 -04:00 [INF] Request finished in 1452.1483ms 200 application/json; charset=utf-8
2020-12-15 13:12:56.962 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:12:56.962 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:12:56.962 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:12:56.964 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:12:56.964 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:12:56.964 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:12:56.965 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:12:56.975 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:12:56.975 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:12:56.975 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:12:56.975 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:12:56.975 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:12:56.975 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:12:56.975 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:12:56.975 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:12:56.980 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:12:56.981 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:12:56.981 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:56.981 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:56.981 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:12:56.983 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:12:56.984 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:56.985 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:56.985 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:56.985 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:56.985 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:12:56.985 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:12:56.986 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:12:57.013 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:12:57.025 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:12:57.038 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:12:57.038 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:12:57.039 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:12:57.039 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:12:57.039 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:12:57.093 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:57.102 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.102 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.105 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.106 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.108 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:12:57.125 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:12:57.134 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.162 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.167 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.172 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.175 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.178 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.181 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.181 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.181 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.181 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.182 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.182 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.182 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.185 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:12:57.186 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:12:57.186 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:12:57.186 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:12:57.195 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:12:57.197 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.197 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.197 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.198 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.198 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.200 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.207 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.211 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.216 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.220 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.220 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.220 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.222 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:12:57.222 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:12:57.222 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:12:57.222 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:12:57.223 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:12:57.231 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:12:57.232 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.232 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.232 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.232 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.232 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.234 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.248 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.256 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.259 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.261 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.262 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.262 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.262 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.262 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.262 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.262 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.266 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.266 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.266 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.266 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.266 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.269 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.269 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.269 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.269 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.269 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.269 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.269 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.270 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.270 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.270 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.270 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.270 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.272 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.272 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.272 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.272 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.272 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.272 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.272 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.272 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.273 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.273 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.273 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.273 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.273 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.274 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.274 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.274 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.274 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.274 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.274 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.274 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.274 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.274 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.274 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.274 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.274 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.276 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.276 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.276 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.276 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.277 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.277 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.277 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.277 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.277 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.277 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.277 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.277 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.277 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.278 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.278 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.278 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.278 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.278 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.278 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.279 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.279 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.279 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.280 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.280 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.280 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.280 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.280 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.280 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.281 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.281 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.281 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.281 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.281 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.281 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.281 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.282 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.282 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.282 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.282 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.283 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.283 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.283 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.283 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:12:57.283 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:12:57.283 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.283 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.283 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.284 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:12:57.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.285 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.285 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.285 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:12:57.285 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:12:57.285 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.285 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:12:57.285 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 300.3478ms.
2020-12-15 13:12:57.285 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:57.285 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:12:57.285 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:57.285 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:12:57.285 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:57.286 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:57.286 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:57.286 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:12:57.286 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:12:57.286 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:12:57.286 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:12:57.286 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:12:57.286 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:12:57.293 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:12:57.293 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:57.293 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:12:57.293 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 318.0583ms
2020-12-15 13:12:57.293 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:12:57.293 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 330.7973 ms
2020-12-15 13:12:57.293 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:12:57.294 -04:00 [INF] Request finished in 332.1665ms 200 application/json; charset=utf-8
2020-12-15 13:13:22.387 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:13:22.387 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:13:22.388 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:13:22.389 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:13:22.389 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:13:22.390 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:13:22.390 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:13:22.391 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:13:22.391 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:13:22.391 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:13:22.391 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:13:22.391 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:13:22.391 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:13:22.391 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:13:22.391 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:13:22.391 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:13:22.392 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:13:22.392 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:13:22.392 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:13:22.392 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:13:22.392 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:13:22.392 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:13:22.392 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:13:22.392 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:13:22.392 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:13:22.392 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:13:22.392 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:13:22.392 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:13:22.404 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:13:22.406 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:13:22.406 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:13:22.406 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.407 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.407 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:13:22.413 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:13:22.413 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.414 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.414 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.414 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.414 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.414 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.415 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.415 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.415 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.415 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.415 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:13:22.415 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.415 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.416 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:13:22.416 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:13:22.416 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.416 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.416 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:13:22.419 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:13:22.420 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.422 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.422 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.423 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:13:22.423 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.423 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.423 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:13:22.423 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:13:22.423 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.423 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.423 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:13:22.426 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.426 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:13:22.427 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:13:22.427 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:13:22.427 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:34.747 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:14:34.938 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:14:34.966 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:14:34.968 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:14:34.968 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:14:34.973 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:14:34.996 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:14:35.000 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:14:35.001 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:14:35.004 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:14:35.010 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:14:35.031 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:14:35.034 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:14:35.034 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:14:35.035 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:14:35.035 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:14:35.035 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:14:35.035 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:14:35.036 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:14:35.036 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:35.036 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:35.036 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:35.036 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:35.040 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:14:35.041 -04:00 [INF] Obteniendo productos...
2020-12-15 13:14:35.587 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.588 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.589 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.589 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.589 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.589 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:14:35.710 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:14:35.763 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:14:35.782 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:14:35.782 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:14:35.782 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:14:35.922 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:14:35.950 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:35.982 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-15 13:14:35.986 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:36.251 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:36.258 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:14:36.290 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:14:36.334 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.353 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.364 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.368 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.375 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.376 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.377 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:36.380 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:36.382 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:36.386 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:36.394 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1350.3374ms.
2020-12-15 13:14:36.395 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:36.395 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:36.395 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:36.395 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:36.396 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:14:36.396 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:14:36.396 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:14:36.397 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:14:36.399 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:14:36.399 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:14:36.399 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:14:36.399 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:14:36.399 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:14:36.427 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:14:36.427 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:14:36.427 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:14:36.431 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1392.5002ms
2020-12-15 13:14:36.431 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:14:36.433 -04:00 [INF] HTTP GET /api/productos responded 200 in 1458.4986 ms
2020-12-15 13:14:36.437 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:14:36.438 -04:00 [INF] Request finished in 1475.3731ms 200 application/json; charset=utf-8
2020-12-15 13:14:41.567 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:14:41.567 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:14:41.567 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:14:41.569 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:14:41.570 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:14:41.570 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:14:41.570 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:14:41.582 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:14:41.582 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:14:41.582 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:14:41.582 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:14:41.583 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:14:41.583 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:14:41.583 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:14:41.584 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:14:41.591 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:14:41.593 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:14:41.593 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:14:41.593 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:14:41.593 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:14:41.594 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:14:41.595 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:41.595 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:14:41.595 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:41.595 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:14:41.595 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:14:41.595 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:14:41.596 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:14:41.622 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:14:41.632 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:14:41.645 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:14:41.645 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:14:41.645 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:14:41.645 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:14:41.645 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:14:41.696 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:14:41.703 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:41.704 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:14:41.707 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.707 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.709 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:14:41.728 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:14:41.737 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.765 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.770 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.776 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.779 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.782 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.785 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.785 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.785 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.785 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.787 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:41.787 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.788 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.791 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:14:41.791 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:14:41.792 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:14:41.792 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:14:41.800 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:14:41.802 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:41.802 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:14:41.802 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.803 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.803 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:41.805 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:41.811 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.815 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.819 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.822 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:41.822 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.822 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.824 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Include(p => p.Producto)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:14:41.825 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:14:41.825 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:14:41.825 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:14:41.825 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:14:41.826 -04:00 [DBG] Including navigation: 'DetalleVenta.Producto'.
2020-12-15 13:14:41.826 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:14:41.826 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:14:41.826 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:14:41.840 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:14:41.840 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:41.840 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:14:41.840 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.840 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.840 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:41.843 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:41.851 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.856 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.864 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.866 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.869 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.869 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.869 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:41.870 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:41.870 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:41.870 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.190 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:57.190 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:14:57.190 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.190 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.190 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:57.192 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:57.192 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.192 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.192 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.192 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:57.192 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.192 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.192 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:14:57.192 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:14:57.192 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.192 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.193 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:57.193 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:14:57.194 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:14:57.194 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:14:57.194 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.015 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:02.015 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:02.015 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.015 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.015 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:02.016 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:02.017 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.017 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.017 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.017 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:02.017 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.017 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.017 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:02.017 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:02.017 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.017 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.017 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:02.019 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:02.019 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.019 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.019 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.019 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:02.019 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:02.019 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:02.019 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.002 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:04.002 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:04.003 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.003 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.004 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:04.006 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:04.007 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.008 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.008 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.008 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:04.009 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.009 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.010 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:04.011 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:04.011 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.011 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.011 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:04.014 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:04.015 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.015 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.015 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.016 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.016 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.016 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.016 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.017 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:04.017 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:04.017 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:04.017 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.801 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:07.801 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:07.801 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.801 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.802 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:07.803 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:07.803 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.804 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:07.804 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.804 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.804 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:07.804 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:07.804 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.804 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.805 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:07.806 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:07.806 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:07.806 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.807 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:07.807 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26211.3382ms.
2020-12-15 13:15:07.807 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:07.807 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:07.807 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:15:07.808 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:15:07.808 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:15:07.808 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:15:07.808 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:15:07.808 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:15:07.814 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:07.815 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:07.815 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:07.815 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 26232.0704ms
2020-12-15 13:15:07.815 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:15:07.815 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 26247.4747 ms
2020-12-15 13:15:07.815 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:15:07.815 -04:00 [INF] Request finished in 26248.6735ms 200 application/json; charset=utf-8
2020-12-15 13:15:38.897 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:15:39.067 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:15:39.093 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:15:39.095 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:15:39.095 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:15:39.100 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:15:39.124 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:15:39.128 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:15:39.128 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:15:39.131 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:15:39.137 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:15:39.157 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:15:39.161 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:15:39.161 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:15:39.161 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:15:39.161 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:15:39.161 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:15:39.162 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:15:39.162 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:15:39.162 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:39.163 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:39.163 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:39.163 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:39.166 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:15:39.167 -04:00 [INF] Obteniendo productos...
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.711 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.712 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.713 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.713 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.713 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:15:39.833 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:15:39.886 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:15:39.906 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:15:39.906 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:15:39.906 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:15:40.045 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:15:40.073 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:40.104 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-15 13:15:40.109 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:40.367 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:40.374 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:15:40.406 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:15:40.445 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.465 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.477 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.481 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.488 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.489 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:40.492 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:40.495 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:40.499 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:40.506 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1336.9197ms.
2020-12-15 13:15:40.507 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:40.507 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:40.508 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:40.508 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:40.508 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:40.508 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:40.509 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:40.510 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:15:40.512 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:15:40.512 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:15:40.512 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:15:40.512 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:15:40.512 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:15:40.536 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:40.536 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:40.536 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:40.540 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1375.6208ms
2020-12-15 13:15:40.541 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:15:40.543 -04:00 [INF] HTTP GET /api/productos responded 200 in 1441.1322 ms
2020-12-15 13:15:40.547 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:15:40.548 -04:00 [INF] Request finished in 1457.926ms 200 application/json; charset=utf-8
2020-12-15 13:15:46.541 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:15:46.541 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:15:46.541 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:15:46.543 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:15:46.543 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:15:46.543 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:15:46.543 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:15:46.553 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:15:46.554 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:15:46.554 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:15:46.554 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:15:46.554 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:15:46.554 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:15:46.554 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:15:46.555 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:15:46.565 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:15:46.566 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:15:46.567 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:15:46.567 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:15:46.567 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:15:46.568 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:15:46.569 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:46.569 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:46.569 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:46.569 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:46.569 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:15:46.569 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:15:46.570 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:15:46.596 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:15:46.606 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:15:46.619 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:15:46.619 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:15:46.619 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:15:46.619 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:15:46.620 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:15:46.670 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:15:46.678 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.678 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.681 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.683 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.685 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:15:46.704 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:15:46.712 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.738 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.742 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.747 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.750 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.753 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.755 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.755 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.756 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.756 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.757 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.757 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.757 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.759 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:15:46.760 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:15:46.760 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:15:46.760 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:15:46.769 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:15:46.770 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.770 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.770 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.771 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.771 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.773 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.780 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.784 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.788 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.791 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.791 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.791 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.793 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Include(p => p.Producto)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'DetalleVenta.Producto'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:15:46.794 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:15:46.808 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:15:46.809 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.809 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.809 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.809 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.809 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.812 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.820 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.825 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.832 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.836 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.839 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.840 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.840 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.840 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.840 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.840 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.841 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.841 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.841 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.845 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.845 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.845 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.845 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.846 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.847 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.847 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.847 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.847 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.847 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.848 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.848 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.848 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.848 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.849 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.849 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.849 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.849 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.850 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.850 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.850 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.850 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.850 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.851 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.851 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.851 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.851 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.851 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.851 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.851 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.852 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.852 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.852 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.852 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.852 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.853 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.853 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.853 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.853 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.853 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.853 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.853 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.853 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.854 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.854 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.854 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.854 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.854 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.855 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.855 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.855 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.855 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.855 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.855 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.855 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.855 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.855 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.855 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.856 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.856 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.856 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.856 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.857 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.857 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.857 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.857 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.857 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.857 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.858 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.858 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.858 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.859 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.859 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.859 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.859 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.859 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.859 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.859 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:15:46.859 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:15:46.859 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.859 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.859 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.860 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:15:46.860 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.860 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.860 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:15:46.861 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:15:46.861 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.861 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:15:46.862 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 292.2084ms.
2020-12-15 13:15:46.862 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:46.862 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:46.862 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:15:46.862 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:15:46.862 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:15:46.862 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:15:46.862 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:15:46.862 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:15:46.869 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:15:46.869 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:46.869 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:15:46.869 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 314.8656ms
2020-12-15 13:15:46.869 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:15:46.869 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 327.5948 ms
2020-12-15 13:15:46.869 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:15:46.869 -04:00 [INF] Request finished in 328.6362ms 200 application/json; charset=utf-8
2020-12-15 13:19:48.407 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:19:48.583 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:19:48.609 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:19:48.611 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:19:48.612 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:19:48.616 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:19:48.640 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:19:48.644 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:19:48.645 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:19:48.647 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:19:48.653 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:19:48.674 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:19:48.677 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:19:48.677 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:19:48.678 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:19:48.678 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:19:48.678 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:19:48.678 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:19:48.679 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:19:48.679 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:48.679 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:48.679 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:48.679 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:48.683 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:19:48.684 -04:00 [INF] Obteniendo productos...
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.252 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.253 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.253 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.253 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.253 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:19:49.377 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:19:49.431 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:19:49.451 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:19:49.452 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:19:49.452 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:19:49.601 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:19:49.628 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:49.659 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-15 13:19:49.664 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:50.067 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:50.077 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:19:50.135 -04:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:19:50.187 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.212 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.226 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.232 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.242 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.244 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:50.248 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:50.250 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:50.255 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:50.263 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1576.6304ms.
2020-12-15 13:19:50.264 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:50.264 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:50.264 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:50.264 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:50.265 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:50.265 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:50.265 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:19:50.266 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:19:50.268 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:19:50.268 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:19:50.268 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:19:50.269 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:19:50.269 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:19:50.292 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:19:50.292 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:50.292 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:50.296 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1614.8598ms
2020-12-15 13:19:50.297 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:19:50.299 -04:00 [INF] HTTP GET /api/productos responded 200 in 1680.9301 ms
2020-12-15 13:19:50.303 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:19:50.304 -04:00 [INF] Request finished in 1697.9686ms 200 application/json; charset=utf-8
2020-12-15 13:19:56.725 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-15 13:19:56.726 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:19:56.726 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-15 13:19:56.727 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:19:56.727 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-15 13:19:56.727 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:19:56.728 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:19:56.736 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-15 13:19:56.737 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:19:56.737 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:19:56.737 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:19:56.737 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:19:56.737 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:19:56.737 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:19:56.737 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-15 13:19:56.741 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:19:56.742 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-15 13:19:56.743 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:19:56.743 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-15 13:19:56.743 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-15 13:19:56.744 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-15 13:19:56.745 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:56.745 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:56.745 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:56.745 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:56.745 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:19:56.745 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-15 13:19:56.746 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-15 13:19:56.782 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:19:56.792 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-15 13:19:56.804 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-15 13:19:56.804 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-15 13:19:56.804 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-15 13:19:56.804 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-15 13:19:56.805 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-15 13:19:56.856 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:19:56.864 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:56.865 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:56.868 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.868 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.871 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:19:56.889 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-15 13:19:56.898 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.924 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.928 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.933 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.935 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.938 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.941 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.941 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.941 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.941 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.942 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:56.942 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.942 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.945 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-15 13:19:56.946 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-15 13:19:56.946 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-15 13:19:56.946 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-15 13:19:56.954 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-15 13:19:56.956 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:56.956 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:56.956 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.956 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.956 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:56.958 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:56.964 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.968 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.972 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:56.975 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:56.975 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.975 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.977 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Include(p => p.Producto)
    .Where(d => d.Venta.Id.Equals(__ventaID_0))'
2020-12-15 13:19:56.978 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-15 13:19:56.978 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-15 13:19:56.978 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-15 13:19:56.978 -04:00 [DBG] Including navigation: 'DetalleVenta.Venta'.
2020-12-15 13:19:56.978 -04:00 [DBG] Including navigation: 'DetalleVenta.Producto'.
2020-12-15 13:19:56.979 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:19:56.979 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:19:56.979 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:19:56.993 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__ventaID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:19:56.993 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:56.993 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:56.993 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.993 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:56.993 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:56.996 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.004 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.008 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.016 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.019 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.021 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.022 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.022 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.022 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.026 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.026 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.026 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.026 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.026 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.027 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.027 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.027 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.027 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.028 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.028 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.028 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.028 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.028 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.028 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.028 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.028 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.029 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.029 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.030 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.030 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.030 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.030 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.030 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.030 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.030 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.030 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.030 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.031 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.031 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.031 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.032 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.032 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.032 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.032 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.032 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.032 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.032 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.032 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.032 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.033 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.033 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.033 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.033 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.033 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.033 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.034 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.034 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.034 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.034 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.034 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.034 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.034 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.035 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.035 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.035 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.035 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.035 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.035 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.035 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.036 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.036 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.036 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.036 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.036 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.037 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.037 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.038 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.038 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.038 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.038 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.038 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.038 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.038 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.039 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.039 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.039 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.040 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.040 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.040 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.040 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.040 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:19:57.040 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:19:57.040 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.040 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.040 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.041 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__ventaID_0
2020-12-15 13:19:57.041 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.041 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.041 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.041 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:19:57.042 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:19:57.042 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.042 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:19:57.043 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 297.2305ms.
2020-12-15 13:19:57.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:57.043 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:19:57.043 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:19:57.043 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:19:57.043 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:19:57.043 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:19:57.043 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:19:57.043 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:19:57.049 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:19:57.049 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:57.049 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:19:57.050 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 312.801ms
2020-12-15 13:19:57.050 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-15 13:19:57.050 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 324.0007 ms
2020-12-15 13:19:57.050 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:19:57.050 -04:00 [INF] Request finished in 324.8661ms 200 application/json; charset=utf-8
2020-12-15 13:24:40.215 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:24:40.392 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:24:40.418 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:24:40.420 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:24:40.420 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:24:40.425 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:24:40.448 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:24:40.452 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:24:40.453 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:24:40.456 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:24:40.462 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:24:40.483 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:24:40.486 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:24:40.486 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:24:40.486 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:24:40.487 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:24:40.487 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:24:40.487 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:24:40.488 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:24:40.488 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:24:40.488 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:24:40.488 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:24:40.488 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:24:40.492 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:24:40.493 -04:00 [INF] Obteniendo productos...
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.037 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.038 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.038 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.038 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.038 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:24:41.160 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:24:41.214 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:24:41.233 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:24:41.234 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:24:41.234 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:24:41.372 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:24:41.398 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:24:41.428 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-15 13:24:41.433 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:24:41.679 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:24:41.686 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:24:41.718 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:24:41.757 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.776 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.787 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.790 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.797 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.797 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.797 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.798 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:24:41.801 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:24:41.804 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:24:41.808 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:24:41.815 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1320.4866ms.
2020-12-15 13:24:41.816 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:24:41.816 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:24:41.816 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:24:41.817 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:24:41.817 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:24:41.817 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:24:41.818 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:24:41.819 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:24:41.820 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:24:41.820 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:24:41.820 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:24:41.821 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:24:41.821 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:24:41.845 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:24:41.845 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:24:41.845 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:24:41.849 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1358.4568ms
2020-12-15 13:24:41.850 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:24:41.851 -04:00 [INF] HTTP GET /api/productos responded 200 in 1424.8405 ms
2020-12-15 13:24:41.855 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:24:41.857 -04:00 [INF] Request finished in 1441.4203ms 200 application/json; charset=utf-8
2020-12-15 13:25:09.395 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 137
2020-12-15 13:25:09.395 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:25:09.395 -04:00 [DBG] POST requests are not supported
2020-12-15 13:25:09.396 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-15 13:25:09.396 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-15 13:25:09.396 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:09.396 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:09.409 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-15 13:25:09.409 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:25:09.409 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:25:09.410 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:25:09.410 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:25:09.410 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:25:09.410 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-15 13:25:09.411 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-15 13:25:09.417 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-15 13:25:09.419 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-15 13:25:09.419 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-15 13:25:09.425 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-15 13:25:09.425 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:09.425 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:09.425 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-15 13:25:09.427 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:09.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:09.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:09.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:09.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:09.428 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:25:09.428 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-15 13:25:09.429 -04:00 [INF] Registrando cliente con los parametros
2020-12-15 13:25:09.462 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:25:09.493 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.502 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.504 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.507 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.509 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.511 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-15 13:25:09.513 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-15 13:25:09.522 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-15 13:25:09.535 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:09.538 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:09.539 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-15 13:25:09.547 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-15 13:25:09.586 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:25:09.586 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:25:09.592 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 13:25:09.613 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 13:25:09.618 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:25:09.620 -04:00 [DBG] Committing transaction.
2020-12-15 13:25:09.623 -04:00 [DBG] Committed transaction.
2020-12-15 13:25:09.624 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:09.624 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:09.626 -04:00 [DBG] Disposing transaction.
2020-12-15 13:25:09.633 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.633 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.633 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.633 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.633 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:09.634 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-15 13:25:09.636 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 207.2026ms.
2020-12-15 13:25:09.636 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:09.636 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:09.636 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:25:09.636 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:25:09.636 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:25:09.636 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:25:09.636 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-15 13:25:09.636 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-15 13:25:09.638 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:09.638 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:09.638 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:09.638 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 228.7976ms
2020-12-15 13:25:09.639 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:09.639 -04:00 [INF] HTTP POST /api/clientes responded 200 in 243.4029 ms
2020-12-15 13:25:09.639 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:25:09.640 -04:00 [INF] Request finished in 247.9536ms 200 text/plain; charset=utf-8
2020-12-15 13:25:49.446 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-15 13:25:49.616 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-15 13:25:49.642 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-15 13:25:49.644 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-15 13:25:49.645 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:25:49.649 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-15 13:25:49.669 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-15 13:25:49.673 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-15 13:25:49.674 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:25:49.676 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:25:49.682 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-15 13:25:49.701 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-15 13:25:49.705 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:25:49.705 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:25:49.705 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:25:49.705 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:25:49.705 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:25:49.706 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:25:49.706 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-15 13:25:49.706 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:49.706 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:49.706 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:49.707 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:49.710 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:25:49.711 -04:00 [INF] Obteniendo productos...
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ProductoId.NombreCategoriaValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.258 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.259 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-15 13:25:50.394 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:25:50.447 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-15 13:25:50.466 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2020-12-15 13:25:50.467 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-15 13:25:50.467 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-15 13:25:50.610 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.categoria, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-15 13:25:50.639 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:25:50.671 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-15 13:25:50.676 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:50.926 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:50.934 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:25:50.966 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[categoria], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-15 13:25:51.008 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.028 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.040 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.043 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.051 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NombreCategoriaValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.052 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:51.055 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:25:51.058 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:51.062 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:51.070 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1356.687ms.
2020-12-15 13:25:51.071 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:51.071 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:51.071 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:51.071 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:51.072 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:51.072 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:51.072 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:51.073 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:25:51.075 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:25:51.075 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:25:51.075 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:25:51.075 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:25:51.075 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-15 13:25:51.099 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:51.099 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:51.099 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:51.103 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1394.8476ms
2020-12-15 13:25:51.104 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-15 13:25:51.106 -04:00 [INF] HTTP GET /api/productos responded 200 in 1455.1961 ms
2020-12-15 13:25:51.110 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:25:51.112 -04:00 [INF] Request finished in 1472.2104ms 200 application/json; charset=utf-8
2020-12-15 13:25:57.627 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 141
2020-12-15 13:25:57.628 -04:00 [VRB] All hosts are allowed.
2020-12-15 13:25:57.628 -04:00 [DBG] POST requests are not supported
2020-12-15 13:25:57.628 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-15 13:25:57.628 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-15 13:25:57.629 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:57.629 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:57.639 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-15 13:25:57.639 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-15 13:25:57.639 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-15 13:25:57.639 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-15 13:25:57.639 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-15 13:25:57.639 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-15 13:25:57.639 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-15 13:25:57.641 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-15 13:25:57.652 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-15 13:25:57.654 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-15 13:25:57.654 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-15 13:25:57.659 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-15 13:25:57.660 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:57.660 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:57.660 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-15 13:25:57.661 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-15 13:25:57.662 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:57.663 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:57.663 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:57.663 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:57.663 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-15 13:25:57.663 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-15 13:25:57.663 -04:00 [INF] Registrando cliente con los parametros
2020-12-15 13:25:57.693 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-15 13:25:57.723 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.732 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.737 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.739 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.742 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-15 13:25:57.744 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-15 13:25:57.753 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-15 13:25:57.766 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:57.767 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:57.768 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-15 13:25:57.775 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-15 13:25:57.814 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-15 13:25:57.814 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-15 13:25:57.820 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 13:25:57.836 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-15 13:25:57.841 -04:00 [DBG] A data reader was disposed.
2020-12-15 13:25:57.843 -04:00 [DBG] Committing transaction.
2020-12-15 13:25:57.848 -04:00 [DBG] Committed transaction.
2020-12-15 13:25:57.849 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:57.849 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-15 13:25:57.851 -04:00 [DBG] Disposing transaction.
2020-12-15 13:25:57.858 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.858 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.858 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.858 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.858 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-15 13:25:57.860 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-15 13:25:57.861 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 197.8326ms.
2020-12-15 13:25:57.861 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:57.861 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:57.861 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-15 13:25:57.861 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-15 13:25:57.861 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-15 13:25:57.861 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-15 13:25:57.861 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-15 13:25:57.861 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ClienteDTO'.
2020-12-15 13:25:57.863 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-15 13:25:57.863 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:57.864 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-15 13:25:57.864 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 224.1643ms
2020-12-15 13:25:57.864 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-15 13:25:57.864 -04:00 [INF] HTTP POST /api/clientes responded 200 in 236.0110 ms
2020-12-15 13:25:57.864 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-15 13:25:57.864 -04:00 [INF] Request finished in 238.0316ms 200 application/json; charset=utf-8
