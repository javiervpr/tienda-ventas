2020-12-11 00:04:20.570 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 00:04:20.749 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 00:04:20.781 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 00:04:20.784 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 00:04:20.784 -04:00 [VRB] All hosts are allowed.
2020-12-11 00:04:20.788 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 00:04:20.809 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 00:04:20.814 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 00:04:20.815 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.816 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.824 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 00:04:20.839 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 00:04:20.842 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 00:04:20.843 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 00:04:20.843 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 00:04:20.843 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.844 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.847 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 00:04:20.851 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9543ms.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.852 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.853 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 00:04:20.853 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 00:04:20.855 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 00:04:20.855 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 00:04:20.855 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 00:04:20.855 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 00:04:20.856 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 00:04:20.879 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 00:04:20.879 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.879 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:20.882 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.8952ms
2020-12-11 00:04:20.883 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 00:04:20.884 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.5260 ms
2020-12-11 00:04:20.886 -04:00 [INF] Request finished in 107.9413ms 200 application/json; charset=utf-8
2020-12-11 00:04:25.593 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/get-all  
2020-12-11 00:04:25.593 -04:00 [VRB] All hosts are allowed.
2020-12-11 00:04:25.594 -04:00 [DBG] The request path /api/productos/get-all does not match a supported file type
2020-12-11 00:04:25.594 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/get-all'
2020-12-11 00:04:25.595 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/get-all' is valid for the request path '/api/productos/get-all'
2020-12-11 00:04:25.595 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:25.595 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:25.607 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 00:04:25.607 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 00:04:25.607 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 00:04:25.607 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:25.608 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:25.608 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 00:04:25.609 -04:00 [INF] Obteniendo productos...
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.135 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.136 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 00:04:26.255 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 00:04:26.315 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 00:04:26.333 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 00:04:26.334 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 00:04:26.480 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 00:04:26.512 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 00:04:26.542 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-11 00:04:26.547 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.802 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.809 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 00:04:26.840 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 00:04:26.877 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.892 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.907 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 00:04:26.918 -04:00 [DBG] A data reader was disposed.
2020-12-11 00:04:26.920 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.924 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 00:04:26.928 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1320.5574ms.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:26.929 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.930 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 00:04:26.930 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 00:04:26.930 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 00:04:26.930 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 00:04:26.930 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 00:04:26.930 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 00:04:26.930 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 00:04:26.934 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 00:04:26.934 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.934 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 00:04:26.934 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1327.3204ms
2020-12-11 00:04:26.935 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 00:04:26.935 -04:00 [INF] HTTP GET /api/productos/get-all responded 200 in 1341.8670 ms
2020-12-11 00:04:26.937 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 00:04:26.938 -04:00 [INF] Request finished in 1344.9382ms 200 application/json; charset=utf-8
2020-12-11 12:09:18.029 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:09:18.267 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:09:18.308 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:09:18.310 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:09:18.311 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:18.316 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:09:18.340 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:09:18.344 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:09:18.344 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.345 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.352 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:09:18.369 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:09:18.372 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:09:18.372 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:09:18.373 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:09:18.373 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:09:18.374 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.374 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.375 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.378 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:09:18.382 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8071ms.
2020-12-11 12:09:18.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.383 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:09:18.384 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:09:18.386 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:09:18.386 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:09:18.386 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:09:18.386 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:09:18.386 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:09:18.418 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:09:18.418 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.418 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:18.421 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 45.4804ms
2020-12-11 12:09:18.421 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:09:18.422 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 105.0000 ms
2020-12-11 12:09:18.426 -04:00 [INF] Request finished in 119.9499ms 200 application/json; charset=utf-8
2020-12-11 12:09:18.518 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-11 12:09:18.518 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:18.528 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-11 12:09:18.529 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-11 12:09:18.529 -04:00 [DBG] Request did not match any endpoints
2020-12-11 12:09:18.529 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.7828 ms
2020-12-11 12:09:18.530 -04:00 [INF] Request finished in 11.8863ms 404 
2020-12-11 12:09:56.749 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:09:56.749 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:09:56.752 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:09:56.752 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:09:56.752 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:09:56.752 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:56.752 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:56.793 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:09:56.793 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:09:56.793 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:09:56.794 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:56.794 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:56.794 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:09:56.795 -04:00 [INF] Obteniendo productos...
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.379 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.380 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:09:57.504 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:09:57.576 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 12:09:57.594 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:09:57.595 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:09:57.736 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 12:09:57.767 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:09:57.803 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2020-12-11 12:09:57.809 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.118 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.125 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:09:58.160 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:09:58.195 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.210 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.225 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:09:58.234 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:09:58.237 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.241 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:09:58.245 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1451.1793ms.
2020-12-11 12:09:58.245 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.246 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:09:58.246 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:09:58.247 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:09:58.247 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:09:58.247 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:09:58.247 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:09:58.247 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 12:09:58.251 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:09:58.251 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.251 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:09:58.251 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1458.0354ms
2020-12-11 12:09:58.252 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:09:58.252 -04:00 [INF] HTTP GET /api/productos responded 200 in 1500.4280 ms
2020-12-11 12:09:58.253 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:09:58.255 -04:00 [INF] Request finished in 1506.6287ms 200 application/json; charset=utf-8
2020-12-11 12:12:25.661 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:12:25.839 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:12:25.874 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:12:25.876 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:12:25.877 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:12:25.881 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:12:25.901 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:12:25.904 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:12:25.905 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.906 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.913 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:12:25.926 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:12:25.929 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:12:25.930 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:12:25.930 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:12:25.930 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:12:25.930 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.931 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.934 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:12:25.938 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8166ms.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.938 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.939 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:12:25.940 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:12:25.941 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:12:25.941 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:12:25.941 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:12:25.942 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:12:25.942 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:12:25.963 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:12:25.963 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.963 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:12:25.966 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.5969ms
2020-12-11 12:12:25.966 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:12:25.968 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 85.1368 ms
2020-12-11 12:12:25.970 -04:00 [INF] Request finished in 98.7266ms 200 application/json; charset=utf-8
2020-12-11 12:13:20.521 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-11 12:13:20.521 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:13:20.521 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-11 12:13:20.522 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-11 12:13:20.522 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-11 12:13:20.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:20.522 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:20.537 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:13:20.537 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:13:20.537 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:13:20.537 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:13:20.541 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-11 12:13:20.542 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-11 12:13:20.542 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.542 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.543 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-11 12:13:20.544 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:20.545 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:20.545 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:13:20.545 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-11 12:13:20.546 -04:00 [INF] Obteniendo producto con ID 
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.041 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.042 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:13:21.160 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:13:21.236 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-11 12:13:21.262 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:13:21.263 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:13:21.388 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-11 12:13:21.416 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:13:21.443 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2020-12-11 12:13:21.468 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.689 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.698 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-11 12:13:21.738 -04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-11 12:13:21.770 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.783 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.796 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:13:21.807 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:13:21.809 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.813 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:13:21.816 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1271.3965ms.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.817 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:13:21.818 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:13:21.818 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:13:21.818 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:13:21.818 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:13:21.818 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:13:21.818 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-11 12:13:21.821 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:13:21.821 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.821 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:13:21.821 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 1284.1487ms
2020-12-11 12:13:21.822 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-11 12:13:21.822 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 200 in 1300.9773 ms
2020-12-11 12:13:21.823 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:13:21.824 -04:00 [INF] Request finished in 1303.663ms 200 application/json; charset=utf-8
2020-12-11 12:24:45.439 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:24:45.612 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:24:45.639 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:24:45.641 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:24:45.642 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:24:45.646 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:24:45.667 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:24:45.670 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:24:45.671 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.672 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.679 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:24:45.692 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:24:45.695 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:24:45.696 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:24:45.696 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:24:45.696 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.700 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:24:45.703 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7308ms.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.704 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:24:45.705 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:24:45.706 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:24:45.706 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:24:45.707 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:24:45.707 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:24:45.707 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:24:45.729 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:24:45.729 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.729 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:24:45.732 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.686ms
2020-12-11 12:24:45.732 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:24:45.733 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 86.2347 ms
2020-12-11 12:24:45.735 -04:00 [INF] Request finished in 99.4965ms 200 application/json; charset=utf-8
2020-12-11 12:28:14.551 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 54
2020-12-11 12:28:14.551 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:28:14.552 -04:00 [DBG] POST requests are not supported
2020-12-11 12:28:14.552 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:28:14.552 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:28:14.553 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:14.553 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:14.567 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:28:14.567 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:28:14.568 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:28:14.568 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:28:14.568 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:14.568 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:14.571 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-11 12:28:14.573 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-11 12:28:14.573 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-11 12:28:14.580 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-11 12:28:14.580 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.580 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.580 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-11 12:28:14.583 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:14.584 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:14.584 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:28:14.584 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-11 12:28:14.585 -04:00 [INF] Insertando producto con los parametros
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.078 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.079 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-11 12:28:15.189 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:28:15.243 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.258 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.263 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.265 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-11 12:28:15.269 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-11 12:28:15.275 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-11 12:28:15.322 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.562 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.564 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-11 12:28:15.572 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-11 12:28:15.613 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:28:15.618 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-11 12:28:15.633 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [nombre], [precio])
VALUES (@p0, @p1, @p2);
2020-12-11 12:28:15.673 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [nombre], [precio])
VALUES (@p0, @p1, @p2);
2020-12-11 12:28:15.678 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:28:15.681 -04:00 [DBG] Committing transaction.
2020-12-11 12:28:15.684 -04:00 [DBG] Committed transaction.
2020-12-11 12:28:15.686 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.690 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:15.691 -04:00 [DBG] Disposing transaction.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.697 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:15.698 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-11 12:28:15.701 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1116.5203ms.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:15.701 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.702 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:15.702 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:28:15.702 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:28:15.702 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:28:15.702 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:28:15.702 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:28:15.702 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:28:15.704 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:15.704 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.705 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:15.705 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 1137.3348ms
2020-12-11 12:28:15.705 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-11 12:28:15.706 -04:00 [INF] HTTP POST /api/productos responded 200 in 1154.2328 ms
2020-12-11 12:28:15.708 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:28:15.709 -04:00 [INF] Request finished in 1182.3911ms 200 text/plain; charset=utf-8
2020-12-11 12:28:21.611 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:28:21.612 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:28:21.612 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:28:21.613 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:28:21.613 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:28:21.614 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.614 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.631 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:28:21.632 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:28:21.632 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:21.632 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.633 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.633 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:28:21.634 -04:00 [INF] Obteniendo productos...
2020-12-11 12:28:21.662 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-11 12:28:21.704 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-11 12:28:21.722 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-11 12:28:21.722 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-11 12:28:21.838 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-11 12:28:21.859 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-11 12:28:21.859 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-11 12:28:21.859 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.860 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.860 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:28:21.868 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-11 12:28:21.881 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.883 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.884 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-11 12:28:21.886 -04:00 [DBG] A data reader was disposed.
2020-12-11 12:28:21.886 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.886 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-11 12:28:21.887 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 254.1678ms.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.887 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:21.888 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:28:21.888 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:28:21.888 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:28:21.888 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:28:21.888 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:28:21.888 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-11 12:28:21.890 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-11 12:28:21.890 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.890 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:28:21.890 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 257.6881ms
2020-12-11 12:28:21.890 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:28:21.890 -04:00 [INF] HTTP GET /api/productos responded 200 in 277.3260 ms
2020-12-11 12:28:21.890 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-11 12:28:21.890 -04:00 [INF] Request finished in 279.2498ms 200 application/json; charset=utf-8
2020-12-11 12:43:30.121 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:43:30.299 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:43:30.328 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:43:30.330 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:43:30.330 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:43:30.334 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:43:30.356 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:43:30.360 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:43:30.361 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.362 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.368 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:43:30.382 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:43:30.385 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:43:30.386 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:43:30.386 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:43:30.386 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:43:30.386 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.387 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.390 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:43:30.394 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7291ms.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.394 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.395 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:43:30.396 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:43:30.397 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:43:30.397 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:43:30.397 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:43:30.398 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:43:30.398 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:43:30.420 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:43:30.420 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.420 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:43:30.423 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 34.4438ms
2020-12-11 12:43:30.423 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:43:30.424 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 88.4352 ms
2020-12-11 12:43:30.427 -04:00 [INF] Request finished in 101.5469ms 200 application/json; charset=utf-8
2020-12-11 12:43:42.006 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:43:42.006 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:43:42.006 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:43:42.007 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:43:42.007 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:43:42.007 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:43:42.008 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:43:42.017 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:43:42.017 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:43:42.017 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:43:42.017 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:42.017 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:43:42.017 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:43:50.190 -04:00 [INF] Obteniendo productos...
2020-12-11 12:44:08.266 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 41
2020-12-11 12:44:08.345 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 26327.1059ms.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.345 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:44:08.345 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:44:08.345 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:44:08.346 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:44:08.346 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:44:08.346 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:44:08.346 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:44:08.348 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:44:08.348 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.348 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:08.348 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 26330.9932ms
2020-12-11 12:44:08.348 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:44:08.348 -04:00 [INF] HTTP GET /api/productos responded 400 in 26342.0381 ms
2020-12-11 12:44:08.349 -04:00 [INF] Request finished in 26343.7656ms 400 text/plain; charset=utf-8
2020-12-11 12:44:56.053 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:44:56.227 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:44:56.256 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:44:56.258 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:44:56.258 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:44:56.262 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:44:56.281 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:44:56.284 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:44:56.285 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.286 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.292 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:44:56.305 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:44:56.308 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:44:56.309 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:44:56.309 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:44:56.310 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.310 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.313 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:44:56.317 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7461ms.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.317 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.318 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:44:56.319 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:44:56.320 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:44:56.320 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:44:56.320 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:44:56.320 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:44:56.320 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:44:56.342 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:44:56.342 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.343 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:44:56.346 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.7099ms
2020-12-11 12:44:56.346 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:44:56.347 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 83.3279 ms
2020-12-11 12:44:56.349 -04:00 [INF] Request finished in 95.6858ms 200 application/json; charset=utf-8
2020-12-11 12:45:03.911 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:45:03.912 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:45:03.912 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:45:03.913 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:45:03.913 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:45:03.913 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:45:03.913 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:45:03.923 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:45:03.923 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:45:03.923 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:45:03.924 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:45:03.924 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:45:03.924 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:45:21.943 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:33.732 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-11 12:46:33.906 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-11 12:46:33.936 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-11 12:46:33.938 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-11 12:46:33.938 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:33.942 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-11 12:46:33.961 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-11 12:46:33.964 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-11 12:46:33.965 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:33.967 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:33.973 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-11 12:46:33.987 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:33.990 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:33.991 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:46:33.991 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.991 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.994 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:33.998 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.7422ms.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:33.998 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:33.999 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:46:34.000 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:34.001 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:34.001 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:34.001 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:34.002 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-11 12:46:34.002 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-11 12:46:34.023 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-11 12:46:34.023 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:34.023 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:34.027 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 33.4604ms
2020-12-11 12:46:34.027 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-11 12:46:34.028 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 84.1472 ms
2020-12-11 12:46:34.032 -04:00 [INF] Request finished in 97.9128ms 200 application/json; charset=utf-8
2020-12-11 12:46:36.708 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:46:36.709 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:36.709 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:46:36.710 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:46:36.710 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:46:36.710 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:36.710 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:36.723 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:36.723 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:36.723 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:36.724 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:36.724 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:36.724 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:36.725 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:37.297 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 40
2020-12-11 12:46:37.334 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 609.6303ms.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.334 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:37.334 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:37.334 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:37.334 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:37.334 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:37.334 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:46:37.334 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:46:37.340 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:37.340 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.340 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:37.341 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 617.2602ms
2020-12-11 12:46:37.341 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:37.341 -04:00 [INF] HTTP GET /api/productos responded 400 in 631.8236 ms
2020-12-11 12:46:37.342 -04:00 [INF] Request finished in 633.6138ms 400 text/plain; charset=utf-8
2020-12-11 12:46:39.298 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-11 12:46:39.299 -04:00 [VRB] All hosts are allowed.
2020-12-11 12:46:39.299 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-11 12:46:39.300 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-11 12:46:39.300 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-11 12:46:39.300 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.301 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.301 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-11 12:46:39.302 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-11 12:46:39.302 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:39.302 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.303 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.303 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-11 12:46:39.303 -04:00 [INF] Obteniendo productos...
2020-12-11 12:46:39.413 -04:00 [ERR] Error al obtener los productos
System.InvalidOperationException: The entity type 'EmailValue' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ProductoRepository.GetAllProducto() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ProductoRepository.cs:line 23
   at Tienda.Ventas.Applicacion.Features.Producto.GetAllProductos.GetAllProductosHandler.Handle(GetAllProductosQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetAllProductos\GetAllProductosHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos() in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 40
2020-12-11 12:46:39.414 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 111.0292ms.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.414 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:39.414 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-11 12:46:39.414 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-11 12:46:39.414 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-11 12:46:39.414 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-11 12:46:39.414 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-11 12:46:39.414 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-11 12:46:39.415 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-11 12:46:39.415 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.415 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-11 12:46:39.415 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 113.0271ms
2020-12-11 12:46:39.415 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-11 12:46:39.415 -04:00 [INF] HTTP GET /api/productos responded 400 in 115.6404 ms
2020-12-11 12:46:39.415 -04:00 [INF] Request finished in 117.7062ms 400 text/plain; charset=utf-8
2020-12-12 11:47:06.079 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:47:06.620 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:47:06.704 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:47:06.713 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:47:06.714 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:47:06.733 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:47:06.810 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:47:06.825 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:47:06.827 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:06.832 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:06.858 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:47:06.908 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:47:06.919 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:47:06.920 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:47:06.920 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:47:06.922 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:47:06.923 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:47:06.924 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.925 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.940 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:47:06.956 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.4129ms.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:47:06.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:06.959 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:06.961 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:47:06.963 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:47:06.969 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:47:06.970 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:47:06.970 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:47:06.971 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:47:06.971 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:47:07.050 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:47:07.050 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:07.051 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:47:07.064 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 130.899ms
2020-12-12 11:47:07.066 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:47:07.070 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 330.5072 ms
2020-12-12 11:47:07.077 -04:00 [INF] Request finished in 384.7144ms 200 application/json; charset=utf-8
2020-12-12 11:47:07.189 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-12 11:47:07.189 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:47:07.206 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-12 11:47:07.209 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-12 11:47:07.209 -04:00 [DBG] Request did not match any endpoints
2020-12-12 11:47:07.210 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 3.4561 ms
2020-12-12 11:47:07.213 -04:00 [INF] Request finished in 24.6954ms 404 
2020-12-12 11:48:41.858 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-12 11:48:41.858 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:48:41.858 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-12 11:48:41.859 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-12 11:48:41.859 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-12 11:48:41.861 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:41.864 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:41.894 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-12 11:48:41.894 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:48:41.895 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:48:41.895 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-12 11:48:41.895 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-12 11:48:41.904 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-12 11:48:41.907 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-12 11:48:41.908 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.908 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.908 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-12 11:48:41.911 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-12 11:48:41.913 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:41.913 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:41.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:41.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:41.914 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:48:41.914 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-12 11:48:41.916 -04:00 [INF] Obteniendo producto con ID 
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.686 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.687 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.690 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:43.691 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:48:44.141 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:48:44.413 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-12 11:48:44.512 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-12 11:48:44.514 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-12 11:48:44.988 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 11:48:45.102 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:48:45.206 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2020-12-12 11:48:45.282 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.033 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.065 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-12 11:48:46.208 -04:00 [INF] Executed DbCommand (158ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-12 11:48:46.342 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.396 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.447 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:48:46.487 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:48:46.494 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.510 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:48:46.526 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4612.166ms.
2020-12-12 11:48:46.528 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:46.528 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:48:46.530 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:46.530 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.532 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:48:46.532 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:48:46.533 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:48:46.533 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:48:46.533 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:48:46.533 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:48:46.534 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-12 11:48:46.547 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:48:46.547 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.548 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:48:46.549 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 4654.0797ms
2020-12-12 11:48:46.550 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-12 11:48:46.552 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 200 in 4694.2589 ms
2020-12-12 11:48:46.556 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:48:46.560 -04:00 [INF] Request finished in 4705.3952ms 200 application/json; charset=utf-8
2020-12-12 11:49:18.001 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:49:18.465 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:49:18.542 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:49:18.550 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:49:18.551 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:49:18.567 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:49:18.632 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:49:18.648 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:49:18.650 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.654 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.675 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:49:18.716 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:49:18.728 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:49:18.728 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:49:18.729 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:49:18.730 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:49:18.731 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:49:18.732 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.733 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.743 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:49:18.754 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.4542ms.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.755 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:49:18.756 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.756 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.757 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:49:18.758 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:49:18.764 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:49:18.764 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:49:18.764 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:49:18.765 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:49:18.766 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:49:18.834 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:49:18.834 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.834 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:49:18.847 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 105.4096ms
2020-12-12 11:49:18.848 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:49:18.851 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 279.7260 ms
2020-12-12 11:49:18.859 -04:00 [INF] Request finished in 325.5313ms 200 application/json; charset=utf-8
2020-12-12 11:50:31.746 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 135
2020-12-12 11:50:31.747 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:50:31.747 -04:00 [DBG] POST requests are not supported
2020-12-12 11:50:31.749 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:50:31.749 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:50:31.750 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:31.753 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:31.775 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:50:31.776 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:50:31.776 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:50:31.776 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:50:31.783 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:50:31.786 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:50:31.787 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:50:31.797 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:50:31.797 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.797 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.797 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:50:31.800 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:31.801 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:31.802 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:50:31.802 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:50:31.803 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.396 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.397 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.399 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 11:50:33.797 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:50:34.015 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.084 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.092 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.100 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.106 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:34.115 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 11:50:34.127 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 11:50:34.150 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 11:50:34.290 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:34.969 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:34.975 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 11:50:35.000 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 11:50:35.146 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:50:35.168 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2020-12-12 11:50:35.222 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:50:35.349 -04:00 [INF] Executed DbCommand (130ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:50:35.371 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:50:35.379 -04:00 [DBG] Committing transaction.
2020-12-12 11:50:35.387 -04:00 [DBG] Committed transaction.
2020-12-12 11:50:35.392 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:35.401 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:50:35.404 -04:00 [DBG] Disposing transaction.
2020-12-12 11:50:35.425 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.426 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:50:35.430 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 11:50:35.439 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3637.6203ms.
2020-12-12 11:50:35.441 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:35.441 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:50:35.442 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:35.442 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.443 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:50:35.443 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:50:35.444 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:50:35.444 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:50:35.444 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:50:35.444 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:50:35.444 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:50:35.449 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:50:35.449 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.449 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:50:35.450 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 3674.1087ms
2020-12-12 11:50:35.451 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:50:35.453 -04:00 [INF] HTTP POST /api/clientes responded 200 in 3706.2183 ms
2020-12-12 11:50:35.458 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:50:35.461 -04:00 [INF] Request finished in 3718.6903ms 200 text/plain; charset=utf-8
2020-12-12 11:51:55.652 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 11:51:55.653 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:51:55.654 -04:00 [DBG] POST requests are not supported
2020-12-12 11:51:55.655 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:51:55.655 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:51:55.656 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.656 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.657 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:51:55.657 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:51:55.657 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:51:55.658 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:51:55.663 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:51:55.667 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:51:55.667 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:51:55.669 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.669 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:51:55.669 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.670 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.670 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:51:55.670 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:51:55.670 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:51:55.714 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 11:51:55.715 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.716 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.717 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.717 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 11:51:55.717 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 11:51:55.717 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 11:51:55.718 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.720 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.720 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 11:51:55.721 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 11:51:55.721 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 11:51:55.721 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 11:51:55.722 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:51:55.751 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 11:51:55.751 -04:00 [DBG] A data reader was disposed.
2020-12-12 11:51:55.751 -04:00 [DBG] Committing transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] Committed transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.752 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 11:51:55.752 -04:00 [DBG] Disposing transaction.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.752 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 11:51:55.753 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 11:51:55.753 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.4248ms.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.753 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:51:55.753 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:51:55.754 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:51:55.754 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:51:55.754 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:51:55.754 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:51:55.754 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:51:55.754 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 11:51:55.755 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.755 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:51:55.755 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 97.3738ms
2020-12-12 11:51:55.755 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:51:55.755 -04:00 [INF] HTTP POST /api/clientes responded 200 in 101.0789 ms
2020-12-12 11:51:55.755 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 11:51:55.755 -04:00 [INF] Request finished in 107.4667ms 200 text/plain; charset=utf-8
2020-12-12 11:53:42.457 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 11:53:42.748 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 11:53:42.787 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 11:53:42.790 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 11:53:42.790 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:53:42.796 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 11:53:42.828 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 11:53:42.833 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 11:53:42.834 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.836 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.845 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 11:53:42.863 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:53:42.867 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:53:42.868 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:53:42.868 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:53:42.868 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:53:42.869 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.869 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.874 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:53:42.879 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.3231ms.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.880 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.881 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:53:42.882 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:53:42.885 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:53:42.885 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:53:42.885 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:53:42.886 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 11:53:42.886 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 11:53:42.915 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 11:53:42.915 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.915 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:53:42.920 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 47.6484ms
2020-12-12 11:53:42.920 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 11:53:42.922 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 123.9289 ms
2020-12-12 11:53:42.926 -04:00 [INF] Request finished in 142.0518ms 200 application/json; charset=utf-8
2020-12-12 11:54:07.093 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 11:54:07.093 -04:00 [VRB] All hosts are allowed.
2020-12-12 11:54:07.093 -04:00 [DBG] POST requests are not supported
2020-12-12 11:54:07.095 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 11:54:07.095 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 11:54:07.096 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.098 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.117 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 11:54:07.117 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 11:54:07.117 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:54:07.118 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 11:54:07.123 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:54:07.126 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 11:54:07.126 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 11:54:07.132 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 11:54:07.133 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.133 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.133 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 11:54:07.134 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.136 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.136 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 11:54:07.136 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 11:54:07.137 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 11:54:07.428 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 11:54:07.429 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 292.8653ms.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 11:54:07.429 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.430 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 11:54:07.430 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 11:54:07.430 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 11:54:07.430 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 11:54:07.431 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 11:54:07.431 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 11:54:07.431 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 11:54:07.437 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 11:54:07.437 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.437 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 11:54:07.437 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 319.6254ms
2020-12-12 11:54:07.437 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 11:54:07.437 -04:00 [INF] HTTP POST /api/clientes responded 400 in 344.2527 ms
2020-12-12 11:54:07.442 -04:00 [INF] Request finished in 353.4709ms 400 text/plain; charset=utf-8
2020-12-12 12:03:46.591 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:03:47.069 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:03:47.145 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:03:47.151 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:03:47.152 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:03:47.168 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:03:47.236 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:03:47.252 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:03:47.254 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.259 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.281 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:03:47.329 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:03:47.341 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:03:47.342 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:03:47.342 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:03:47.343 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:03:47.343 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:03:47.345 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:03:47.345 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:03:47.346 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.347 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.358 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:03:47.379 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4.6918ms.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:47.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.382 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:47.383 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.383 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.385 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:47.390 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:03:47.398 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:03:47.398 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:03:47.399 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:03:47.400 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:03:47.401 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:03:47.463 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:47.463 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.463 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:47.476 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 120.7719ms
2020-12-12 12:03:47.477 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:03:47.482 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 307.8826 ms
2020-12-12 12:03:47.488 -04:00 [INF] Request finished in 351.1465ms 200 application/json; charset=utf-8
2020-12-12 12:03:51.641 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:03:51.641 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:03:51.641 -04:00 [DBG] POST requests are not supported
2020-12-12 12:03:51.648 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:03:51.648 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:03:51.648 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:51.648 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:51.672 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:03:51.672 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:03:51.672 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:03:51.673 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:03:51.673 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:03:51.674 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:03:51.679 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:03:51.682 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:03:51.682 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:03:51.692 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:03:51.692 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.692 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.693 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:03:51.696 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:03:51.697 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.697 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.698 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.698 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.698 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:03:51.698 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:03:51.700 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:03:51.986 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 12:03:51.987 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestResult in 288.7999ms.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:03:51.987 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.988 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:03:51.988 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:51.997 -04:00 [VRB] Replacing Microsoft.AspNetCore.Mvc.BadRequestResult with status code 400 with Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:51.997 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:51.998 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:51.998 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:03:51.998 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:03:51.999 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2020-12-12 12:03:51.999 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2020-12-12 12:03:51.999 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-12-12 12:03:52.007 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:03:52.014 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:52.014 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:03:52.015 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 341.7015ms
2020-12-12 12:03:52.015 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:03:52.015 -04:00 [INF] HTTP POST /api/clientes responded 400 in 373.5709 ms
2020-12-12 12:03:52.017 -04:00 [INF] Request finished in 378.1266ms 400 application/problem+json; charset=utf-8
2020-12-12 12:04:14.325 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:04:14.326 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:04:14.326 -04:00 [DBG] POST requests are not supported
2020-12-12 12:04:14.328 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:04:14.329 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:04:14.329 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:04:14.330 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:04:14.331 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:04:14.331 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:04:14.332 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:04:14.332 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:04:14.339 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:04:14.339 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:04:14.340 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:04:14.341 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:04:14.341 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:04:14.341 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:14.341 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:14.342 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:14.342 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:14.342 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:04:14.342 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:04:14.342 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:04:58.216 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:04:58.508 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:04:58.551 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:04:58.555 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:04:58.555 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:04:58.562 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:04:58.594 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:04:58.600 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:04:58.601 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.603 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.615 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:04:58.637 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:04:58.642 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:04:58.643 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:04:58.643 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:04:58.644 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:04:58.644 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:04:58.644 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.645 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.650 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:04:58.657 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.4022ms.
2020-12-12 12:04:58.657 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.658 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.659 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:04:58.661 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:04:58.663 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:04:58.663 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:04:58.664 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:04:58.664 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:04:58.664 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:04:58.700 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:04:58.700 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.700 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:04:58.705 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 57.3613ms
2020-12-12 12:04:58.706 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:04:58.708 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 142.8530 ms
2020-12-12 12:04:58.712 -04:00 [INF] Request finished in 164.3988ms 200 application/json; charset=utf-8
2020-12-12 12:05:03.771 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 122
2020-12-12 12:05:03.771 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:03.771 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:03.774 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:03.774 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:03.774 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:03.774 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:03.800 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:03.800 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:03.801 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:03.801 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:03.801 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:03.807 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:03.809 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:03.810 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:03.820 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:03.820 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.820 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.820 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:03.824 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:03.825 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:03.826 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:03.826 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:03.827 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:06.434 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.EmailValue.Rules.EmailRule: El email no es valido
2020-12-12 12:05:06.435 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2609.1066ms.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.435 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:06.436 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:06.437 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:06.437 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:06.437 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:06.437 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:06.441 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:06.444 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:06.444 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.444 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:06.444 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 2643.2309ms
2020-12-12 12:05:06.444 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:06.444 -04:00 [INF] HTTP POST /api/clientes responded 400 in 2672.5014 ms
2020-12-12 12:05:06.446 -04:00 [INF] Request finished in 2677.3351ms 400 text/plain; charset=utf-8
2020-12-12 12:05:27.861 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 131
2020-12-12 12:05:27.862 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:27.862 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:27.864 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:27.864 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:27.865 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.865 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.866 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:27.867 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:27.867 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:27.868 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:27.876 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:27.877 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:27.877 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:27.878 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:27.878 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.878 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.879 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.879 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:27.879 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:27.879 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:27.953 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.PasswordValue.Rules.PasswordMinLengthRule: La contrasea debe tener ms de 5 caracteres
2020-12-12 12:05:27.953 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 74.484ms.
2020-12-12 12:05:27.953 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.954 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:27.954 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:27.954 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:27.954 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:27.954 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:27.954 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:27.954 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:27.955 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:05:27.955 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.955 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:27.955 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 87.8894ms
2020-12-12 12:05:27.955 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:27.955 -04:00 [INF] HTTP POST /api/clientes responded 400 in 92.7240 ms
2020-12-12 12:05:27.956 -04:00 [INF] Request finished in 94.8359ms 400 text/plain; charset=utf-8
2020-12-12 12:05:49.854 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 124
2020-12-12 12:05:49.854 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:05:49.854 -04:00 [DBG] POST requests are not supported
2020-12-12 12:05:49.854 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-12 12:05:49.854 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-12 12:05:49.855 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:49.855 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:49.855 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:05:49.855 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:05:49.855 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:49.856 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:05:49.856 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:49.857 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-12 12:05:49.857 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:05:49.857 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-12 12:05:49.858 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:49.858 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:49.858 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:05:49.858 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-12 12:05:49.859 -04:00 [INF] Registrando cliente con los parametros
2020-12-12 12:05:51.308 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.308 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.309 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.310 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.313 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:05:51.695 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:05:51.899 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.962 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.969 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.975 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.982 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:51.989 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-12 12:05:52.000 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-12 12:05:52.028 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-12 12:05:52.168 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:52.855 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:52.861 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-12 12:05:52.893 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-12 12:05:53.030 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:05:53.044 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2020-12-12 12:05:53.089 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 12:05:53.193 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-12 12:05:53.214 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:05:53.228 -04:00 [DBG] Committing transaction.
2020-12-12 12:05:53.241 -04:00 [DBG] Committed transaction.
2020-12-12 12:05:53.247 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:53.261 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:05:53.265 -04:00 [DBG] Disposing transaction.
2020-12-12 12:05:53.280 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.281 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:05:53.286 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-12 12:05:53.295 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3436.6234ms.
2020-12-12 12:05:53.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:53.297 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:05:53.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:53.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.299 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:05:53.299 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:05:53.300 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:05:53.300 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:05:53.300 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:05:53.300 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:05:53.300 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:05:53.301 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:05:53.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.301 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:05:53.302 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 3446.9552ms
2020-12-12 12:05:53.304 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-12 12:05:53.305 -04:00 [INF] HTTP POST /api/clientes responded 200 in 3451.1499 ms
2020-12-12 12:05:53.308 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:05:53.312 -04:00 [INF] Request finished in 3458.3625ms 200 text/plain; charset=utf-8
2020-12-12 12:06:35.551 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:06:35.972 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:06:36.067 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:06:36.074 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:06:36.074 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:06:36.091 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:06:36.148 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:06:36.159 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:06:36.161 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.166 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.185 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:06:36.236 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:06:36.245 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:06:36.245 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:06:36.246 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:06:36.248 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:06:36.249 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.250 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.258 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:06:36.269 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.5358ms.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.270 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:06:36.271 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.271 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.272 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:06:36.275 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:06:36.279 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:06:36.280 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:06:36.280 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:06:36.281 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:06:36.282 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:06:36.336 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:06:36.336 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.336 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:06:36.347 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 90.2953ms
2020-12-12 12:06:36.348 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:06:36.352 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 255.0747 ms
2020-12-12 12:06:36.356 -04:00 [INF] Request finished in 300.2133ms 200 application/json; charset=utf-8
2020-12-12 12:07:23.104 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:07:23.105 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:07:23.105 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:07:23.108 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:07:23.108 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:07:23.109 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.109 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.110 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:07:23.110 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:07:23.111 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:07:23.111 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:07:23.111 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.112 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:07:23.112 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.1198ms.
2020-12-12 12:07:23.112 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.113 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:07:23.115 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:07:23.120 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:07:23.120 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:07:23.120 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:07:23.120 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:07:23.121 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:07:23.123 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:07:23.123 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.123 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:23.123 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 12.5264ms
2020-12-12 12:07:23.123 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:07:23.124 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 17.4542 ms
2020-12-12 12:07:23.124 -04:00 [INF] Request finished in 25.8248ms 200 application/json; charset=utf-8
2020-12-12 12:07:29.132 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:07:29.132 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:07:29.132 -04:00 [DBG] POST requests are not supported
2020-12-12 12:07:29.134 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:07:29.134 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:07:29.137 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:29.137 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:29.160 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:07:29.160 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:07:29.160 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:07:29.161 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:07:29.166 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:07:29.168 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:07:29.168 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:07:29.173 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:07:29.174 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.174 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.174 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:07:29.177 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:29.178 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:29.178 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:07:29.178 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:07:29.179 -04:00 [INF] Login con el email
2020-12-12 12:07:30.816 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.816 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.817 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.818 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.818 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.820 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:30.821 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:07:31.218 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:07:31.455 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Equals(__email_0) && c.Password.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:07:31.554 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:07:31.556 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:07:31.558 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:07:31.558 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:07:32.016 -04:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__entity_equality_email_0_ClienteId", 
        value: (object)Invoke(queryContext => ParameterValueExtractor(queryContext, "__email_0", Property: EmailValue.ClienteId (no field, Guid) Shadow Required PK FK AfterSave:Throw), queryContext)
    );
    queryContext.AddParameter(
        name: "__entity_equality_password_1_ClienteId", 
        value: (object)Invoke(queryContext => ParameterValueExtractor(queryContext, "__password_1", Property: PasswordValue.ClienteId (no field, Guid) Shadow Required PK FK AfterSave:Throw), queryContext)
    );
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
        asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
            (RelationalQueryContext)queryContext, 
            RelationalCommandCache.SelectExpression(
                Projection Mapping:
                SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
                FROM Clientes AS c
                WHERE (c.Id == @__entity_equality_email_0_ClienteId) && (c.Id == @__entity_equality_password_1_ClienteId)), 
            Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
            Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
            False, 
            False
        ), 
        cancellationToken: queryContext.CancellationToken);
}'
2020-12-12 12:07:32.356 -04:00 [ERR] Error al intentar hacer login con el Email
System.InvalidOperationException: No backing field could be found for property 'EmailValue.ClienteId' and the property does not have a getter.
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetMemberInfo(IPropertyBase propertyBase, Boolean forMaterialization, Boolean forSet)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ClrPropertyGetterFactory.Create(IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.<>c.<get_Getter>b__38_0(PropertyBase p)
   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.get_Getter()
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetGetter(IPropertyBase propertyBase)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.ParameterValueExtractor[T](QueryContext context, String baseParameterName, IProperty property)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ClienteRepository.Login(String email, String password) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ClienteRepository.cs:line 29
   at Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteHandler.Handle(LoginClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Cliente\LoginCliente\LoginClienteHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ClientesController.Login(LoginClienteQuery loginClienteQuery) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ClientesController.cs:line 61
2020-12-12 12:07:32.471 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3292.7881ms.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.472 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.473 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:07:32.473 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:07:32.473 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:07:32.473 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:07:32.474 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:07:32.474 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:07:32.474 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:07:32.481 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:07:32.481 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.481 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:07:32.481 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 3320.761ms
2020-12-12 12:07:32.481 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:07:32.482 -04:00 [INF] HTTP POST /api/clientes/login responded 400 in 3349.5164 ms
2020-12-12 12:07:32.486 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:07:32.493 -04:00 [INF] Request finished in 3363.3049ms 400 text/plain; charset=utf-8
2020-12-12 12:09:46.246 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:09:46.247 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:09:46.247 -04:00 [DBG] POST requests are not supported
2020-12-12 12:09:46.249 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:09:46.250 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:09:46.250 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:09:46.250 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:09:46.251 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:09:46.251 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:09:46.251 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:09:46.252 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:09:46.256 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:09:46.257 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:09:46.257 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:09:46.258 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:09:46.258 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:09:46.258 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:09:46.258 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:09:46.259 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:09:46.259 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:09:46.259 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:09:46.259 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:09:46.259 -04:00 [INF] Login con el email
2020-12-12 12:10:21.868 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:10:22.001 -04:00 [ERR] Error al intentar hacer login con el Email
System.InvalidOperationException: No backing field could be found for property 'EmailValue.ClienteId' and the property does not have a getter.
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetMemberInfo(IPropertyBase propertyBase, Boolean forMaterialization, Boolean forSet)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ClrPropertyGetterFactory.Create(IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.<>c.<get_Getter>b__38_0(PropertyBase p)
   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.PropertyBase.get_Getter()
   at Microsoft.EntityFrameworkCore.PropertyBaseExtensions.GetGetter(IPropertyBase propertyBase)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.ParameterValueExtractor[T](QueryContext context, String baseParameterName, IProperty property)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.ClienteRepository.Login(String email, String password) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\ClienteRepository.cs:line 29
   at Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteHandler.Handle(LoginClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Cliente\LoginCliente\LoginClienteHandler.cs:line 26
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ClientesController.Login(LoginClienteQuery loginClienteQuery) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ClientesController.cs:line 61
2020-12-12 12:10:22.002 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 35743.5378ms.
2020-12-12 12:10:22.002 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.003 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:10:22.003 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:10:22.003 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:10:22.003 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:10:22.003 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:10:22.003 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:10:22.003 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:10:22.004 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-12 12:10:22.004 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.004 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:10:22.004 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 35753.0005ms
2020-12-12 12:10:22.004 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:10:22.004 -04:00 [INF] HTTP POST /api/clientes/login responded 400 in 35756.7226 ms
2020-12-12 12:10:22.005 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:10:22.005 -04:00 [INF] Request finished in 35758.8803ms 400 text/plain; charset=utf-8
2020-12-12 12:11:58.934 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:11:58.935 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:11:58.935 -04:00 [DBG] POST requests are not supported
2020-12-12 12:11:58.936 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:11:58.936 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:11:58.937 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:11:58.937 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:11:58.938 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:11:58.938 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:11:58.938 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:11:58.939 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:11:58.939 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:11:58.940 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:11:58.940 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:11:58.940 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:11:58.940 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:11:58.941 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:11:58.941 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:11:58.941 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:11:58.942 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:11:58.942 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:11:58.942 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:11:58.942 -04:00 [INF] Login con el email
2020-12-12 12:12:00.825 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:14:38.401 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:14:38.683 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:14:38.717 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:14:38.719 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:14:38.720 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:14:38.725 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:14:38.753 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:14:38.758 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:14:38.758 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.760 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.769 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:14:38.786 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:14:38.790 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:14:38.791 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:14:38.791 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.792 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.796 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:14:38.801 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.021ms.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.802 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.803 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:14:38.804 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:14:38.806 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:14:38.806 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:14:38.806 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:14:38.806 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:14:38.806 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:14:38.834 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:14:38.834 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.834 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:14:38.839 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 44.1541ms
2020-12-12 12:14:38.839 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:14:38.841 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 114.1563 ms
2020-12-12 12:14:38.844 -04:00 [INF] Request finished in 130.808ms 200 application/json; charset=utf-8
2020-12-12 12:14:44.250 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:14:44.251 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:14:44.251 -04:00 [DBG] POST requests are not supported
2020-12-12 12:14:44.252 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:14:44.252 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:14:44.252 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:14:44.253 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:14:44.270 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:14:44.270 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:14:44.271 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:14:44.271 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:14:44.271 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:14:44.276 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:14:44.278 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:14:44.278 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:14:44.286 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:14:44.286 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.286 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.287 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:14:44.288 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:44.290 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:14:44.290 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:14:44.290 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:14:44.291 -04:00 [INF] Login con el email
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.691 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.692 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.693 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:14:46.899 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:14:47.007 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => (string)c.Email == __email_0 && (string)c.Password == __password_1)
    .FirstOrDefault()'
2020-12-12 12:14:47.044 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:14:47.045 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:17:15.037 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:17:15.497 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:17:15.571 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:17:15.579 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:17:15.580 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:17:15.595 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:17:15.661 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:17:15.680 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:17:15.682 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.687 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.705 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:17:15.748 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:17:15.759 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:17:15.759 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:17:15.760 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:17:15.760 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:17:15.761 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:17:15.762 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:17:15.763 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:17:15.764 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.765 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.776 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:17:15.787 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.4081ms.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.788 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:15.789 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.789 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.791 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:17:15.793 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:17:15.798 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:17:15.798 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:17:15.798 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:17:15.799 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:17:15.799 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:17:15.863 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:17:15.864 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.864 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:15.876 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 103.4935ms
2020-12-12 12:17:15.878 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:17:15.883 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 280.4435 ms
2020-12-12 12:17:15.895 -04:00 [INF] Request finished in 332.5802ms 200 application/json; charset=utf-8
2020-12-12 12:17:20.003 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:17:20.003 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:17:20.003 -04:00 [DBG] POST requests are not supported
2020-12-12 12:17:20.005 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:17:20.005 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:17:20.005 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:20.005 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:20.024 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:17:20.024 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:17:20.024 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:17:20.025 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:17:20.030 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:17:20.033 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:17:20.034 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:17:20.040 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:17:20.040 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.040 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.040 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:17:20.042 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:20.043 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:20.043 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:17:20.043 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:17:20.044 -04:00 [INF] Login con el email
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.612 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.613 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.615 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:17:21.986 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:17:22.220 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:17:22.312 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:17:22.314 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:17:22.315 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:17:22.315 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:17:22.764 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:17:22.880 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:17:22.972 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (84ms).
2020-12-12 12:17:22.993 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:23.684 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:23.723 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:17:23.884 -04:00 [INF] Executed DbCommand (177ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:17:24.031 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.090 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.145 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.154 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.167 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:17:24.198 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:17:24.208 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:24.225 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:17:47.656 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27612.0289ms.
2020-12-12 12:17:47.658 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:47.658 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:17:47.659 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:47.659 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:17:47.660 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.661 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.661 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:17:47.662 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:17:47.662 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:17:47.662 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:17:47.662 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:17:47.662 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:17:47.662 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:17:47.666 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:17:47.666 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.666 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:17:47.667 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 27642.7989ms
2020-12-12 12:17:47.668 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:17:47.670 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 27666.7962 ms
2020-12-12 12:17:47.674 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:17:47.676 -04:00 [INF] Request finished in 27675.7015ms 200 text/plain; charset=utf-8
2020-12-12 12:18:05.065 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:18:05.066 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:05.066 -04:00 [DBG] POST requests are not supported
2020-12-12 12:18:05.068 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:18:05.069 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:18:05.070 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.071 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.072 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:05.073 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:05.073 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:05.074 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:05.075 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:05.075 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:18:05.075 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:18:05.077 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:05.078 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.078 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.079 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:05.079 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:18:05.079 -04:00 [INF] Login con el email
2020-12-12 12:18:05.123 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:18:05.126 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:18:05.127 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 12:18:05.127 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.130 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.130 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:05.138 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:05.139 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:18:05.139 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.140 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:05.140 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.9355ms.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.140 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:05.140 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:05.140 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:05.140 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:05.141 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:05.141 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:18:05.141 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:18:05.141 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:05.141 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.141 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:05.142 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 68.0511ms
2020-12-12 12:18:05.142 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:05.142 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 75.3449 ms
2020-12-12 12:18:05.142 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:18:05.142 -04:00 [INF] Request finished in 78.3784ms 200 text/plain; charset=utf-8
2020-12-12 12:18:41.550 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:18:41.802 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:18:41.841 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:18:41.845 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:18:41.845 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:41.853 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:18:41.882 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:18:41.888 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:18:41.889 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.890 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.900 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:18:41.923 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:18:41.927 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:41.928 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:41.929 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:18:41.929 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:18:41.929 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.930 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.934 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:41.938 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0596ms.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.939 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.940 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:18:41.941 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:41.942 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:41.943 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:41.943 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:41.943 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:18:41.943 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:18:41.972 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:18:41.972 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.972 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:41.977 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.7025ms
2020-12-12 12:18:41.977 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:18:41.979 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 123.4236 ms
2020-12-12 12:18:41.981 -04:00 [INF] Request finished in 144.356ms 200 application/json; charset=utf-8
2020-12-12 12:18:50.287 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-12 12:18:50.287 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:18:50.288 -04:00 [DBG] POST requests are not supported
2020-12-12 12:18:50.289 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:18:50.289 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:18:50.289 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:50.290 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:50.313 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:18:50.313 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:18:50.313 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:18:50.314 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:18:50.314 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:50.314 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:18:50.318 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:50.320 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:18:50.320 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:18:50.328 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:18:50.328 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.328 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.328 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:18:50.333 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:50.334 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:50.334 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:18:50.334 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:18:50.336 -04:00 [INF] Login con el email
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.923 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.924 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.926 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.926 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.927 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:51.927 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:18:52.312 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:18:52.545 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:18:52.651 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:18:52.653 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:18:52.655 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:18:52.655 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:18:53.106 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:18:53.218 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:18:53.296 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2020-12-12 12:18:53.318 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.033 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.074 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:54.204 -04:00 [INF] Executed DbCommand (153ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:18:54.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.373 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.422 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.431 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.442 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-12 12:18:54.466 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:18:54.474 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.487 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:18:54.500 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4165.4126ms.
2020-12-12 12:18:54.502 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:54.502 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:18:54.503 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:54.504 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.505 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:54.506 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:18:54.506 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:18:54.506 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:18:54.506 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:18:54.506 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:18:54.506 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ClienteDTO'.
2020-12-12 12:18:54.514 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:18:54.514 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.514 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:18:54.515 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 4201.5876ms
2020-12-12 12:18:54.516 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:18:54.518 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 4230.8096 ms
2020-12-12 12:18:54.523 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:18:54.527 -04:00 [INF] Request finished in 4242.9459ms 200 application/json; charset=utf-8
2020-12-12 12:19:03.518 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-12 12:19:03.519 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:19:03.519 -04:00 [DBG] POST requests are not supported
2020-12-12 12:19:03.521 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:19:03.521 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:19:03.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.522 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.524 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:19:03.524 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:19:03.524 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:19:03.524 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:19:03.529 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:19:03.530 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:19:03.530 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:19:03.531 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:19:03.531 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.531 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.532 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:19:03.532 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:19:03.532 -04:00 [INF] Login con el email
2020-12-12 12:19:03.562 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:19:03.565 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:19:03.565 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-12 12:19:03.566 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.567 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.567 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:19:03.576 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:19:03.577 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:19:03.577 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.577 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:19:03.577 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.1157ms.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.577 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:19:03.578 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:19:03.578 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:19:03.578 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:19:03.578 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:19:03.578 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2020-12-12 12:19:03.578 -04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2020-12-12 12:19:03.578 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-12 12:19:03.578 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.578 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:19:03.578 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 54.0845ms
2020-12-12 12:19:03.578 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:19:03.578 -04:00 [INF] HTTP POST /api/clientes/login responded 204 in 58.6907 ms
2020-12-12 12:19:03.578 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:19:03.579 -04:00 [INF] Request finished in 62.0832ms 204 
2020-12-12 12:20:08.655 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-12 12:20:08.892 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-12 12:20:08.930 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-12 12:20:08.933 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-12 12:20:08.934 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:20:08.940 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-12 12:20:08.970 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-12 12:20:08.975 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-12 12:20:08.976 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:08.977 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:08.986 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-12 12:20:09.005 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-12 12:20:09.008 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:20:09.009 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:20:09.010 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:20:09.010 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-12 12:20:09.010 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.011 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.015 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:20:09.020 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0571ms.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:09.020 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.021 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:20:09.022 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:20:09.024 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:20:09.024 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:20:09.024 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:20:09.025 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-12 12:20:09.025 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-12 12:20:09.053 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-12 12:20:09.053 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.053 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:09.058 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.9245ms
2020-12-12 12:20:09.058 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-12 12:20:09.060 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 117.2571 ms
2020-12-12 12:20:09.063 -04:00 [INF] Request finished in 136.0334ms 200 application/json; charset=utf-8
2020-12-12 12:20:14.441 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-12 12:20:14.442 -04:00 [VRB] All hosts are allowed.
2020-12-12 12:20:14.442 -04:00 [DBG] POST requests are not supported
2020-12-12 12:20:14.444 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-12 12:20:14.447 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-12 12:20:14.447 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:14.448 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:14.469 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-12 12:20:14.470 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-12 12:20:14.470 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:20:14.471 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-12 12:20:14.476 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:20:14.478 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-12 12:20:14.478 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-12 12:20:14.484 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-12 12:20:14.484 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.484 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.484 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-12 12:20:14.488 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:14.490 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:14.490 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-12 12:20:14.490 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-12 12:20:14.492 -04:00 [INF] Login con el email
2020-12-12 12:20:16.315 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.316 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.318 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.319 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-12 12:20:16.733 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-12 12:20:16.984 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-12 12:20:17.095 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-12 12:20:17.097 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-12 12:20:17.098 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-12 12:20:17.099 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-12 12:20:17.583 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-12 12:20:17.712 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-12 12:20:17.805 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (83ms).
2020-12-12 12:20:17.828 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.529 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.564 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:20:18.734 -04:00 [INF] Executed DbCommand (184ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-12 12:20:18.788 -04:00 [DBG] A data reader was disposed.
2020-12-12 12:20:18.796 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.807 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-12 12:20:18.818 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 4327.8267ms.
2020-12-12 12:20:18.820 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:18.820 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-12 12:20:18.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:18.821 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.823 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-12 12:20:18.824 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-12 12:20:18.824 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-12 12:20:18.824 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-12 12:20:18.824 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-12 12:20:18.824 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-12 12:20:18.824 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-12 12:20:18.829 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-12 12:20:18.829 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.830 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-12 12:20:18.831 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 4360.9511ms
2020-12-12 12:20:18.832 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-12 12:20:18.835 -04:00 [INF] HTTP POST /api/clientes/login responded 404 in 4393.0503 ms
2020-12-12 12:20:18.841 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-12 12:20:18.845 -04:00 [INF] Request finished in 4405.1356ms 404 text/plain; charset=utf-8
2020-12-13 21:05:37.517 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:05:37.718 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:05:37.758 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:05:37.760 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:05:37.760 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:05:37.765 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:05:37.787 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:05:37.791 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:05:37.791 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.792 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.800 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:05:37.816 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:05:37.819 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:05:37.820 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:05:37.820 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:05:37.820 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:05:37.820 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.821 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.825 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:05:37.830 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9599ms.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.830 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.831 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:05:37.832 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:05:37.833 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:05:37.833 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:05:37.833 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:05:37.834 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:05:37.834 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:05:37.863 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:05:37.863 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.863 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:05:37.866 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 43.5761ms
2020-12-13 21:05:37.867 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:05:37.868 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 100.8949 ms
2020-12-13 21:05:37.870 -04:00 [INF] Request finished in 115.2358ms 200 application/json; charset=utf-8
2020-12-13 21:05:37.962 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/favicon.ico  
2020-12-13 21:05:37.962 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:05:37.970 -04:00 [DBG] The request path /favicon.ico does not match an existing file
2020-12-13 21:05:37.971 -04:00 [DBG] No candidates found for the request path '/favicon.ico'
2020-12-13 21:05:37.971 -04:00 [DBG] Request did not match any endpoints
2020-12-13 21:05:37.971 -04:00 [INF] HTTP GET /favicon.ico responded 404 in 0.8240 ms
2020-12-13 21:05:37.972 -04:00 [INF] Request finished in 10.2398ms 404 
2020-12-13 21:06:26.195 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 519
2020-12-13 21:06:26.195 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:06:26.195 -04:00 [DBG] POST requests are not supported
2020-12-13 21:06:26.196 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:06:26.197 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:06:26.197 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:06:26.200 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:06:26.216 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:06:26.216 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:06:26.216 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:06:26.217 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:06:26.222 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:06:26.224 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:06:26.224 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:06:26.238 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:06:26.238 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.238 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.238 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:06:26.243 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:06:26.244 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:06:26.244 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:06:26.244 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:07:07.665 -04:00 [DBG] Connection ID "18302628921604047479" disconnecting.
2020-12-13 21:07:07.668 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:07:08.708 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.708 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.709 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.710 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:07:08.829 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:07:08.927 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:07:08.955 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:07:08.956 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:07:09.100 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:07:09.143 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.180 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 21:07:09.211 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.532 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.541 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:07:09.588 -04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:07:09.629 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.646 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.661 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.664 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.667 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.676 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.678 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.683 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.730 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.741 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.745 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.747 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.748 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:07:09.748 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:07:09.748 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:07:09.754 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:07:09.754 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.754 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.754 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.755 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.755 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.759 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.767 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.769 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.773 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.779 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.779 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.779 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.793 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.799 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.801 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.803 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.805 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.805 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.805 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.805 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.805 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.806 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:07:09.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.807 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.807 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.807 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.810 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:07:09.812 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:07:09.831 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:07:09.845 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.845 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.846 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:07:09.851 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:07:09.888 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.888 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.890 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:07:09.898 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:07:09.902 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.908 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 21:07:09.908 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.908 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.909 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.911 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.911 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.911 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.911 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.911 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.912 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:07:09.912 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.912 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:07:09.912 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:07:09.912 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:07:09.914 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:07:09.914 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:07:09.916 -04:00 [DBG] Committing transaction.
2020-12-13 21:07:09.918 -04:00 [DBG] Committed transaction.
2020-12-13 21:07:09.920 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.920 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:07:09.921 -04:00 [DBG] Disposing transaction.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.929 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.930 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:07:09.931 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 21:07:12.450 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46206.1952ms.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:07:12.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.452 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:07:12.452 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:07:12.452 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:07:12.452 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:07:12.452 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:07:12.452 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:07:12.453 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:07:12.454 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:07:12.454 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.454 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:07:12.454 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 46238.2515ms
2020-12-13 21:07:12.455 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:07:12.456 -04:00 [INF] HTTP POST /api/ventas responded 200 in 46259.9820 ms
2020-12-13 21:07:12.457 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:07:12.459 -04:00 [INF] Request finished in 46268.4853ms 200 text/plain; charset=utf-8
2020-12-13 21:15:44.216 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:15:44.389 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:15:44.420 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:15:44.423 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:15:44.423 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:15:44.427 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:15:44.448 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:15:44.452 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:15:44.452 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.453 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.461 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:15:44.476 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:15:44.480 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:15:44.480 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:15:44.481 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.481 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.485 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:15:44.489 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8799ms.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:15:44.489 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.490 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.490 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:15:44.491 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:15:44.492 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:15:44.492 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:15:44.492 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:15:44.493 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:15:44.493 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:15:44.516 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:15:44.516 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.516 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:15:44.519 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.0746ms
2020-12-13 21:15:44.520 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:15:44.521 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 91.9482 ms
2020-12-13 21:15:44.523 -04:00 [INF] Request finished in 106.3899ms 200 application/json; charset=utf-8
2020-12-13 21:16:25.687 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 519
2020-12-13 21:16:25.688 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:16:25.688 -04:00 [DBG] POST requests are not supported
2020-12-13 21:16:25.689 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:16:25.689 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:16:25.690 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:16:25.693 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:16:25.717 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:16:25.717 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:16:25.717 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:16:25.719 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:16:25.725 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:16:25.727 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:16:25.727 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:16:25.740 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:16:25.741 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.741 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.741 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:16:25.746 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:25.747 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:25.748 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:25.748 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:16:25.748 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:16:42.586 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:16:42.778 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:16:42.805 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:16:42.807 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:16:42.807 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:16:42.812 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:16:42.835 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:16:42.839 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:16:42.840 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.841 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.849 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:16:42.863 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:16:42.866 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:16:42.867 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:16:42.867 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:16:42.867 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:16:42.867 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.868 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.872 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:16:42.876 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9123ms.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.876 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.877 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:16:42.878 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:16:42.879 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:16:42.879 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:16:42.879 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:16:42.880 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:16:42.880 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:16:42.903 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:16:42.903 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.903 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:16:42.906 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.3693ms
2020-12-13 21:16:42.907 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:16:42.908 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.3180 ms
2020-12-13 21:16:42.910 -04:00 [INF] Request finished in 108.2681ms 200 application/json; charset=utf-8
2020-12-13 21:17:01.252 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 497
2020-12-13 21:17:01.252 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:17:01.252 -04:00 [DBG] POST requests are not supported
2020-12-13 21:17:01.253 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:17:01.254 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:17:01.254 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:01.256 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:01.270 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:17:01.270 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:17:01.270 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:17:01.271 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:17:01.275 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:17:01.277 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:17:01.277 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:17:01.290 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:17:01.290 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.290 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.290 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:17:01.294 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:01.296 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:01.296 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:17:01.296 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:17:09.976 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.541 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.542 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:17:10.667 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:17:10.748 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:17:10.777 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:17:10.778 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:17:10.918 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:17:10.949 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:10.991 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 21:17:11.021 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.253 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.265 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:17:11.308 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:17:11.347 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.363 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.378 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.381 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.384 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.392 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.394 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.398 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.445 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.457 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.462 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.464 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.465 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:17:11.465 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:17:11.465 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:17:11.471 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:17:11.471 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.471 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.471 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.472 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.472 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.475 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.483 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.490 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.495 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.495 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.495 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.509 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.516 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.518 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.520 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.522 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.522 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.522 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.522 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.522 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.524 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.524 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.524 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.524 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.527 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:17:11.529 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:17:11.551 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:17:11.564 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.564 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.565 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:17:11.571 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:17:11.608 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.608 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.610 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:17:11.614 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:17:11.617 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.623 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 21:17:11.624 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.624 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.624 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.626 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.626 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.627 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.627 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.627 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.627 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:17:11.627 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.627 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:17:11.627 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:17:11.628 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:17:11.629 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:17:11.629 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:17:11.631 -04:00 [DBG] Committing transaction.
2020-12-13 21:17:11.634 -04:00 [DBG] Committed transaction.
2020-12-13 21:17:11.636 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.636 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:17:11.637 -04:00 [DBG] Disposing transaction.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.645 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.646 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:17:11.648 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 21:17:11.650 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10354.4632ms.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:11.651 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.652 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:17:11.652 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:17:11.653 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:17:11.653 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:17:11.653 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:17:11.653 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:17:11.653 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:17:11.658 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:17:11.658 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.658 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:17:11.658 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 10387.9664ms
2020-12-13 21:17:11.659 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:17:11.659 -04:00 [INF] HTTP POST /api/ventas responded 200 in 10407.3915 ms
2020-12-13 21:17:11.661 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:17:11.663 -04:00 [INF] Request finished in 10412.2575ms 200 text/plain; charset=utf-8
2020-12-13 21:25:56.007 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 21:25:56.201 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 21:25:56.230 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 21:25:56.232 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 21:25:56.232 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:25:56.237 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 21:25:56.259 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 21:25:56.264 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 21:25:56.265 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.266 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.273 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 21:25:56.287 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 21:25:56.290 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:25:56.291 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:25:56.291 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:25:56.292 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.296 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:25:56.300 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9349ms.
2020-12-13 21:25:56.300 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.300 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.301 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.302 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:25:56.302 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:25:56.304 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:25:56.304 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:25:56.304 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:25:56.305 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:25:56.305 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 21:25:56.328 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 21:25:56.328 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.328 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:25:56.331 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.8495ms
2020-12-13 21:25:56.331 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 21:25:56.333 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.8863 ms
2020-12-13 21:25:56.335 -04:00 [INF] Request finished in 107.6823ms 200 application/json; charset=utf-8
2020-12-13 21:25:59.491 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 169
2020-12-13 21:25:59.492 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:25:59.492 -04:00 [DBG] POST requests are not supported
2020-12-13 21:25:59.493 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 21:25:59.493 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 21:25:59.493 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:25:59.493 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:25:59.513 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:25:59.513 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:25:59.513 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:25:59.514 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:25:59.518 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 21:25:59.520 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-13 21:25:59.520 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:25:59.529 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-13 21:25:59.529 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.529 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.529 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 21:25:59.531 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:59.532 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:25:59.532 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:25:59.532 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-13 21:25:59.533 -04:00 [INF] Insertando producto con los parametros
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.104 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.105 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.106 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 21:26:00.235 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:00.304 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.319 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.327 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:00.331 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:00.339 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:26:00.394 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.641 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.643 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:26:00.654 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:26:00.698 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:00.703 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-13 21:26:00.720 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 21:26:00.761 -04:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 21:26:00.767 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:00.771 -04:00 [DBG] Committing transaction.
2020-12-13 21:26:00.774 -04:00 [DBG] Committed transaction.
2020-12-13 21:26:00.777 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.781 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:00.783 -04:00 [DBG] Disposing transaction.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.790 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:00.792 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 21:26:00.794 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1262.2633ms.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:00.795 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.796 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:00.796 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:00.796 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:00.796 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:00.796 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:00.796 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:26:00.796 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:26:00.798 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:00.798 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.798 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:00.798 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 1285.1734ms
2020-12-13 21:26:00.799 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 21:26:00.800 -04:00 [INF] HTTP POST /api/productos responded 200 in 1307.9807 ms
2020-12-13 21:26:00.803 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:00.804 -04:00 [INF] Request finished in 1313.7677ms 200 text/plain; charset=utf-8
2020-12-13 21:26:06.878 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 21:26:06.878 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:26:06.879 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 21:26:06.880 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 21:26:06.881 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 21:26:06.881 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:06.881 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:06.890 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 21:26:06.890 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:26:06.890 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:26:06.891 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:26:06.891 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:26:06.891 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:06.891 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:06.891 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:26:06.892 -04:00 [INF] Obteniendo productos...
2020-12-13 21:26:06.922 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:06.968 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 21:26:06.988 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:26:06.988 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:26:07.119 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 21:26:07.141 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:07.141 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:07.142 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.142 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.143 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 21:26:07.153 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 21:26:07.167 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.169 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.171 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:07.173 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:07.173 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.173 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:07.174 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 282.9421ms.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:07.174 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.175 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:07.175 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:07.175 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:07.175 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:07.175 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:07.175 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 21:26:07.175 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 21:26:07.177 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:07.177 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.177 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:07.177 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 286.6259ms
2020-12-13 21:26:07.177 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 21:26:07.178 -04:00 [INF] HTTP GET /api/productos responded 200 in 298.4904 ms
2020-12-13 21:26:07.178 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:07.178 -04:00 [INF] Request finished in 300.5077ms 200 application/json; charset=utf-8
2020-12-13 21:26:29.718 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 342
2020-12-13 21:26:29.718 -04:00 [VRB] All hosts are allowed.
2020-12-13 21:26:29.718 -04:00 [DBG] POST requests are not supported
2020-12-13 21:26:29.718 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 21:26:29.718 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 21:26:29.718 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.718 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.722 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 21:26:29.722 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 21:26:29.723 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 21:26:29.723 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 21:26:29.723 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:26:29.723 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 21:26:29.723 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:26:29.723 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 21:26:29.723 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 21:26:29.730 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 21:26:29.730 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.730 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.730 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 21:26:29.736 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.736 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.736 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 21:26:29.736 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 21:26:29.737 -04:00 [INF] Insertando venta con los parametros
2020-12-13 21:26:29.747 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 21:26:29.757 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 21:26:29.765 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 21:26:29.766 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 21:26:29.803 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:26:29.808 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.809 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.809 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.809 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.809 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:26:29.816 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 21:26:29.828 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.831 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.835 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.841 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.844 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.844 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.844 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.872 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.882 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.885 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.887 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.888 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 21:26:29.888 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 21:26:29.888 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 21:26:29.893 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 21:26:29.893 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.893 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.893 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.893 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.893 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:26:29.895 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.895 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.895 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.895 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.909 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.916 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.918 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.920 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.920 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:29.920 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 21:26:29.933 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 21:26:29.933 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.933 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.933 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 21:26:29.934 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 21:26:29.935 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.935 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.936 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:26:29.939 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCancelacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2020-12-13 21:26:29.940 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.946 -04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2020-12-13 21:26:29.947 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.947 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.947 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:26:29.949 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 21:26:29.950 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.950 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 21:26:29.950 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 21:26:29.950 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:26:29.953 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 21:26:29.953 -04:00 [DBG] A data reader was disposed.
2020-12-13 21:26:29.953 -04:00 [DBG] Committing transaction.
2020-12-13 21:26:29.956 -04:00 [DBG] Committed transaction.
2020-12-13 21:26:29.956 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.956 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 21:26:29.956 -04:00 [DBG] Disposing transaction.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.957 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 21:26:29.958 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2020-12-13 21:26:29.958 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 222.0203ms.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.958 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:29.959 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 21:26:29.959 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 21:26:29.959 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 21:26:29.959 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 21:26:29.959 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 21:26:29.959 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 21:26:29.959 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 21:26:29.959 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.959 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 21:26:29.959 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 236.6775ms
2020-12-13 21:26:29.959 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 21:26:29.959 -04:00 [INF] HTTP POST /api/ventas responded 200 in 241.3833 ms
2020-12-13 21:26:29.960 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 21:26:29.960 -04:00 [INF] Request finished in 265.7685ms 200 text/plain; charset=utf-8
2020-12-13 22:08:45.283 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:08:45.459 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:08:45.489 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:08:45.491 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:08:45.492 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:45.496 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:08:45.517 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:08:45.521 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:08:45.522 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.523 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.530 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:08:45.544 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:08:45.547 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:08:45.548 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:08:45.548 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:08:45.549 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.549 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.553 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:08:45.557 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8758ms.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.557 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.558 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:08:45.559 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:08:45.560 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:08:45.560 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:08:45.560 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:08:45.561 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:08:45.561 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:08:45.585 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:08:45.585 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.585 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:45.588 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.2514ms
2020-12-13 22:08:45.589 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:08:45.590 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 91.3852 ms
2020-12-13 22:08:45.592 -04:00 [INF] Request finished in 105.933ms 200 application/json; charset=utf-8
2020-12-13 22:08:48.760 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  0
2020-12-13 22:08:48.761 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:48.761 -04:00 [DBG] POST requests are not supported
2020-12-13 22:08:48.762 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:48.762 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.762 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.762 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2020-12-13 22:08:48.763 -04:00 [INF] HTTP POST /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 405 in 1.7151 ms
2020-12-13 22:08:48.764 -04:00 [INF] Request finished in 4.3709ms 405 
2020-12-13 22:08:55.667 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:08:55.668 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:08:55.668 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:08:55.670 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:55.670 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:08:55.670 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:55.671 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:55.691 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:08:55.692 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:08:55.692 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:08:55.692 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:08:55.696 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:08:55.697 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:08:55.698 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.698 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.698 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:08:55.699 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:55.700 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:55.700 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:08:55.700 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:08:55.701 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.270 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.271 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.272 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:08:56.397 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:08:56.467 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:08:56.538 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:08:56.538 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:08:56.539 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:08:56.539 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:08:56.540 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:08:56.681 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:08:56.718 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:08:56.749 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 22:08:56.774 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.009 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.018 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:08:57.062 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:08:57.104 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.141 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.152 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.162 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.165 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.168 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.177 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:08:57.179 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.184 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.186 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:08:57.186 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:08:57.196 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:08:57.198 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:08:57.198 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:08:57.198 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.199 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.199 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:08:57.203 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:08:57.209 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.213 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.217 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:08:57.220 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:08:57.220 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.220 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:08:57.223 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:08:57.377 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:08:57.432 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1731.7054ms.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:08:57.433 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.434 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.434 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:08:57.434 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:08:57.434 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:08:57.434 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:08:57.434 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:08:57.434 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:08:57.434 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:08:57.436 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:08:57.436 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.436 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:08:57.437 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 1744.7999ms
2020-12-13 22:08:57.437 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:08:57.438 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 1769.2464 ms
2020-12-13 22:08:57.440 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:08:57.442 -04:00 [INF] Request finished in 1774.8385ms 400 text/plain; charset=utf-8
2020-12-13 22:09:15.377 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:09:15.378 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:09:15.378 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:09:15.378 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:15.378 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:15.379 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:15.379 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:15.379 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:09:15.379 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:09:15.380 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:09:15.380 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:15.380 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:15.380 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:15.381 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:15.381 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:15.381 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:15.381 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:09:15.381 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:09:19.670 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:09:20.095 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:09:20.098 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:20.098 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:20.098 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.098 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.098 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:20.105 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:20.126 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.127 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.127 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.128 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:20.128 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:20.128 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:20.128 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.128 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.129 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:09:20.130 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:20.131 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:20.131 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.131 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:20.131 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:09:49.250 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:09:49.261 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 33879.6197ms.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.261 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:09:49.261 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:09:49.261 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:09:49.261 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:09:49.262 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:09:49.262 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:09:49.262 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:09:49.262 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:09:49.262 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.262 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:09:49.263 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 33883.5967ms
2020-12-13 22:09:49.263 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:49.266 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 33888.1223 ms
2020-12-13 22:09:49.266 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:09:49.266 -04:00 [INF] Request finished in 33889.2671ms 400 text/plain; charset=utf-8
2020-12-13 22:09:52.934 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:09:52.934 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:09:52.934 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:09:52.935 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:52.935 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:09:52.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:52.935 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:09:52.935 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:09:52.936 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:09:52.936 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:52.936 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:09:52.937 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:52.937 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:09:52.937 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:09:52.937 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:09:54.121 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:09:56.548 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:09:56.562 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:09:56.562 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:09:56.563 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.563 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.563 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:56.564 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:09:56.565 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.565 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.566 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.585 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.587 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:09:56.587 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:09:56.588 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:09:56.588 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.450 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:10:48.450 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:10:48.450 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.451 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.451 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:10:48.472 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:10:48.472 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:10:48.473 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:10:48.473 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:10:48.473 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:00.678 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:11:00.821 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:11:00.822 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 67884.7259ms.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.822 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:00.822 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:11:00.823 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:11:00.823 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:11:00.823 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:11:00.823 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:11:00.823 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:11:00.823 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:00.823 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.823 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:00.823 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 67887.435ms
2020-12-13 22:11:00.823 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:00.824 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 67889.0807 ms
2020-12-13 22:11:00.824 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:11:00.824 -04:00 [INF] Request finished in 67890.0865ms 400 text/plain; charset=utf-8
2020-12-13 22:11:42.898 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:11:42.898 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:11:42.899 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:11:42.899 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:11:42.899 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:11:42.899 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:42.899 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:42.900 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:11:42.900 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:11:42.900 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:11:42.900 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:11:42.901 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:42.901 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:42.902 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:11:42.902 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:11:44.187 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:11:45.572 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:11:45.582 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:11:45.582 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:11:45.582 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.583 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.583 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:11:45.630 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.631 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:45.632 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:11:45.632 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:45.632 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.620 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:11:48.620 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:11:48.620 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.620 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.621 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:11:48.624 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:11:48.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.641 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.642 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:11:48.642 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:11:48.642 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:48.642 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:11:51.015 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            (string)x.Producto.Nombre, 
            (double)x.Producto.Precio
        ) 
    }
    )'
2020-12-13 22:11:51.161 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:11:51.162 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8260.3377ms.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.162 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:51.162 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:11:51.163 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:11:51.163 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:11:51.163 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:11:51.163 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:11:51.163 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:11:51.163 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:11:51.163 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.163 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:11:51.163 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 8263.0593ms
2020-12-13 22:11:51.163 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:11:51.163 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 8264.6909 ms
2020-12-13 22:11:51.164 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:11:51.164 -04:00 [INF] Request finished in 8267.3697ms 400 text/plain; charset=utf-8
2020-12-13 22:12:14.178 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:12:14.352 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:12:14.379 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:12:14.382 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:12:14.382 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:14.386 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:12:14.411 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:12:14.415 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:12:14.415 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.417 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.424 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:12:14.438 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:12:14.441 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:14.441 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:14.442 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:14.442 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:12:14.443 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.443 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.446 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:14.450 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8693ms.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.451 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.452 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:12:14.452 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:14.454 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:14.454 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:14.454 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:14.454 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:12:14.454 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:12:14.477 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:12:14.477 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.477 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:14.481 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.5546ms
2020-12-13 22:12:14.481 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:12:14.482 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.0683 ms
2020-12-13 22:12:14.485 -04:00 [INF] Request finished in 108.2832ms 200 application/json; charset=utf-8
2020-12-13 22:12:17.165 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:17.165 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:17.165 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:17.170 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:17.170 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:17.170 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:17.170 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:17.184 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:17.184 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:17.185 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:17.185 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:17.185 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:17.189 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:17.190 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:17.190 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.190 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.190 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:17.192 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:17.193 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:17.193 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:17.193 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:18.595 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.679 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.680 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:12:20.818 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:20.897 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:12:20.968 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:12:20.969 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:12:21.121 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:12:21.160 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:21.191 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-13 22:12:21.216 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.475 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.483 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:21.525 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:21.567 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.603 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.613 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.623 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.626 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.629 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:21.637 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:21.639 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:21.644 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.757 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:12:36.759 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:12:36.769 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:12:36.771 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:36.771 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:36.771 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.772 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.772 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:36.797 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:36.804 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.808 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.813 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:36.816 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:36.816 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:36.816 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:37.943 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal 
    }
    )'
2020-12-13 22:12:38.102 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:12:38.139 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 20945.6397ms.
2020-12-13 22:12:38.139 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:38.139 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.140 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:38.140 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:38.141 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:38.141 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:38.141 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:38.141 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:12:38.141 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:12:38.143 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:38.143 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.143 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:38.143 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 20958.874ms
2020-12-13 22:12:38.144 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:38.145 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 20979.4519 ms
2020-12-13 22:12:38.147 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:12:38.149 -04:00 [INF] Request finished in 20983.9859ms 400 text/plain; charset=utf-8
2020-12-13 22:12:45.909 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:45.910 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:45.910 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:45.911 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:45.911 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:45.912 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:45.912 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:45.912 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:45.913 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:45.913 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:45.913 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:45.913 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:45.913 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:45.914 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:45.914 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:45.914 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:45.914 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:47.991 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:49.168 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:49.170 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:49.171 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:49.171 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.171 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.171 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:49.175 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.177 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:49.177 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:49.177 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:49.177 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.177 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:49.179 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:49.179 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:49.179 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.179 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:49.180 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = (int)x.Cantidad, 
        Precio = (double)x.Precio, 
        Subtotal = (double)x.Subtotal 
    }
    )'
2020-12-13 22:12:49.297 -04:00 [ERR] Error al obtener el historial de venta con ID
System.InvalidOperationException: A tracking query is attempting to project an owned entity without a corresponding owner in its result, but owned entities cannot be tracked without their owner. Either include the owner entity in the result or make the query non-tracking using 'AsNoTracking'.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.EntityMaterializerInjectingExpressionVisitor.Inject(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.InjectEntityMaterializers(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at System.Linq.Expressions.MemberInitExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.ProcessShaper(Expression shaperExpression, RelationalCommandCache& relationalCommandCache, LambdaExpression& relatedDataLoaders)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Tienda.Ventas.Infraestructura.Persistence.Repository.VentaRepository.GetHistorialVentas(Guid clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Infraestructura\Persistence\Repository\VentaRepository.cs:line 31
   at Tienda.Ventas.Applicacion.Features.Venta.GetHistorialVentaByUsuario.GetHistorialVentaByClienteHandler.Handle(GetHistorialVentaByClienteQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Venta\GetHistorialVentaByCliente\GetHistorialVentaByClienteHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId(String clienteID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\VentasController.cs:line 52
2020-12-13 22:12:49.298 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3384.0393ms.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.298 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:49.299 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:12:49.299 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:12:49.299 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:12:49.299 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:12:49.299 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 22:12:49.299 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 22:12:49.299 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 22:12:49.299 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.299 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:12:49.299 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 3386.561ms
2020-12-13 22:12:49.299 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:49.300 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 400 in 3389.2881 ms
2020-12-13 22:12:49.300 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:12:49.300 -04:00 [INF] Request finished in 3391.2175ms 400 text/plain; charset=utf-8
2020-12-13 22:12:52.571 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:12:52.571 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:12:52.572 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:12:52.572 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:52.572 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:12:52.572 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:52.572 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:12:52.572 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:12:52.573 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:12:52.573 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:52.573 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:12:52.574 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:12:52.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:52.575 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:12:52.575 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:12:52.575 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:12:54.657 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:12:56.347 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:12:56.361 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:56.361 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:56.361 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.361 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.361 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:56.364 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:12:56.365 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.365 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:56.386 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:56.386 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:56.386 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:12:58.992 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:12:58.992 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:58.992 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:58.995 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:12:58.996 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:12:59.014 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:12:59.014 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:12:59.014 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:12.030 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 22:13:12.049 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 22:13:13.890 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()'
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Cantidad'.
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Precio'.
2020-12-13 22:13:13.890 -04:00 [DBG] Including navigation: 'DetalleVenta.Subtotal'.
2020-12-13 22:13:13.897 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVenta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.ProductoId, d.VentaId, d.cantidad, d.precio, d.subtotal
        FROM DetalleVentas AS d), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVenta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:13:13.899 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:13:13.899 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:13:13.900 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.900 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.901 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:13.903 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:13.914 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.921 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.929 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.936 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:13:13.939 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:13:13.939 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:13.939 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:43.190 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 22:13:43.195 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 22:13:48.278 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:13:48.279 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-12-13 22:13:48.279 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.279 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.279 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:48.283 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ProductoId], [d].[VentaId], [d].[cantidad], [d].[precio], [d].[subtotal]
FROM [DetalleVentas] AS [d]
2020-12-13 22:13:48.283 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:13:48.283 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:13:48.283 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:21.431 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:14:21.601 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:14:21.629 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:14:21.631 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:14:21.631 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:14:21.636 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:14:21.660 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:14:21.664 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:14:21.664 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.665 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.673 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:14:21.687 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:14:21.690 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:14:21.691 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:14:21.691 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:14:21.691 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:14:21.691 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.692 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.695 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:14:21.699 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8981ms.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.700 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.701 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:14:21.702 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:14:21.703 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:14:21.703 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:14:21.703 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:14:21.704 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:14:21.704 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:14:21.726 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:14:21.726 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.726 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:21.729 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.4118ms
2020-12-13 22:14:21.730 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:14:21.731 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 93.4814 ms
2020-12-13 22:14:21.734 -04:00 [INF] Request finished in 108.0915ms 200 application/json; charset=utf-8
2020-12-13 22:14:28.929 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:14:28.929 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:14:28.929 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:14:28.932 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:14:28.934 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:14:28.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:28.935 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:28.950 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:14:28.950 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:14:28.950 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:14:28.951 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:14:28.954 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:14:28.956 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:14:28.956 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.956 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.956 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:14:28.957 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:28.958 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:28.958 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:14:28.958 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:14:31.818 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.290 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.291 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:14:34.421 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:14:34.503 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:14:34.571 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:14:34.572 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:14:34.573 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:14:34.719 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:14:34.760 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:34.791 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 22:14:34.817 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.080 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.088 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:14:35.133 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:14:35.176 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.212 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.223 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.232 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.236 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.239 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:35.247 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:35.250 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:35.254 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.847 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:14:50.848 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:14:50.849 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:14:50.849 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:14:50.859 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:14:50.861 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:50.861 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:14:50.861 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.862 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.862 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:50.885 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:50.892 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.897 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.901 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:14:50.905 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:50.905 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:50.905 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.524 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value 
    }
    )'
2020-12-13 22:14:51.533 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Cantidad -> 0
            Precio -> 1
            Subtotal -> 2
        SELECT d.cantidad AS Cantidad, d.precio AS Precio, d.subtotal AS Subtotal
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:14:51.534 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:14:51.534 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:14:51.534 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.534 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.534 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad] AS [Cantidad], [d].[precio] AS [Precio], [d].[subtotal] AS [Subtotal]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:51.555 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad] AS [Cantidad], [d].[precio] AS [Precio], [d].[subtotal] AS [Subtotal]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:14:51.556 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:14:51.556 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:51.556 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:14:58.541 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29582.5374ms.
2020-12-13 22:14:58.541 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:58.541 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.542 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:14:58.542 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:14:58.543 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:14:58.543 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:14:58.543 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:14:58.543 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:14:58.543 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:14:58.552 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:14:58.552 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.552 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:14:58.553 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 29602.7321ms
2020-12-13 22:14:58.553 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:14:58.554 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 29624.5841 ms
2020-12-13 22:14:58.555 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:14:58.557 -04:00 [INF] Request finished in 29628.2333ms 200 application/json; charset=utf-8
2020-12-13 22:16:39.699 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:16:39.874 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:16:39.900 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:16:39.902 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:16:39.903 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:16:39.908 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:16:39.933 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:16:39.937 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:16:39.938 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:39.940 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:39.947 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:16:39.962 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:16:39.965 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:16:39.966 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:16:39.966 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:16:39.966 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.967 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.970 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:16:39.974 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.9511ms.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:39.975 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:39.976 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:16:39.976 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:16:39.978 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:16:39.978 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:16:39.978 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:16:39.979 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:16:39.979 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:16:40.001 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:16:40.001 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:40.001 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:40.004 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 35.8118ms
2020-12-13 22:16:40.005 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:16:40.006 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 96.3857 ms
2020-12-13 22:16:40.009 -04:00 [INF] Request finished in 112.0425ms 200 application/json; charset=utf-8
2020-12-13 22:16:44.978 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:16:44.979 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:16:44.979 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:16:44.984 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:16:44.984 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:16:44.984 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:44.984 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:44.999 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:16:44.999 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:16:45.000 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:16:45.000 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:16:45.000 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:16:45.000 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:16:45.004 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:16:45.005 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:16:45.006 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.006 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.006 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:16:45.007 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:45.008 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:45.008 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:16:45.008 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:16:47.281 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.642 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.643 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:16:48.764 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:16:48.832 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:16:48.903 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:16:48.904 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:16:49.048 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:16:49.088 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.121 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2020-12-13 22:16:49.146 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.376 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.386 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:16:49.427 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:16:49.469 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.505 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.515 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.525 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.528 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.531 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.539 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.541 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.545 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.547 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:16:49.548 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:16:49.557 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:16:49.559 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.559 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:16:49.559 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.560 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.560 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.564 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.570 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.574 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.579 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:16:49.581 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.581 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.581 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.585 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Id = x.Id, 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value
        ) 
    }
    )'
2020-12-13 22:16:49.594 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.Id, d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:16:49.594 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:16:49.594 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:16:49.594 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.594 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.594 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.598 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:16:49.600 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:16:49.600 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.600 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:16:49.604 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4595.9627ms.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:49.605 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.606 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:16:49.606 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:16:49.606 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:16:49.606 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:16:49.606 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:16:49.606 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:16:49.606 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:16:49.613 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:16:49.613 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.613 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:16:49.614 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 4614.035ms
2020-12-13 22:16:49.614 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:16:49.615 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 4635.8837 ms
2020-12-13 22:16:49.616 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:16:49.618 -04:00 [INF] Request finished in 4639.5434ms 200 application/json; charset=utf-8
2020-12-13 22:19:14.187 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:19:14.368 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:19:14.395 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:19:14.398 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:19:14.398 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:19:14.403 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:19:14.427 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:19:14.431 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:19:14.432 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.433 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.440 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:19:14.459 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:19:14.462 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:19:14.463 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:19:14.463 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.463 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.467 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:19:14.471 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.889ms.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.472 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.473 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:19:14.473 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:19:14.475 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:19:14.475 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:19:14.475 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:19:14.475 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:19:14.476 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:19:14.499 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:19:14.499 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.499 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:14.503 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.0274ms
2020-12-13 22:19:14.503 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:19:14.505 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 100.1318 ms
2020-12-13 22:19:14.508 -04:00 [INF] Request finished in 115.2783ms 200 application/json; charset=utf-8
2020-12-13 22:19:30.402 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 22:19:30.402 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:19:30.402 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 22:19:30.403 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:19:30.403 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 22:19:30.403 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:30.403 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:30.418 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:19:30.418 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:19:30.418 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:19:30.419 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 22:19:30.422 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:19:30.424 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 22:19:30.424 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.424 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.424 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 22:19:30.425 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:30.426 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:30.426 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:19:30.426 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 22:19:34.329 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 22:19:34.889 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.890 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:34.891 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 22:19:35.014 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 22:19:35.085 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 22:19:35.154 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 22:19:35.155 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 22:19:35.300 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:19:35.341 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.382 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2020-12-13 22:19:35.409 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.642 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.651 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:19:35.693 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 22:19:35.735 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.771 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.782 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.791 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.794 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.797 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.805 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.808 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.812 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.815 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 22:19:35.816 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 22:19:35.825 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCancelacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 22:19:35.827 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.827 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:19:35.827 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.828 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.828 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.832 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCancelacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.843 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.847 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 22:19:35.850 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.850 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.850 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.853 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value
        ) 
    }
    )'
2020-12-13 22:19:35.863 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 22:19:35.863 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 22:19:35.863 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 22:19:35.863 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.863 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.863 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.866 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 22:19:35.868 -04:00 [DBG] A data reader was disposed.
2020-12-13 22:19:35.868 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.868 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 22:19:35.872 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5445.4541ms.
2020-12-13 22:19:35.872 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:35.872 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.873 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:19:35.873 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:19:35.874 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:19:35.874 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:19:35.874 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:19:35.874 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:19:35.874 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 22:19:35.884 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 22:19:35.884 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.884 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:19:35.885 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 5466.4361ms
2020-12-13 22:19:35.885 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 22:19:35.886 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 5484.0021 ms
2020-12-13 22:19:35.887 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 22:19:35.888 -04:00 [INF] Request finished in 5486.9698ms 200 application/json; charset=utf-8
2020-12-13 22:25:03.463 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 22:25:03.636 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 22:25:03.665 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 22:25:03.667 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 22:25:03.667 -04:00 [VRB] All hosts are allowed.
2020-12-13 22:25:03.672 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 22:25:03.695 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 22:25:03.701 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 22:25:03.701 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.703 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.710 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 22:25:03.725 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 22:25:03.728 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 22:25:03.729 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 22:25:03.729 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:25:03.730 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.730 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.734 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 22:25:03.738 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.97ms.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 22:25:03.738 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.739 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:25:03.740 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 22:25:03.742 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 22:25:03.742 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 22:25:03.742 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 22:25:03.742 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 22:25:03.742 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 22:25:03.766 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 22:25:03.766 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.766 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 22:25:03.770 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 37.4873ms
2020-12-13 22:25:03.770 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 22:25:03.771 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 97.4837 ms
2020-12-13 22:25:03.774 -04:00 [INF] Request finished in 112.0831ms 200 application/json; charset=utf-8
2020-12-13 23:18:23.171 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:18:23.341 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:18:23.373 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/weatherforecast  
2020-12-13 23:18:23.376 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:18:23.376 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:18:23.380 -04:00 [DBG] The request path /weatherforecast does not match a supported file type
2020-12-13 23:18:23.404 -04:00 [DBG] 1 candidate(s) found for the request path '/weatherforecast'
2020-12-13 23:18:23.408 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)' with route pattern 'WeatherForecast' is valid for the request path '/weatherforecast'
2020-12-13 23:18:23.409 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.410 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.417 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:18:23.432 -04:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Tienda.Ventas.WebApp.WeatherForecast] Get() on controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp).
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:18:23.435 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:18:23.436 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:18:23.436 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:18:23.436 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 23:18:23.436 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.WeatherForecastController (Tienda.Ventas.WebApp)
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.437 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.440 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:18:23.444 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.8987ms.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.445 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.446 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 23:18:23.447 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:18:23.448 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:18:23.448 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:18:23.448 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:18:23.449 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:18:23.449 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.WebApp.WeatherForecast[]'.
2020-12-13 23:18:23.472 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-12-13 23:18:23.472 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.472 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:23.476 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp) in 36.5035ms
2020-12-13 23:18:23.476 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.WeatherForecastController.Get (Tienda.Ventas.WebApp)'
2020-12-13 23:18:23.477 -04:00 [INF] HTTP GET /weatherforecast responded 200 in 94.9189 ms
2020-12-13 23:18:23.480 -04:00 [INF] Request finished in 109.1561ms 200 application/json; charset=utf-8
2020-12-13 23:18:35.554 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:18:35.554 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:18:35.554 -04:00 [DBG] POST requests are not supported
2020-12-13 23:18:35.556 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:18:35.556 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:18:35.556 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:35.557 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:35.574 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:18:35.574 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:18:35.575 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:18:35.575 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:18:35.575 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:18:35.575 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:18:35.579 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:18:35.580 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:18:35.581 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:18:35.588 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:18:35.588 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.588 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.588 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:18:35.593 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:35.594 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:35.594 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:18:35.594 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:18:44.329 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.675 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.676 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:18:51.796 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:18:51.874 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Where(v => v.Id.Equals(__ventaID_0))
    .FirstOrDefault()'
2020-12-13 23:18:52.024 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Venta>(
    asyncEnumerable: new SingleQueryingEnumerable<Venta>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Venta.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Venta.ClienteId (no field, Nullable<Guid>) Shadow FK Index, 1], [Property: Venta.EstadoVenta (EstadoVenta) Required, 2], [Property: Venta.FechaAnulacion (Nullable<DateTime>), 3], [Property: Venta.FechaCreacion (DateTime) Required, 4], [Property: Venta.FechaFinalizacion (Nullable<DateTime>), 5], }
            SELECT TOP(1) v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Ventas AS v
            WHERE v.Id == @__ventaID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:18:52.055 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:18:52.095 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2020-12-13 23:18:52.122 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.371 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.379 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:18:52.421 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:18:52.459 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.492 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:18:52.494 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.499 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.502 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:18:52.504 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:18:52.512 -04:00 [DBG] The unchanged property 'Venta.EstadoVenta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:18:52.518 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.520 -04:00 [DBG] The unchanged property 'Venta.FechaFinalizacion' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:18:52.523 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:18:52.536 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.537 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.538 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:18:52.544 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:18:52.576 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:18:52.576 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:18:52.578 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaFinalizacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:18:52.585 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaFinalizacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:18:52.591 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:18:52.593 -04:00 [DBG] Committing transaction.
2020-12-13 23:18:52.596 -04:00 [DBG] Committed transaction.
2020-12-13 23:18:52.597 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.598 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:18:52.600 -04:00 [DBG] Disposing transaction.
2020-12-13 23:18:52.606 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:18:52.608 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:18:55.573 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19978.1451ms.
2020-12-13 23:18:55.573 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:55.574 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.575 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:18:55.575 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:18:55.576 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:18:55.576 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:18:55.576 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:18:55.576 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:18:55.576 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:18:55.578 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:18:55.578 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.578 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:18:55.578 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 20003.4553ms
2020-12-13 23:18:55.578 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:18:55.579 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 200 in 20024.8793 ms
2020-12-13 23:18:55.581 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:18:55.583 -04:00 [INF] Request finished in 20030.6014ms 200 text/plain; charset=utf-8
2020-12-13 23:19:20.421 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:19:20.421 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:19:20.422 -04:00 [DBG] POST requests are not supported
2020-12-13 23:19:20.424 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:19:20.424 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:19:20.425 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:20.425 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:20.425 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:19:20.426 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:19:20.426 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:20.426 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:20.432 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:20.433 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:19:20.433 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:19:20.433 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.433 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:20.433 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:20.434 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:20.434 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:19:20.434 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:19:33.728 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:19:33.754 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:19:33.756 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:19:33.756 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:19:33.757 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.757 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.757 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:19:33.761 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:19:33.762 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:19:33.763 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:19:33.763 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.763 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:19:33.883 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Finalizada al estado Finalizada
2020-12-13 23:19:33.884 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13450.0029ms.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.884 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:19:33.884 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:19:33.885 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:19:33.885 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:19:33.885 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:19:33.885 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:19:33.885 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:19:33.885 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:19:33.885 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.885 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:19:33.885 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 13459.451ms
2020-12-13 23:19:33.885 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:33.886 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 400 in 13463.4369 ms
2020-12-13 23:19:33.886 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:19:33.886 -04:00 [INF] Request finished in 13468.3205ms 400 text/plain; charset=utf-8
2020-12-13 23:19:57.566 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/anular application/json 59
2020-12-13 23:19:57.566 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:19:57.566 -04:00 [DBG] POST requests are not supported
2020-12-13 23:19:57.566 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/anular'
2020-12-13 23:19:57.566 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/anular' is valid for the request path '/api/ventas/anular'
2020-12-13 23:19:57.567 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:57.567 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:19:57.570 -04:00 [INF] Route matched with {action = "AnularVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AnularVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:19:57.570 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:19:57.570 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:57.570 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:19:57.571 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:19:57.571 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:19:57.571 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.571 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.571 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:19:57.572 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:57.572 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:19:57.572 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:19:57.572 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:20:04.790 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:20:05.542 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:05.543 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:05.543 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:05.543 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.544 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.544 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:05.550 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:05.551 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:05.566 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:05.568 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:05.568 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:07.946 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Finalizada al estado Anulada
2020-12-13 23:20:07.947 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 10375.0038ms.
2020-12-13 23:20:07.947 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:07.948 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.949 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.949 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:20:07.949 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:07.949 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:07.950 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:07.950 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:07.950 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:07.950 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:07.951 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:20:07.952 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.952 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:07.952 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) in 10381.6281ms
2020-12-13 23:20:07.952 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:07.952 -04:00 [INF] HTTP POST /api/ventas/anular responded 400 in 10385.8396 ms
2020-12-13 23:20:07.953 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:07.953 -04:00 [INF] Request finished in 10410.2223ms 400 text/plain; charset=utf-8
2020-12-13 23:20:22.258 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 342
2020-12-13 23:20:22.258 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:20:22.258 -04:00 [DBG] POST requests are not supported
2020-12-13 23:20:22.258 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 23:20:22.258 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 23:20:22.258 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.258 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.262 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:20:22.262 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:20:22.262 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:22.262 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:22.263 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:20:22.263 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 23:20:22.263 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:20:22.271 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 23:20:22.271 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.271 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.271 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:20:22.273 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.273 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.274 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:20:22.274 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 23:20:22.274 -04:00 [INF] Insertando venta con los parametros
2020-12-13 23:20:22.279 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:22.280 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:20:22.285 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:20:22.306 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:20:22.306 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.307 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.307 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.307 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.307 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:20:22.310 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:20:22.325 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.329 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.343 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.346 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.350 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.352 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.352 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.352 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.371 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.381 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.385 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.387 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.388 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 23:20:22.389 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:20:22.389 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:20:22.394 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:20:22.394 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.394 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.394 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.394 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.394 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:20:22.396 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:20:22.404 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.407 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.411 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.417 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.417 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.417 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.431 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.438 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.440 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.442 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.442 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:22.442 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:22.453 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:20:22.453 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.454 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.454 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:20:22.454 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:20:22.463 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.463 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.463 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.466 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.466 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.471 -04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2020-12-13 23:20:22.472 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.472 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.472 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.474 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:20:22.474 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.474 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:22.474 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:22.475 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:20:22.476 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:20:22.476 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:22.476 -04:00 [DBG] Committing transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] Committed transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.479 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:22.479 -04:00 [DBG] Disposing transaction.
2020-12-13 23:20:22.479 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:22.480 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2020-12-13 23:20:22.481 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 207.0762ms.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.481 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:22.481 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:22.481 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:22.481 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:22.481 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:22.481 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:22.481 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:22.482 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:22.482 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.482 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:22.482 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 219.4689ms
2020-12-13 23:20:22.483 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:22.483 -04:00 [INF] HTTP POST /api/ventas responded 200 in 224.6848 ms
2020-12-13 23:20:22.483 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:22.483 -04:00 [INF] Request finished in 225.4497ms 200 text/plain; charset=utf-8
2020-12-13 23:20:38.425 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/anular application/json 59
2020-12-13 23:20:38.426 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:20:38.426 -04:00 [DBG] POST requests are not supported
2020-12-13 23:20:38.426 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/anular'
2020-12-13 23:20:38.426 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/anular' is valid for the request path '/api/ventas/anular'
2020-12-13 23:20:38.426 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:38.426 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:38.426 -04:00 [INF] Route matched with {action = "AnularVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AnularVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:20:38.426 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:20:38.427 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:20:38.427 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:20:38.427 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:38.427 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:20:38.427 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:20:38.427 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:20:38.427 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:20:38.428 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:20:38.428 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:38.428 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:38.428 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:20:38.428 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:20:39.999 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:20:40.003 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:20:40.004 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:40.004 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:40.005 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.005 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.005 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:40.010 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:20:40.011 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.011 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:40.011 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.011 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.012 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:40.012 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:20:40.012 -04:00 [DBG] The unchanged property 'Venta.EstadoVenta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:20:40.012 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.012 -04:00 [DBG] The unchanged property 'Venta.FechaAnulacion' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-12-13 23:20:40.012 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:20:40.013 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.013 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.013 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:20:40.013 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:20:40.014 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:20:40.014 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:20:40.014 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaAnulacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:20:40.016 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Ventas] SET [estado] = @p0, [fechaAnulacion] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2020-12-13 23:20:40.016 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:20:40.016 -04:00 [DBG] Committing transaction.
2020-12-13 23:20:40.017 -04:00 [DBG] Committed transaction.
2020-12-13 23:20:40.017 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.017 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:20:40.017 -04:00 [DBG] Disposing transaction.
2020-12-13 23:20:40.018 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:20:40.018 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:20:40.018 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1590.1796ms.
2020-12-13 23:20:40.018 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:40.018 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.019 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:40.019 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:20:40.019 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:20:40.019 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:20:40.019 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:20:40.019 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:20:40.019 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:20:40.020 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:20:40.020 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.020 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:20:40.020 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp) in 1593.169ms
2020-12-13 23:20:40.020 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.AnularVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:20:40.020 -04:00 [INF] HTTP POST /api/ventas/anular responded 200 in 1594.2807 ms
2020-12-13 23:20:40.020 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:20:40.020 -04:00 [INF] Request finished in 1595.0232ms 200 text/plain; charset=utf-8
2020-12-13 23:21:00.378 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas/finalizar application/json 59
2020-12-13 23:21:00.378 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:21:00.380 -04:00 [DBG] POST requests are not supported
2020-12-13 23:21:00.380 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/finalizar'
2020-12-13 23:21:00.380 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/finalizar' is valid for the request path '/api/ventas/finalizar'
2020-12-13 23:21:00.380 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:00.380 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:00.381 -04:00 [INF] Route matched with {action = "FinalizarVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinalizarVenta(Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:21:00.381 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:21:00.381 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:21:00.381 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:21:00.381 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:21:00.381 -04:00 [DBG] Attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' using the name '' in request data ...
2020-12-13 23:21:00.381 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:21:00.382 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to bind parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [DBG] Attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand' ...
2020-12-13 23:21:00.382 -04:00 [DBG] Done attempting to validate the bound parameter 'updateStateVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand'.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:00.382 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:00.382 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:21:00.382 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.UpdateStateVenta.UpdateStateVentaCommand"])
2020-12-13 23:21:05.828 -04:00 [INF] Finalizando venta con parametros ->
2020-12-13 23:21:05.830 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:21:05.834 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:21:05.834 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:21:05.834 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.834 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.834 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:21:05.837 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ventaID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Ventas] AS [v]
WHERE [v].[Id] = @__ventaID_0
2020-12-13 23:21:05.838 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:21:05.838 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:21:05.838 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.838 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:21:05.935 -04:00 [ERR] Error al finalizar la venta con los parametros
Tienda.Ventas.Domain.Model.Ventas.Rules.ChangeVentaStatusRule: No se puede cambiar del estado Anulada al estado Finalizada
2020-12-13 23:21:05.935 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5552.6557ms.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.935 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:21:05.935 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:21:05.935 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:21:05.935 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:21:05.935 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:21:05.935 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:21:05.935 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:21:05.936 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:21:05.936 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.936 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:21:05.936 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp) in 5555.0405ms
2020-12-13 23:21:05.936 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.FinalizarVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:21:05.936 -04:00 [INF] HTTP POST /api/ventas/finalizar responded 400 in 5556.0098 ms
2020-12-13 23:21:05.936 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:21:05.936 -04:00 [INF] Request finished in 5559.5284ms 400 text/plain; charset=utf-8
2020-12-13 23:22:28.648 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:22:28.836 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:22:28.864 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/productos  
2020-12-13 23:22:28.866 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:22:28.866 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:28.871 -04:00 [DBG] The request path /productos does not match a supported file type
2020-12-13 23:22:28.891 -04:00 [DBG] No candidates found for the request path '/productos'
2020-12-13 23:22:28.891 -04:00 [DBG] Request did not match any endpoints
2020-12-13 23:22:28.894 -04:00 [INF] HTTP GET /productos responded 404 in 21.2166 ms
2020-12-13 23:22:28.909 -04:00 [INF] Request finished in 47.5232ms 404 
2020-12-13 23:22:37.079 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productps  
2020-12-13 23:22:37.080 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:37.080 -04:00 [DBG] The request path /api/productps does not match a supported file type
2020-12-13 23:22:37.083 -04:00 [DBG] No candidates found for the request path '/api/productps'
2020-12-13 23:22:37.083 -04:00 [DBG] Request did not match any endpoints
2020-12-13 23:22:37.083 -04:00 [INF] HTTP GET /api/productps responded 404 in 2.7533 ms
2020-12-13 23:22:37.086 -04:00 [INF] Request finished in 6.6652ms 404 
2020-12-13 23:22:39.926 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:22:39.926 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:39.926 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:22:39.931 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:22:39.935 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:22:39.935 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:39.936 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:39.942 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:22:39.964 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:22:39.967 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:22:39.968 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:22:39.968 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:39.969 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:39.969 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:39.973 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:22:39.974 -04:00 [INF] Obteniendo productos...
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.514 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.515 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:40.635 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:22:40.689 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:22:40.709 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:22:40.709 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:22:40.847 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:22:40.877 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:22:40.908 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 23:22:40.912 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.157 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.164 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:41.195 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:41.230 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.249 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.260 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:41.270 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:22:41.274 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.278 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:41.285 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1309.214ms.
2020-12-13 23:22:41.285 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:41.286 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.287 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:41.288 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:22:41.290 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:22:41.290 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:22:41.290 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:22:41.290 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:22:41.290 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:22:41.304 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:41.304 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.304 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:41.309 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1337.0092ms
2020-12-13 23:22:41.309 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:41.310 -04:00 [INF] HTTP GET /api/productos responded 200 in 1383.2081 ms
2020-12-13 23:22:41.313 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:22:41.315 -04:00 [INF] Request finished in 1389.0445ms 200 application/json; charset=utf-8
2020-12-13 23:22:57.229 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:22:57.419 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:22:57.445 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:22:57.448 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:22:57.448 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:22:57.452 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:22:57.480 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:22:57.484 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:22:57.485 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:57.486 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:57.494 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:22:57.515 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:22:57.518 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:22:57.519 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:22:57.519 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:57.520 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:57.520 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:57.523 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:22:57.525 -04:00 [INF] Obteniendo productos...
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.071 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.072 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.073 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:22:58.197 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:22:58.250 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:22:58.269 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:22:58.270 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:22:58.403 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:22:58.431 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:22:58.460 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2020-12-13 23:22:58.465 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.713 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.720 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:58.750 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:22:58.787 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.806 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.819 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:22:58.829 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:22:58.832 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.836 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:22:58.843 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1316.3471ms.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:58.844 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:22:58.845 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.845 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.846 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:58.846 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:22:58.848 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:22:58.848 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:22:58.848 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:22:58.849 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:22:58.849 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:22:58.872 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:22:58.872 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.872 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:22:58.876 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1354.0984ms
2020-12-13 23:22:58.877 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:22:58.879 -04:00 [INF] HTTP GET /api/productos responded 200 in 1425.0180 ms
2020-12-13 23:22:58.883 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:22:58.884 -04:00 [INF] Request finished in 1442.199ms 200 application/json; charset=utf-8
2020-12-13 23:23:32.177 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:23:32.344 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:23:32.371 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:23:32.373 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:23:32.373 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:23:32.377 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:23:32.400 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:23:32.404 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:23:32.405 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:32.406 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:32.413 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:23:32.434 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:23:32.437 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:23:32.438 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:23:32.438 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:32.439 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:32.443 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:23:32.444 -04:00 [INF] Obteniendo productos...
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.976 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:32.977 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:23:33.097 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:23:33.155 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:23:33.175 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:23:33.175 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:23:33.315 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:23:33.341 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:23:33.372 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2020-12-13 23:23:33.377 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.628 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.635 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:23:33.667 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:23:33.705 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.725 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.736 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:23:33.747 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:23:33.749 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.753 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:23:33.761 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1314.1398ms.
2020-12-13 23:23:33.761 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:33.761 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.762 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.763 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:23:33.764 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:23:33.766 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:23:33.766 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:23:33.766 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:23:33.767 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:23:33.767 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:23:33.790 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:23:33.790 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.790 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:23:33.794 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1353.2318ms
2020-12-13 23:23:33.795 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:23:33.796 -04:00 [INF] HTTP GET /api/productos responded 200 in 1417.1203 ms
2020-12-13 23:23:33.800 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:23:33.802 -04:00 [INF] Request finished in 1433.8786ms 200 application/json; charset=utf-8
2020-12-13 23:24:00.524 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 23:24:00.525 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:24:00.525 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:24:00.526 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:24:00.526 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:24:00.526 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.526 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.526 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:24:00.526 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:24:00.527 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:24:00.527 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:24:00.527 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:24:00.527 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.553 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.553 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.554 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.554 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:24:00.554 -04:00 [INF] Obteniendo productos...
2020-12-13 23:24:00.579 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:24:00.579 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:24:00.580 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:24:00.580 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.581 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.581 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:24:00.586 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.586 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:24:00.587 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:24:00.587 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.587 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:24:00.587 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.2276ms.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.587 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:24:00.587 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:24:00.588 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:24:00.588 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:24:00.588 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:24:00.588 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:24:00.588 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:24:00.588 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:24:00.588 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.588 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:24:00.588 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 61.7788ms
2020-12-13 23:24:00.588 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:24:00.588 -04:00 [INF] HTTP GET /api/productos responded 200 in 63.6010 ms
2020-12-13 23:24:00.589 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:24:00.589 -04:00 [INF] Request finished in 66.5444ms 200 application/json; charset=utf-8
2020-12-13 23:26:07.828 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-12-13 23:26:08.008 -04:00 [DBG] Loaded hosting startup assembly Tienda.Ventas.WebApp
2020-12-13 23:26:08.038 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44388/api/productos  
2020-12-13 23:26:08.040 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-12-13 23:26:08.040 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:08.045 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:26:08.065 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:08.069 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:08.070 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:08.071 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:08.079 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-12-13 23:26:08.099 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:08.102 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:08.103 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:08.103 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:08.103 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:08.104 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:08.104 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:08.107 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:08.109 -04:00 [INF] Obteniendo productos...
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.EmailValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.PasswordValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ProductoId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'VentaId.DetalleVenta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'VentaId.Factura' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ClienteId.Venta' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'FacturaId.NITValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'DetalleVentaId.NumMayorACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.639 -04:00 [DBG] The property 'ProductoId.ProductoNombreValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ProductoId.ProductoPrecioValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'FacturaId.RazonSocialValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ClienteId.Cliente.Apellidos#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'ClienteId.Cliente.Nombres#PersonNameValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Precio#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.640 -04:00 [DBG] The property 'DetalleVentaId.DetalleVenta.Subtotal#DoubleMayorIgualACeroValue' was created in shadow state because there are no eligible CLR members with a matching name.
2020-12-13 23:26:08.760 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:08.814 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()'
2020-12-13 23:26:08.834 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:26:08.834 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:26:08.975 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Producto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT p.Id, p.urlImagen, p.nombre, p.precio
        FROM Productos AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:26:09.005 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:09.035 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2020-12-13 23:26:09.040 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.288 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.295 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:09.326 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:09.362 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.386 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.398 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:09.409 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:09.411 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.416 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:09.423 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1312.4159ms.
2020-12-13 23:26:09.424 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:09.424 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:09.425 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:09.425 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.426 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:09.427 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:09.429 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:09.429 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:09.429 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:09.430 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:26:09.430 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:26:09.454 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:09.454 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.454 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:09.458 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 1352.4112ms
2020-12-13 23:26:09.459 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:09.461 -04:00 [INF] HTTP GET /api/productos responded 200 in 1414.5550 ms
2020-12-13 23:26:09.465 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:09.467 -04:00 [INF] Request finished in 1431.6988ms 200 application/json; charset=utf-8
2020-12-13 23:26:45.353 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/productos application/json 128
2020-12-13 23:26:45.353 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:45.353 -04:00 [DBG] POST requests are not supported
2020-12-13 23:26:45.354 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:45.354 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:45.354 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.354 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.367 -04:00 [INF] Route matched with {action = "InsertProducto", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertProducto(Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:45.368 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:45.368 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:45.368 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:45.378 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 23:26:45.380 -04:00 [DBG] Attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' using the name '' in request data ...
2020-12-13 23:26:45.380 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:26:45.387 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'
2020-12-13 23:26:45.387 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.387 -04:00 [DBG] Done attempting to bind parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.387 -04:00 [DBG] Attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand' ...
2020-12-13 23:26:45.390 -04:00 [DBG] Done attempting to validate the bound parameter 'productoCommand' of type 'Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand'.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.391 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.391 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:45.391 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Producto.InsertProducto.InsertProductoCommand"])
2020-12-13 23:26:45.392 -04:00 [INF] Insertando producto con los parametros
2020-12-13 23:26:45.417 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:45.434 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.439 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.439 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.442 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:26:45.444 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:26:45.452 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:26:45.464 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.465 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.466 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:26:45.473 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:26:45.527 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:45.527 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:45.537 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 23:26:45.558 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 20) (Scale = 12) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Productos] ([Id], [urlImagen], [nombre], [precio])
VALUES (@p0, @p1, @p2, @p3);
2020-12-13 23:26:45.563 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:45.565 -04:00 [DBG] Committing transaction.
2020-12-13 23:26:45.571 -04:00 [DBG] Committed transaction.
2020-12-13 23:26:45.574 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.574 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:45.577 -04:00 [DBG] Disposing transaction.
2020-12-13 23:26:45.591 -04:00 [DBG] An entity of type 'Producto' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.592 -04:00 [DBG] An entity of type 'ProductoNombreValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.592 -04:00 [DBG] An entity of type 'ProductoPrecioValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:45.594 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:26:45.594 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 203.1002ms.
2020-12-13 23:26:45.594 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.595 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:45.595 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:45.595 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:45.595 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:45.595 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:45.595 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:26:45.595 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:26:45.600 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:45.600 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.600 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:45.600 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp) in 232.4049ms
2020-12-13 23:26:45.600 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.InsertProducto (Tienda.Ventas.WebApp)'
2020-12-13 23:26:45.600 -04:00 [INF] HTTP POST /api/productos responded 200 in 246.9233 ms
2020-12-13 23:26:45.601 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:45.601 -04:00 [INF] Request finished in 252.8061ms 200 text/plain; charset=utf-8
2020-12-13 23:26:49.141 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos  
2020-12-13 23:26:49.142 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:49.142 -04:00 [DBG] The request path /api/productos does not match a supported file type
2020-12-13 23:26:49.142 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos'
2020-12-13 23:26:49.143 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)' with route pattern 'api/Productos' is valid for the request path '/api/productos'
2020-12-13 23:26:49.143 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.143 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.144 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:49.145 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:49.145 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:49.145 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:49.145 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.146 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.146 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:49.146 -04:00 [INF] Obteniendo productos...
2020-12-13 23:26:49.154 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:49.155 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:49.155 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:49.155 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.155 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.155 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:49.158 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
2020-12-13 23:26:49.159 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.159 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:26:49.160 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:49.160 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.161 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:49.161 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.9173ms.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.161 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:49.161 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:26:49.161 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:26:49.161 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:26:49.161 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:26:49.161 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:26:49.161 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.ProductoDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:26:49.162 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:26:49.162 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.162 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:26:49.162 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp) in 17.3002ms
2020-12-13 23:26:49.162 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductos (Tienda.Ventas.WebApp)'
2020-12-13 23:26:49.162 -04:00 [INF] HTTP GET /api/productos responded 200 in 20.0910 ms
2020-12-13 23:26:49.162 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:26:49.163 -04:00 [INF] Request finished in 22.0671ms 200 application/json; charset=utf-8
2020-12-13 23:26:55.569 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513  
2020-12-13 23:26:55.570 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:26:55.570 -04:00 [DBG] The request path /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 does not match a supported file type
2020-12-13 23:26:55.570 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-13 23:26:55.570 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513'
2020-12-13 23:26:55.570 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:26:55.570 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:26:55.575 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:26:55.575 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:26:55.575 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:55.575 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:26:55.576 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-13 23:26:55.576 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-13 23:26:55.576 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-13 23:26:55.577 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:55.577 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:26:55.577 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:26:55.577 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["eb95c448-9c6c-4ad6-bb65-2413fb457513"])
2020-12-13 23:26:55.578 -04:00 [INF] Obteniendo producto con ID 
2020-12-13 23:26:55.582 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:26:55.591 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__productoID_0))
    .FirstOrDefault()'
2020-12-13 23:26:55.598 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:26:55.598 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:26:55.634 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__productoID_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:26:55.639 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:26:55.639 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:26:55.639 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.639 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.639 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:26:55.641 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:26:55.643 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:26:55.643 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:26:55.644 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:02.269 -04:00 [ERR] Error al obtener el producto con ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at Tienda.Ventas.Applicacion.Features.Producto.GetProductoById.GetProductoByIdHandler.Handle(GetProductoByIdQuery request, CancellationToken cancellationToken) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.Applicacion\Features\Producto\GetProductoById\GetProductoByIdHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById(String productoID) in C:\Users\javie\Documents\Universidad\Taller Web\Proyecto Final\tienda-ventas\Tienda.Ventas\Tienda.Ventas.WebApp\Controllers\ProductosController.cs:line 63
2020-12-13 23:27:02.302 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 6724.1256ms.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.302 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:02.302 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:02.302 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:02.302 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:02.302 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:02.302 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:02.302 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:02.303 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:02.303 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.303 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:02.303 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 6727.8386ms
2020-12-13 23:27:02.303 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:02.303 -04:00 [INF] HTTP GET /api/productos/eb95c448-9c6c-4ad6-bb65-2413fb457513 responded 400 in 6733.3892 ms
2020-12-13 23:27:02.304 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:02.304 -04:00 [INF] Request finished in 6734.5983ms 400 text/plain; charset=utf-8
2020-12-13 23:27:18.288 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15  
2020-12-13 23:27:18.288 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:18.289 -04:00 [DBG] The request path /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 does not match a supported file type
2020-12-13 23:27:18.289 -04:00 [DBG] 1 candidate(s) found for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-13 23:27:18.289 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)' with route pattern 'api/Productos/{productoID}' is valid for the request path '/api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15'
2020-12-13 23:27:18.289 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.289 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.290 -04:00 [INF] Route matched with {action = "GetProductoById", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductoById(System.String) on controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp).
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:18.290 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:18.290 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:27:18.290 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ProductosController (Tienda.Ventas.WebApp)
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' ...
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to bind parameter 'productoID' of type 'System.String' using the name 'productoID' in request data ...
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to bind parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [DBG] Attempting to validate the bound parameter 'productoID' of type 'System.String' ...
2020-12-13 23:27:18.291 -04:00 [DBG] Done attempting to validate the bound parameter 'productoID' of type 'System.String'.
2020-12-13 23:27:18.291 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.292 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.292 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:18.292 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) with arguments (["803d5433-0aa0-4401-b343-31d28f5e6a15"])
2020-12-13 23:27:18.292 -04:00 [INF] Obteniendo producto con ID 
2020-12-13 23:27:18.294 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:18.296 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:18.296 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:18.296 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.297 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.297 -04:00 [DBG] Executing DbCommand [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:27:18.299 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productoID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__productoID_0
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:18.300 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:18.300 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.300 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:18.301 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.5268ms.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.301 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:18.301 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:18.301 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:18.301 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:18.301 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:18.301 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:27:18.301 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ProductoDTO'.
2020-12-13 23:27:18.302 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:18.302 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.302 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:18.302 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp) in 12.1709ms
2020-12-13 23:27:18.302 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ProductosController.GetProductoById (Tienda.Ventas.WebApp)'
2020-12-13 23:27:18.303 -04:00 [INF] HTTP GET /api/productos/803d5433-0aa0-4401-b343-31d28f5e6a15 responded 200 in 13.8735 ms
2020-12-13 23:27:18.303 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:18.303 -04:00 [INF] Request finished in 15.0393ms 200 application/json; charset=utf-8
2020-12-13 23:27:33.058 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 129
2020-12-13 23:27:33.058 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:33.058 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:33.059 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-13 23:27:33.059 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-13 23:27:33.059 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.059 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.068 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:33.068 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:33.069 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:33.069 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:33.070 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:33.070 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:33.071 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-13 23:27:33.071 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:33.073 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-13 23:27:33.073 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.073 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.073 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:33.076 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:33.076 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.076 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.077 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.077 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.077 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:33.077 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-13 23:27:33.078 -04:00 [INF] Registrando cliente con los parametros
2020-12-13 23:27:33.166 -04:00 [ERR] Error al registrar al cliente con los parametros
Tienda.SharedKernel.ValueObjects.Rule.OnlyLettersRule: El nombre no puede contener puede contener nmeros
2020-12-13 23:27:33.166 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 89.3013ms.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.166 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:33.167 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:33.167 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:33.167 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:33.167 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:33.167 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:33.167 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:33.167 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2020-12-13 23:27:33.167 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.167 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:33.167 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 98.1951ms
2020-12-13 23:27:33.168 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:33.168 -04:00 [INF] HTTP POST /api/clientes responded 400 in 108.9717 ms
2020-12-13 23:27:33.168 -04:00 [INF] Request finished in 110.0921ms 400 text/plain; charset=utf-8
2020-12-13 23:27:45.924 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes application/json 142
2020-12-13 23:27:45.924 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:45.924 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:45.925 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes'
2020-12-13 23:27:45.925 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes' is valid for the request path '/api/clientes'
2020-12-13 23:27:45.925 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.925 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.925 -04:00 [INF] Route matched with {action = "Registrar", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:45.925 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:45.926 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:45.926 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:45.926 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:45.926 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:45.927 -04:00 [DBG] Attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' using the name '' in request data ...
2020-12-13 23:27:45.927 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:45.927 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'
2020-12-13 23:27:45.927 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.927 -04:00 [DBG] Done attempting to bind parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.927 -04:00 [DBG] Attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand' ...
2020-12-13 23:27:45.928 -04:00 [DBG] Done attempting to validate the bound parameter 'registroClienteCommand' of type 'Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand'.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.928 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.928 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:45.928 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.RegistroCliente.RegistroClienteCommand"])
2020-12-13 23:27:45.928 -04:00 [INF] Registrando cliente con los parametros
2020-12-13 23:27:45.933 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:45.948 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.952 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.954 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.956 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.958 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.958 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:27:45.958 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:27:45.962 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:27:45.962 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.963 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.963 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:27:45.963 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:27:45.964 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:45.964 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:45.964 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:27:45.967 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [email], [password], [apellidos], [nombres])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:27:45.968 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:45.968 -04:00 [DBG] Committing transaction.
2020-12-13 23:27:45.968 -04:00 [DBG] Committed transaction.
2020-12-13 23:27:45.968 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.968 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:45.968 -04:00 [DBG] Disposing transaction.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'Cliente' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'EmailValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PasswordValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] An entity of type 'PersonNameValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:27:45.969 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2020-12-13 23:27:45.969 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.3113ms.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.969 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:45.969 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:45.970 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:45.970 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:45.970 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:45.970 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:45.970 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:45.970 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:27:45.970 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.970 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:45.970 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp) in 44.3191ms
2020-12-13 23:27:45.970 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Registrar (Tienda.Ventas.WebApp)'
2020-12-13 23:27:45.970 -04:00 [INF] HTTP POST /api/clientes responded 200 in 45.6771 ms
2020-12-13 23:27:45.970 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:45.970 -04:00 [INF] Request finished in 46.3896ms 200 text/plain; charset=utf-8
2020-12-13 23:27:49.190 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 67
2020-12-13 23:27:49.190 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:27:49.190 -04:00 [DBG] POST requests are not supported
2020-12-13 23:27:49.190 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-13 23:27:49.190 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-13 23:27:49.190 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.190 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.193 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:27:49.194 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:27:49.194 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:49.194 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:27:49.194 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:27:49.194 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-13 23:27:49.195 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:27:49.196 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-13 23:27:49.196 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.196 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.196 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:27:49.197 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.197 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.197 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:27:49.197 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-13 23:27:49.198 -04:00 [INF] Login con el email
2020-12-13 23:27:49.201 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:27:49.204 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Email.Value.Equals(__email_0) && c.Password.Value.Equals(__password_1))
    .FirstOrDefault()'
2020-12-13 23:27:49.206 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:27:49.207 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:27:49.208 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:27:49.208 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:27:49.219 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE (c.email == @__email_0) && (c.password == @__password_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:27:49.223 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:27:49.223 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:27:49.223 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.223 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.224 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:27:49.226 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:27:49.226 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:27:49.226 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.227 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:27:49.227 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 30.0493ms.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.227 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-13 23:27:49.227 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:27:49.227 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:27:49.227 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:27:49.227 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:27:49.227 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:27:49.227 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:27:49.228 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2020-12-13 23:27:49.228 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.228 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:27:49.228 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 34.0752ms
2020-12-13 23:27:49.228 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:27:49.228 -04:00 [INF] HTTP POST /api/clientes/login responded 404 in 38.3279 ms
2020-12-13 23:27:49.228 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:27:49.228 -04:00 [INF] Request finished in 39.0264ms 404 text/plain; charset=utf-8
2020-12-13 23:28:12.461 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/clientes/login application/json 66
2020-12-13 23:28:12.461 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:12.464 -04:00 [DBG] POST requests are not supported
2020-12-13 23:28:12.464 -04:00 [DBG] 1 candidate(s) found for the request path '/api/clientes/login'
2020-12-13 23:28:12.464 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)' with route pattern 'api/Clientes/login' is valid for the request path '/api/clientes/login'
2020-12-13 23:28:12.464 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.464 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.465 -04:00 [INF] Route matched with {action = "Login", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery) on controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp).
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:12.465 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:12.465 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:28:12.465 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.ClientesController (Tienda.Ventas.WebApp)
2020-12-13 23:28:12.465 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:28:12.465 -04:00 [DBG] Attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' using the name '' in request data ...
2020-12-13 23:28:12.466 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:28:12.466 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to bind parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [DBG] Attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery' ...
2020-12-13 23:28:12.466 -04:00 [DBG] Done attempting to validate the bound parameter 'loginClienteQuery' of type 'Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery'.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.466 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.466 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:12.466 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Cliente.LoginCliente.LoginClienteQuery"])
2020-12-13 23:28:12.466 -04:00 [INF] Login con el email
2020-12-13 23:28:12.475 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:12.476 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:12.476 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:12.476 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.477 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.477 -04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:28:12.482 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE ([c].[email] = @__email_0) AND ([c].[password] = @__password_1)
2020-12-13 23:28:12.483 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.484 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.484 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.485 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:12.486 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:12.486 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.486 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:12.487 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.2943ms.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.487 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:12.487 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:12.487 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:12.487 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:12.487 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:12.487 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:28:12.487 -04:00 [INF] Executing ObjectResult, writing value of type 'Tienda.Ventas.Applicacion.DTO.ClienteDTO'.
2020-12-13 23:28:12.489 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:12.489 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.489 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:12.489 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp) in 24.3181ms
2020-12-13 23:28:12.490 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.ClientesController.Login (Tienda.Ventas.WebApp)'
2020-12-13 23:28:12.490 -04:00 [INF] HTTP POST /api/clientes/login responded 200 in 26.1394 ms
2020-12-13 23:28:12.490 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:12.490 -04:00 [INF] Request finished in 29.4482ms 200 application/json; charset=utf-8
2020-12-13 23:28:48.202 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44388/api/ventas application/json 498
2020-12-13 23:28:48.202 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:48.202 -04:00 [DBG] POST requests are not supported
2020-12-13 23:28:48.203 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas'
2020-12-13 23:28:48.203 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas' is valid for the request path '/api/ventas'
2020-12-13 23:28:48.203 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.203 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.208 -04:00 [INF] Route matched with {action = "InsertVenta", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InsertVenta(Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:48.209 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:48.209 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:48.209 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:48.209 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:28:48.209 -04:00 [DBG] Attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' using the name '' in request data ...
2020-12-13 23:28:48.209 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2020-12-13 23:28:48.217 -04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'
2020-12-13 23:28:48.217 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.217 -04:00 [DBG] Done attempting to bind parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.217 -04:00 [DBG] Attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand' ...
2020-12-13 23:28:48.219 -04:00 [DBG] Done attempting to validate the bound parameter 'insertVentaCommand' of type 'Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand'.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.219 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.219 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:48.220 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) with arguments (["Tienda.Ventas.Applicacion.Features.Venta.InsertVenta.InsertVentaCommand"])
2020-12-13 23:28:48.221 -04:00 [INF] Insertando venta con los parametros
2020-12-13 23:28:48.226 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:48.228 -04:00 [DBG] Compiling query expression: 
'DbSet<Cliente>()
    .Where(c => c.Id.Equals(__ventaDTO_Cliente_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:28:48.229 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:28:48.236 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cliente>(
    asyncEnumerable: new SingleQueryingEnumerable<Cliente>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) c.Id, c.apellidos, c.email, c.nombres, c.password
            FROM Clientes AS c
            WHERE c.Id == @__ventaDTO_Cliente_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cliente>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:48.236 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.236 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.237 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.237 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.237 -04:00 [DBG] Executing DbCommand [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:28:48.239 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ventaDTO_Cliente_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Clientes] AS [c]
WHERE [c].[Id] = @__ventaDTO_Cliente_Id_0
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.240 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.241 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.241 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.241 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.268 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.278 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.282 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.284 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.285 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Where(p => p.Id.Equals(__detalle_Producto_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:48.285 -04:00 [DBG] Including navigation: 'Producto.Nombre'.
2020-12-13 23:28:48.285 -04:00 [DBG] Including navigation: 'Producto.Precio'.
2020-12-13 23:28:48.289 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: new SingleQueryingEnumerable<Producto>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) p.Id, p.urlImagen, p.nombre, p.precio
            FROM Productos AS p
            WHERE p.Id == @__detalle_Producto_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Producto>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:48.290 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.290 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.290 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.290 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.290 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.292 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.292 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.293 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.293 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.309 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.315 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.317 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.320 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.320 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.320 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.320 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.320 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.320 -04:00 [DBG] Executing DbCommand [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.322 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__detalle_Producto_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[urlImagen], [p].[nombre], [p].[precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__detalle_Producto_Id_0
2020-12-13 23:28:48.322 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoNombreValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'ProductoPrecioValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.323 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.323 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.323 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.326 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DetalleVenta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NumMayorACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'DoubleMayorIgualACeroValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.327 -04:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2020-12-13 23:28:48.327 -04:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2020-12-13 23:28:48.336 -04:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2020-12-13 23:28:48.336 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.336 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.336 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-12-13 23:28:48.336 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-12-13 23:28:48.338 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.338 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.339 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.342 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Ventas] ([Id], [ClienteId], [estado], [fechaAnulacion], [fechaCreacion], [fechaFinalizacion])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.342 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.347 -04:00 [DBG] Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
2020-12-13 23:28:48.347 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.347 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.347 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.349 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.349 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.349 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.349 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.350 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.350 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetalleVentas] ([Id], [ProductoId], [VentaId], [precio], [subtotal], [cantidad])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2020-12-13 23:28:48.350 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.350 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:48.350 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:48.350 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:28:48.351 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Facturas] ([Id], [FechaEmision], [VentaId], [nit], [razonSocial])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-12-13 23:28:48.351 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:48.352 -04:00 [DBG] Committing transaction.
2020-12-13 23:28:48.352 -04:00 [DBG] Committed transaction.
2020-12-13 23:28:48.352 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.352 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:48.352 -04:00 [DBG] Disposing transaction.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'Venta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'Factura' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NITValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'RazonSocialValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DetalleVenta' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'NumMayorACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] An entity of type 'DoubleMayorIgualACeroValue' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:48.354 -04:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 4 entities written to the database.
2020-12-13 23:28:48.355 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 135.1736ms.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.355 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:48.355 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:48.355 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:48.355 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:48.355 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:48.355 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2020-12-13 23:28:48.355 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-12-13 23:28:48.356 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:48.356 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.356 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:48.356 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp) in 147.3323ms
2020-12-13 23:28:48.356 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.InsertVenta (Tienda.Ventas.WebApp)'
2020-12-13 23:28:48.356 -04:00 [INF] HTTP POST /api/ventas responded 200 in 153.7324 ms
2020-12-13 23:28:48.357 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:48.357 -04:00 [INF] Request finished in 154.6349ms 200 text/plain; charset=utf-8
2020-12-13 23:28:54.451 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44388/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF  
2020-12-13 23:28:54.451 -04:00 [VRB] All hosts are allowed.
2020-12-13 23:28:54.452 -04:00 [DBG] The request path /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF does not match a supported file type
2020-12-13 23:28:54.452 -04:00 [DBG] 1 candidate(s) found for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 23:28:54.452 -04:00 [DBG] Endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)' with route pattern 'api/Ventas/historial/{clienteID}' is valid for the request path '/api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF'
2020-12-13 23:28:54.452 -04:00 [DBG] Request matched endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.452 -04:00 [INF] Executing endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.455 -04:00 [INF] Route matched with {action = "GetHistorialVentaByClienteId", controller = "Ventas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistorialVentaByClienteId(System.String) on controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp).
2020-12-13 23:28:54.455 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-12-13 23:28:54.455 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-12-13 23:28:54.456 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-12-13 23:28:54.456 -04:00 [DBG] Executing controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:54.456 -04:00 [DBG] Executed controller factory for controller Tienda.Ventas.WebApp.Controllers.VentasController (Tienda.Ventas.WebApp)
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' ...
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to bind parameter 'clienteID' of type 'System.String' using the name 'clienteID' in request data ...
2020-12-13 23:28:54.456 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.456 -04:00 [DBG] Done attempting to bind parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.456 -04:00 [DBG] Attempting to validate the bound parameter 'clienteID' of type 'System.String' ...
2020-12-13 23:28:54.457 -04:00 [DBG] Done attempting to validate the bound parameter 'clienteID' of type 'System.String'.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.457 -04:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.457 -04:00 [INF] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) - Validation state: "Valid"
2020-12-13 23:28:54.457 -04:00 [VRB] Executing action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) with arguments (["D227C4CA-0D82-475C-832D-DC74151630CF"])
2020-12-13 23:28:54.458 -04:00 [INF] Obteniendo historial de ventas del ID 
2020-12-13 23:28:54.463 -04:00 [INF] Entity Framework Core 5.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Tienda.Ventas.Infraestructura, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2020-12-13 23:28:54.466 -04:00 [DBG] Compiling query expression: 
'DbSet<Venta>()
    .Include(x => x.Cliente)
    .Where(v => v.Cliente.Id.Equals(__clienteID_0))'
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Venta.Cliente'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Apellidos'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Email'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Nombres'.
2020-12-13 23:28:54.472 -04:00 [DBG] Including navigation: 'Cliente.Password'.
2020-12-13 23:28:54.495 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venta>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion, c.Id, c.apellidos, c.email, c.nombres, c.password
        FROM Ventas AS v
        LEFT JOIN Clientes AS c ON v.ClienteId == c.Id
        WHERE c.Id == @__clienteID_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venta>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:28:54.496 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.496 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.496 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.496 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.497 -04:00 [DBG] Executing DbCommand [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 23:28:54.499 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clienteID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion], [c].[Id], [c].[apellidos], [c].[email], [c].[nombres], [c].[password]
FROM [Ventas] AS [v]
LEFT JOIN [Clientes] AS [c] ON [v].[ClienteId] = [c].[Id]
WHERE [c].[Id] = @__clienteID_0
2020-12-13 23:28:54.502 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.502 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'EmailValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PersonNameValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'PasswordValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.503 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Venta' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.504 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.504 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.504 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.504 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(c => c.Venta)
    .Where(f => f.Venta.Id.Equals(__venta_Id_0))
    .FirstOrDefault()'
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.NIT'.
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.RazonSocial'.
2020-12-13 23:28:54.505 -04:00 [DBG] Including navigation: 'Factura.Venta'.
2020-12-13 23:28:54.512 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: new SingleQueryingEnumerable<Factura>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) f.Id, f.FechaEmision, f.VentaId, f.nit, f.razonSocial, v.Id, v.ClienteId, v.estado, v.fechaAnulacion, v.fechaCreacion, v.fechaFinalizacion
            FROM Facturas AS f
            LEFT JOIN Ventas AS v ON f.VentaId == v.Id
            WHERE v.Id == @__venta_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Factura>, 
        Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2020-12-13 23:28:54.512 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.512 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.512 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.512 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.512 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.514 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.514 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.515 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.516 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.516 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.516 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.516 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.519 -04:00 [DBG] Compiling query expression: 
'DbSet<DetalleVenta>()
    .Include(x => x.Venta)
    .Where(d => d.Venta.Id.Equals(__venta_Id_0))
    .Select(x => new DetalleVentaDTO{ 
        Cantidad = x.Cantidad.Value, 
        Precio = x.Precio.Value, 
        Subtotal = x.Subtotal.Value, 
        Producto = new ProductoDTO(
            x.Producto.Id, 
            x.Producto.Nombre.Value, 
            x.Producto.Precio.Value, 
            x.Producto.UrlImagen
        ) 
    }
    )'
2020-12-13 23:28:54.528 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetalleVentaDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT d.cantidad, d.precio, d.subtotal, p.Id, p.nombre, p.precio, p.urlImagen
        FROM DetalleVentas AS d
        LEFT JOIN Ventas AS v ON d.VentaId == v.Id
        LEFT JOIN Productos AS p ON d.ProductoId == p.Id
        WHERE v.Id == @__venta_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetalleVentaDTO>, 
    Tienda.Ventas.Infraestructura.Persistence.ApplicationDbContext, 
    False, 
    False
)'
2020-12-13 23:28:54.528 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.528 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.529 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.529 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.529 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.531 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.532 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.532 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.532 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.532 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.532 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.533 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.533 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.534 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.534 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.534 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.535 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.535 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.535 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.536 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.536 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.536 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.536 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.536 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.536 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.537 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[FechaEmision], [f].[VentaId], [f].[nit], [f].[razonSocial], [v].[Id], [v].[ClienteId], [v].[estado], [v].[fechaAnulacion], [v].[fechaCreacion], [v].[fechaFinalizacion]
FROM [Facturas] AS [f]
LEFT JOIN [Ventas] AS [v] ON [f].[VentaId] = [v].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'NITValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] Context 'ApplicationDbContext' started tracking 'RazonSocialValue' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-12-13 23:28:54.537 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.537 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.537 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-12-13 23:28:54.538 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-12-13 23:28:54.538 -04:00 [DBG] Opening connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Opened connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.538 -04:00 [DBG] Executing DbCommand [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.538 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__venta_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[cantidad], [d].[precio], [d].[subtotal], [p].[Id], [p].[nombre], [p].[precio], [p].[urlImagen]
FROM [DetalleVentas] AS [d]
LEFT JOIN [Ventas] AS [v] ON [d].[VentaId] = [v].[Id]
LEFT JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Id]
WHERE [v].[Id] = @__venta_Id_0
2020-12-13 23:28:54.538 -04:00 [DBG] A data reader was disposed.
2020-12-13 23:28:54.538 -04:00 [DBG] Closing connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.539 -04:00 [DBG] Closed connection to database 'TiendaVentas' on server '.'.
2020-12-13 23:28:54.539 -04:00 [INF] Executed action method Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.9727ms.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.539 -04:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:54.539 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-12-13 23:28:54.539 -04:00 [DBG] No information found on request to perform content negotiation.
2020-12-13 23:28:54.539 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-12-13 23:28:54.539 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-12-13 23:28:54.539 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-12-13 23:28:54.539 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Tienda.Ventas.Applicacion.DTO.VentaDTO, Tienda.Ventas.Applicacion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-12-13 23:28:54.543 -04:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-12-13 23:28:54.543 -04:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.543 -04:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-12-13 23:28:54.544 -04:00 [INF] Executed action Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp) in 87.7346ms
2020-12-13 23:28:54.544 -04:00 [INF] Executed endpoint 'Tienda.Ventas.WebApp.Controllers.VentasController.GetHistorialVentaByClienteId (Tienda.Ventas.WebApp)'
2020-12-13 23:28:54.544 -04:00 [INF] HTTP GET /api/ventas/historial/D227C4CA-0D82-475C-832D-DC74151630CF responded 200 in 92.0834 ms
2020-12-13 23:28:54.544 -04:00 [DBG] 'ApplicationDbContext' disposed.
2020-12-13 23:28:54.544 -04:00 [INF] Request finished in 92.5696ms 200 application/json; charset=utf-8
